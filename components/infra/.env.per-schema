# Per-schema shared infrastructure environment
# This file configures a single shared database instance for per-schema multi-tenant mode
#
# Usage:
#   docker compose --env-file .env.per-schema -f docker-compose.per-schema.yml up -d

ENV_NAME=per-schema

# DB POSTGRESQL PRIMARY AND REPLICA
DB_HOST=midaz-postgres-schema-primary
DB_USER=midaz
DB_PASSWORD=lerian
DB_PORT=5721
MAX_CONNECTIONS=3000
SHARED_BUFFERS=1GB

DB_REPLICA_HOST=midaz-postgres-schema-replica
DB_REPLICA_USER=midaz
DB_REPLICA_PASSWORD=lerian
DB_REPLICA_PORT=5722

REPLICATION_USER=replicator
REPLICATION_PASSWORD=replicator_password
USER_EXECUTE_COMMAND=postgres

# MONGO DB
MONGO_HOST=midaz-mongodb-schema
MONGO_USER=midaz
MONGO_PASSWORD=lerian
MONGO_PORT=5723

# REDIS (using shared instance from main docker-compose)
REDIS_HOST=midaz-valkey
REDIS_PORT=5704
REDIS_USER=midaz
REDIS_PASSWORD=lerian
