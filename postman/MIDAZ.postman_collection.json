{
  "info": {
    "name": "MIDAZ",
    "description": "This is a swagger documentation for the Midaz Ledger API\n\n**IMPORTANT**: This collection requires the **MIDAZ Environment** to be selected for proper functionality. Please ensure you have imported and selected the MIDAZ environment before using this collection.",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "version": "v1.48.0",
    "_postman_id": "00b3869d-895d-49b2-a6b5-68b193471560"
  },
  "item": [
    {
      "name": "Complete API Workflow",
      "description": "A sequence of API calls representing a typical workflow, generated from WORKFLOW.md.",
      "item": [
        {
          "name": "1. Create Organization",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations"
              ]
            },
            "description": "**Workflow Step 1: Create Organization**\n\nCreates a new organization in the system",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"address\": {\n    \"city\": \"New York\",\n    \"country\": \"US\",\n    \"line1\": \"123 Financial Avenue\",\n    \"line2\": \"Suite 1500\",\n    \"state\": \"NY\",\n    \"zipCode\": \"10001\"\n  },\n  \"doingBusinessAs\": \"Lerian FS\",\n  \"legalDocument\": \"123456789012345\",\n  \"legalName\": \"Lerian Financial Services Ltd.\",\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"parentOrganizationId\": null,\n  \"status\": {\n    \"code\": \"ACTIVE\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "2a710f21-2cad-428d-9e6c-833641c6ec5c",
                "exec": [
                  "\n// ===== STEP 1: Create Organization =====\nconsole.log(\"ğŸ” Executing Step 1: Create Organization\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_1_start\", Date.now());\n\npm.test(\"âœ… Status: POST request successful (200/201)\", function () {\n    pm.expect(pm.response.code).to.be.oneOf([200, 201]);\n    if (pm.response.code === 201) {\n        console.log(\"âœ… Resource created successfully\");\n    } else {\n        console.log(\"âœ… POST operation completed successfully\");\n    }\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_1\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});\n\npm.test(\"ğŸ¢ Business Logic: Organization has required fields\", function() {\n    const jsonData = pm.response.json();\n    const requestData = JSON.parse(pm.request.body.raw || '{}');\n    \n    // Required fields validation\n    pm.expect(jsonData).to.have.property('id');\n    pm.expect(jsonData).to.have.property('legalName');\n    pm.expect(jsonData).to.have.property('status');\n    pm.expect(jsonData).to.have.property('createdAt');\n    pm.expect(jsonData).to.have.property('updatedAt');\n    \n    // UUID format validation\n    const uuidRegex = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\n    pm.expect(jsonData.id).to.match(uuidRegex, \"Organization ID should be a valid UUID\");\n    \n    // ISO timestamp format validation\n    const isoTimestampRegex = /^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$/;\n    pm.expect(jsonData.createdAt).to.match(isoTimestampRegex, \"Organization createdAt should be ISO timestamp\");\n    pm.expect(jsonData.updatedAt).to.match(isoTimestampRegex, \"Organization updatedAt should be ISO timestamp\");\n    \n    // Data consistency validation\n    if (requestData.legalName) {\n        pm.expect(jsonData.legalName).to.equal(requestData.legalName, \"Response legalName should match request\");\n    }\n    \n    // Store organization ID for subsequent requests\n    pm.environment.set(\"organizationId\", jsonData.id);\n    \n    console.log(\"ğŸ¢ Organization creation validation passed:\", jsonData.legalName);\n    console.log(\"âœ… Required fields verified, UUID and timestamp validation completed\");\n    console.log(\"ğŸ’¾ Stored organizationId:\", jsonData.id);\n});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "6539b697-dd57-4922-a916-404953b3aee2",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP 1: Create Organization =====\nconsole.log(\"âš™ï¸ Setting up Step 1: Create Organization\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_1_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step 1\");\n"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_matchInfo": {
            "originalPath": "/v1/organizations",
            "normalizedPath": "/v1/organizations",
            "folderPath": "Organizations",
            "matchedTargetPath": "/v1/organizations"
          }
        },
        {
          "name": "2. Get Organization",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                }
              ]
            },
            "description": "**Workflow Step 2: Get Organization**\n\nRetrieves the organization details\n\n---\n\n**Uses:**\n- `organizationId`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "14d9eec5-7c74-4549-a220-e8ad94d586e6",
                "exec": [
                  "\n// ===== STEP 2: Get Organization =====\nconsole.log(\"ğŸ” Executing Step 2: Get Organization\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_2_start\", Date.now());\n\npm.test(\"âœ… Status: GET request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… GET operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_2\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "cb0254aa-1ff7-406e-a51a-b92b358d8812",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP 2: Get Organization =====\nconsole.log(\"âš™ï¸ Setting up Step 2: Get Organization\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_2_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step 2\");\n"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_matchInfo": {
            "originalPath": "/v1/organizations/{{organizationId}}",
            "normalizedPath": "/v1/organizations/{}",
            "folderPath": "Organizations",
            "matchedTargetPath": "/v1/organizations/{}"
          }
        },
        {
          "name": "3. Update Organization",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                }
              ]
            },
            "description": "**Workflow Step 3: Update Organization**\n\nUpdates organization details\n\n---\n\n**Uses:**\n- `organizationId`\n",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"address\": {\n    \"city\": \"New York\",\n    \"country\": \"US\",\n    \"line1\": \"123 Financial Avenue\",\n    \"line2\": \"Suite 1500\",\n    \"state\": \"NY\",\n    \"zipCode\": \"10001\"\n  },\n  \"doingBusinessAs\": \"Lerian Group\",\n  \"legalName\": \"Lerian Financial Group Ltd.\",\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"parentOrganizationId\": null,\n  \"status\": {\n    \"code\": \"ACTIVE\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "e5e24bb7-bdac-454e-b663-099704ee5f46",
                "exec": [
                  "\n// ===== STEP 3: Update Organization =====\nconsole.log(\"ğŸ” Executing Step 3: Update Organization\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_3_start\", Date.now());\n\npm.test(\"âœ… Status: PATCH request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… PATCH operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_3\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "e994f778-c080-4d25-9c0f-f3ca9352fa59",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP 3: Update Organization =====\nconsole.log(\"âš™ï¸ Setting up Step 3: Update Organization\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_3_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step 3\");\n"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_matchInfo": {
            "originalPath": "/v1/organizations/{{organizationId}}",
            "normalizedPath": "/v1/organizations/{}",
            "folderPath": "Organizations",
            "matchedTargetPath": "/v1/organizations/{}"
          }
        },
        {
          "name": "4. List Organizations",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations"
              ],
              "query": [
                {
                  "key": "metadata",
                  "value": "",
                  "description": "JSON string to filter organizations by metadata fields",
                  "disabled": true
                },
                {
                  "key": "limit",
                  "value": "",
                  "description": "Maximum number of records to return per page",
                  "disabled": true
                },
                {
                  "key": "page",
                  "value": "",
                  "description": "Page number for pagination",
                  "disabled": true
                },
                {
                  "key": "start_date",
                  "value": "",
                  "description": "Filter organizations created on or after this date (format: YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "end_date",
                  "value": "",
                  "description": "Filter organizations created on or before this date (format: YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "sort_order",
                  "value": "",
                  "description": "Sort direction for results based on creation date",
                  "disabled": true
                }
              ]
            },
            "description": "**Workflow Step 4: List Organizations**\n\nLists all organizations"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "e734bfc3-acd7-411d-988f-814132b3d77f",
                "exec": [
                  "\n// ===== STEP 4: List Organizations =====\nconsole.log(\"ğŸ” Executing Step 4: List Organizations\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_4_start\", Date.now());\n\npm.test(\"âœ… Status: GET request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… GET operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_4\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "6f3252be-a0e2-469a-bab0-42b7d652c19c",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP 4: List Organizations =====\nconsole.log(\"âš™ï¸ Setting up Step 4: List Organizations\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_4_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step 4\");\n"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_matchInfo": {
            "originalPath": "/v1/organizations",
            "normalizedPath": "/v1/organizations",
            "folderPath": "Organizations",
            "matchedTargetPath": "/v1/organizations"
          }
        },
        {
          "name": "5. Create Ledger",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                }
              ]
            },
            "description": "**Workflow Step 5: Create Ledger**\n\nCreates a new ledger within the organization\n\n---\n\n**Uses:**\n- `organizationId`\n",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"name\": \"Example name\",\n  \"status\": {\n    \"code\": \"ACTIVE\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "bd6c133a-970a-4929-9d5a-28f3503dad7c",
                "exec": [
                  "\n// ===== STEP 5: Create Ledger =====\nconsole.log(\"ğŸ” Executing Step 5: Create Ledger\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_5_start\", Date.now());\n\npm.test(\"âœ… Status: POST request successful (200/201)\", function () {\n    pm.expect(pm.response.code).to.be.oneOf([200, 201]);\n    if (pm.response.code === 201) {\n        console.log(\"âœ… Resource created successfully\");\n    } else {\n        console.log(\"âœ… POST operation completed successfully\");\n    }\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_5\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});\n\npm.test(\"ğŸ“’ Business Logic: Ledger has required fields\", function() {\n    // Only validate if response was successful\n    if (pm.response.code !== 200 && pm.response.code !== 201) {\n        console.log(\"âš ï¸ Skipping ledger validation - response code:\", pm.response.code);\n        pm.test.skip();\n        return;\n    }\n    \n    const jsonData = pm.response.json();\n    const requestData = JSON.parse(pm.request.body.raw || '{}');\n    \n    // Required fields validation\n    pm.expect(jsonData).to.have.property('id');\n    pm.expect(jsonData).to.have.property('name');\n    pm.expect(jsonData).to.have.property('status');\n    pm.expect(jsonData).to.have.property('createdAt');\n    pm.expect(jsonData).to.have.property('updatedAt');\n    \n    // UUID format validation\n    const uuidRegex = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\n    pm.expect(jsonData.id).to.match(uuidRegex, \"Ledger ID should be a valid UUID\");\n    \n    // ISO timestamp format validation\n    const isoTimestampRegex = /^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$/;\n    pm.expect(jsonData.createdAt).to.match(isoTimestampRegex, \"Ledger createdAt should be ISO timestamp\");\n    pm.expect(jsonData.updatedAt).to.match(isoTimestampRegex, \"Ledger updatedAt should be ISO timestamp\");\n    \n    // Store ledger ID for subsequent requests\n    pm.environment.set(\"ledgerId\", jsonData.id);\n    \n    console.log(\"ğŸ“’ Ledger creation validation passed:\", jsonData.name);\n    console.log(\"âœ… Required fields verified, UUID and timestamp validation completed\");\n    console.log(\"ğŸ’¾ Stored ledgerId:\", jsonData.id);\n});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "e4d01de1-2064-4d27-a451-f6d6969f247e",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP 5: Create Ledger =====\nconsole.log(\"âš™ï¸ Setting up Step 5: Create Ledger\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_5_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step 5\");\n"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_matchInfo": {
            "originalPath": "/v1/organizations/{{organizationId}}/ledgers",
            "normalizedPath": "/v1/organizations/{}/ledgers",
            "folderPath": "Ledgers",
            "matchedTargetPath": "/v1/organizations/{}/ledgers"
          }
        },
        {
          "name": "6. Get Ledger",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ]
            },
            "description": "**Workflow Step 6: Get Ledger**\n\nRetrieves the ledger details\n\n---\n\n**Uses:**\n- `organizationId`\n- `ledgerId`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "2f5a5689-f158-45d0-a70e-62dfc35f8a8c",
                "exec": [
                  "\n// ===== STEP 6: Get Ledger =====\nconsole.log(\"ğŸ” Executing Step 6: Get Ledger\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_6_start\", Date.now());\n\npm.test(\"âœ… Status: GET request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… GET operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_6\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "8cf65cee-b385-46e7-9e56-aaf76b716215",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP 6: Get Ledger =====\nconsole.log(\"âš™ï¸ Setting up Step 6: Get Ledger\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_6_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step 6\");\n"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_matchInfo": {
            "originalPath": "/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}",
            "normalizedPath": "/v1/organizations/{}/ledgers/{}",
            "folderPath": "Ledgers",
            "matchedTargetPath": "/v1/organizations/{}/ledgers/{}"
          }
        },
        {
          "name": "7. Update Ledger",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ]
            },
            "description": "**Workflow Step 7: Update Ledger**\n\nUpdates ledger details\n\n---\n\n**Uses:**\n- `organizationId`\n- `ledgerId`\n",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"name\": \"Treasury Operations Global\",\n  \"status\": {\n    \"code\": \"ACTIVE\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "62542d46-c190-48be-a351-be4b357ed039",
                "exec": [
                  "\n// ===== STEP 7: Update Ledger =====\nconsole.log(\"ğŸ” Executing Step 7: Update Ledger\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_7_start\", Date.now());\n\npm.test(\"âœ… Status: PATCH request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… PATCH operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_7\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "65473006-43eb-4ade-8e59-6de5f27a7370",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP 7: Update Ledger =====\nconsole.log(\"âš™ï¸ Setting up Step 7: Update Ledger\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_7_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step 7\");\n"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_matchInfo": {
            "originalPath": "/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}",
            "normalizedPath": "/v1/organizations/{}/ledgers/{}",
            "folderPath": "Ledgers",
            "matchedTargetPath": "/v1/organizations/{}/ledgers/{}"
          }
        },
        {
          "name": "8. List Ledgers",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                }
              ],
              "query": [
                {
                  "key": "metadata",
                  "value": "",
                  "description": "JSON string to filter ledgers by metadata fields",
                  "disabled": true
                },
                {
                  "key": "limit",
                  "value": "",
                  "description": "Maximum number of records to return per page",
                  "disabled": true
                },
                {
                  "key": "page",
                  "value": "",
                  "description": "Page number for pagination",
                  "disabled": true
                },
                {
                  "key": "start_date",
                  "value": "",
                  "description": "Filter ledgers created on or after this date (format: YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "end_date",
                  "value": "",
                  "description": "Filter ledgers created on or before this date (format: YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "sort_order",
                  "value": "",
                  "description": "Sort direction for results based on creation date",
                  "disabled": true
                }
              ]
            },
            "description": "**Workflow Step 8: List Ledgers**\n\nLists all ledgers in the organization\n\n---\n\n**Uses:**\n- `organizationId`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "ab44e7a2-c0e1-4531-b4ae-4786e5549450",
                "exec": [
                  "\n// ===== STEP 8: List Ledgers =====\nconsole.log(\"ğŸ” Executing Step 8: List Ledgers\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_8_start\", Date.now());\n\npm.test(\"âœ… Status: GET request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… GET operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_8\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "e7f4581c-9c60-42ec-bdc1-72002c4dcdc4",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP 8: List Ledgers =====\nconsole.log(\"âš™ï¸ Setting up Step 8: List Ledgers\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_8_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step 8\");\n"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_matchInfo": {
            "originalPath": "/v1/organizations/{{organizationId}}/ledgers",
            "normalizedPath": "/v1/organizations/{}/ledgers",
            "folderPath": "Ledgers",
            "matchedTargetPath": "/v1/organizations/{}/ledgers"
          }
        },
        {
          "name": "9. Create Asset",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/assets",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "assets"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ]
            },
            "description": "**Workflow Step 9: Create Asset**\n\nCreates a new asset (e.g., USD) in the ledger\n\n---\n\n**Uses:**\n- `organizationId`\n- `ledgerId`\n",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"code\": \"USD\",\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"name\": \"US Dollar\",\n  \"status\": {\n    \"code\": \"ACTIVE\"\n  },\n  \"type\": \"currency\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "bf5573fe-8692-4156-8de4-bb751bd2226c",
                "exec": [
                  "\n// ===== STEP 9: Create Asset =====\nconsole.log(\"ğŸ” Executing Step 9: Create Asset\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_9_start\", Date.now());\n\npm.test(\"âœ… Status: POST request successful (200/201)\", function () {\n    pm.expect(pm.response.code).to.be.oneOf([200, 201]);\n    if (pm.response.code === 201) {\n        console.log(\"âœ… Resource created successfully\");\n    } else {\n        console.log(\"âœ… POST operation completed successfully\");\n    }\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_9\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});\n\npm.test(\"ğŸ’° Business Logic: Asset has required fields\", function() {\n    // Only validate if response was successful\n    if (pm.response.code !== 200 && pm.response.code !== 201) {\n        console.log(\"âš ï¸ Skipping asset validation - response code:\", pm.response.code);\n        pm.test.skip();\n        return;\n    }\n    \n    const jsonData = pm.response.json();\n    const requestData = JSON.parse(pm.request.body.raw || '{}');\n    \n    // Required fields validation\n    pm.expect(jsonData).to.have.property('id');\n    pm.expect(jsonData).to.have.property('name');\n    pm.expect(jsonData).to.have.property('code');\n    pm.expect(jsonData).to.have.property('status');\n    pm.expect(jsonData).to.have.property('createdAt');\n    pm.expect(jsonData).to.have.property('updatedAt');\n    \n    // UUID format validation\n    const uuidRegex = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\n    pm.expect(jsonData.id).to.match(uuidRegex, \"Asset ID should be a valid UUID\");\n    \n    // ISO timestamp format validation\n    const isoTimestampRegex = /^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$/;\n    pm.expect(jsonData.createdAt).to.match(isoTimestampRegex, \"Asset createdAt should be ISO timestamp\");\n    pm.expect(jsonData.updatedAt).to.match(isoTimestampRegex, \"Asset updatedAt should be ISO timestamp\");\n    \n    // Store asset ID for subsequent requests\n    pm.environment.set(\"assetId\", jsonData.id);\n    \n    console.log(\"ğŸ’° Asset creation validation passed:\", jsonData.name);\n    console.log(\"âœ… Required fields verified, UUID and timestamp validation completed\");\n    console.log(\"ğŸ’¾ Stored assetId:\", jsonData.id);\n});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "cc856dc0-bfaf-4284-9707-8a634e2f5072",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP 9: Create Asset =====\nconsole.log(\"âš™ï¸ Setting up Step 9: Create Asset\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_9_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step 9\");\n"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_matchInfo": {
            "originalPath": "/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/assets",
            "normalizedPath": "/v1/organizations/{}/ledgers/{}/assets",
            "folderPath": "Assets",
            "matchedTargetPath": "/v1/organizations/{}/ledgers/{}/assets"
          }
        },
        {
          "name": "10. Get Asset",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/assets/{{assetId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "assets",
                "{{assetId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{assetId}}",
                  "description": "Asset ID in UUID format"
                }
              ]
            },
            "description": "**Workflow Step 10: Get Asset**\n\nRetrieves the asset details\n\n---\n\n**Uses:**\n- `organizationId`\n- `ledgerId`\n- `assetId`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "a35f93a1-0d3a-4304-bae6-d593735114e8",
                "exec": [
                  "\n// ===== STEP 10: Get Asset =====\nconsole.log(\"ğŸ” Executing Step 10: Get Asset\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_10_start\", Date.now());\n\npm.test(\"âœ… Status: GET request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… GET operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_10\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "bae26c1b-a617-4c72-aa27-6f4430e0f530",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP 10: Get Asset =====\nconsole.log(\"âš™ï¸ Setting up Step 10: Get Asset\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_10_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step 10\");\n"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_matchInfo": {
            "originalPath": "/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/assets/{{assetId}}",
            "normalizedPath": "/v1/organizations/{}/ledgers/{}/assets/{}",
            "folderPath": "Assets",
            "matchedTargetPath": "/v1/organizations/{}/ledgers/{}/assets/{}"
          }
        },
        {
          "name": "11. Update Asset",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/assets/{{assetId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "assets",
                "{{assetId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{assetId}}",
                  "description": "Asset ID in UUID format"
                }
              ]
            },
            "description": "**Workflow Step 11: Update Asset**\n\nUpdates asset details\n\n---\n\n**Uses:**\n- `organizationId`\n- `ledgerId`\n- `assetId`\n",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"name\": \"Bitcoin\",\n  \"status\": {\n    \"code\": \"ACTIVE\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "f416ece0-4d46-41f5-91d7-f55812ce49dd",
                "exec": [
                  "\n// ===== STEP 11: Update Asset =====\nconsole.log(\"ğŸ” Executing Step 11: Update Asset\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_11_start\", Date.now());\n\npm.test(\"âœ… Status: PATCH request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… PATCH operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_11\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "b27a41d3-1d24-4736-b1c5-75e32266fdb6",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP 11: Update Asset =====\nconsole.log(\"âš™ï¸ Setting up Step 11: Update Asset\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_11_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step 11\");\n"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_matchInfo": {
            "originalPath": "/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/assets/{{assetId}}",
            "normalizedPath": "/v1/organizations/{}/ledgers/{}/assets/{}",
            "folderPath": "Assets",
            "matchedTargetPath": "/v1/organizations/{}/ledgers/{}/assets/{}"
          }
        },
        {
          "name": "12. List Assets",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/assets",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "assets"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ],
              "query": [
                {
                  "key": "metadata",
                  "value": "",
                  "description": "JSON string to filter assets by metadata fields",
                  "disabled": true
                },
                {
                  "key": "limit",
                  "value": "",
                  "description": "Maximum number of records to return per page",
                  "disabled": true
                },
                {
                  "key": "page",
                  "value": "",
                  "description": "Page number for pagination",
                  "disabled": true
                },
                {
                  "key": "start_date",
                  "value": "",
                  "description": "Filter assets created on or after this date (format: YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "end_date",
                  "value": "",
                  "description": "Filter assets created on or before this date (format: YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "sort_order",
                  "value": "",
                  "description": "Sort direction for results based on creation date",
                  "disabled": true
                }
              ]
            },
            "description": "**Workflow Step 12: List Assets**\n\nLists all assets in the ledger\n\n---\n\n**Uses:**\n- `organizationId`\n- `ledgerId`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "8aeb6023-ef0f-4a70-aec0-7c003d9a0150",
                "exec": [
                  "\n// ===== STEP 12: List Assets =====\nconsole.log(\"ğŸ” Executing Step 12: List Assets\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_12_start\", Date.now());\n\npm.test(\"âœ… Status: GET request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… GET operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_12\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "d7a0d177-6052-49c7-acbc-51ee984fdeac",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP 12: List Assets =====\nconsole.log(\"âš™ï¸ Setting up Step 12: List Assets\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_12_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step 12\");\n"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_matchInfo": {
            "originalPath": "/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/assets",
            "normalizedPath": "/v1/organizations/{}/ledgers/{}/assets",
            "folderPath": "Assets",
            "matchedTargetPath": "/v1/organizations/{}/ledgers/{}/assets"
          }
        },
        {
          "name": "13. Create Account",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "accounts"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ]
            },
            "description": "**Workflow Step 13: Create Account**\n\nCreates a new account in the ledger\n\n---\n\n**Uses:**\n- `organizationId`\n- `ledgerId`\n",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"alias\": \"@treasury_checking\",\n  \"assetCode\": \"USD\",\n  \"entityId\": \"EXT-ACC-12345\",\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"name\": \"Corporate Checking Account\",\n  \"parentAccountId\": null,\n  \"portfolioId\": null,\n  \"segmentId\": null,\n  \"status\": {\n    \"code\": \"ACTIVE\"\n  },\n  \"type\": \"deposit\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "eabe6a20-27af-4aa9-a535-d4fbeabb2a0d",
                "exec": [
                  "\n// ===== STEP 13: Create Account =====\nconsole.log(\"ğŸ” Executing Step 13: Create Account\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_13_start\", Date.now());\n\npm.test(\"âœ… Status: POST request successful (200/201)\", function () {\n    pm.expect(pm.response.code).to.be.oneOf([200, 201]);\n    if (pm.response.code === 201) {\n        console.log(\"âœ… Resource created successfully\");\n    } else {\n        console.log(\"âœ… POST operation completed successfully\");\n    }\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_13\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});\n\npm.test(\"ğŸ‘¤ Business Logic: Account has required fields\", function() {\n    // Only validate if response was successful\n    if (pm.response.code !== 200 && pm.response.code !== 201) {\n        console.log(\"âš ï¸ Skipping account validation - response code:\", pm.response.code);\n        pm.test.skip();\n        return;\n    }\n    \n    const jsonData = pm.response.json();\n    const requestData = JSON.parse(pm.request.body.raw || '{}');\n    \n    // Required fields validation\n    pm.expect(jsonData).to.have.property('id');\n    pm.expect(jsonData).to.have.property('name');\n    pm.expect(jsonData).to.have.property('status');\n    pm.expect(jsonData).to.have.property('createdAt');\n    pm.expect(jsonData).to.have.property('updatedAt');\n    \n    // UUID format validation\n    const uuidRegex = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\n    pm.expect(jsonData.id).to.match(uuidRegex, \"Account ID should be a valid UUID\");\n    \n    // ISO timestamp format validation\n    const isoTimestampRegex = /^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$/;\n    pm.expect(jsonData.createdAt).to.match(isoTimestampRegex, \"Account createdAt should be ISO timestamp\");\n    pm.expect(jsonData.updatedAt).to.match(isoTimestampRegex, \"Account updatedAt should be ISO timestamp\");\n    \n    // Store account ID and alias for subsequent requests\n    pm.environment.set(\"accountId\", jsonData.id);\n    if (jsonData.alias) {\n        pm.environment.set(\"accountAlias\", jsonData.alias);\n        console.log(\"ğŸ’¾ Stored accountAlias:\", jsonData.alias);\n    }\n    \n    console.log(\"ğŸ‘¤ Account creation validation passed:\", jsonData.name);\n    console.log(\"âœ… Required fields verified, UUID and timestamp validation completed\");\n    console.log(\"ğŸ’¾ Stored accountId:\", jsonData.id);\n});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "eb5414fd-79ef-4b88-975a-ac6d3a95da39",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP 13: Create Account =====\nconsole.log(\"âš™ï¸ Setting up Step 13: Create Account\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_13_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step 13\");\n"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_matchInfo": {
            "originalPath": "/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts",
            "normalizedPath": "/v1/organizations/{}/ledgers/{}/accounts",
            "folderPath": "Accounts",
            "matchedTargetPath": "/v1/organizations/{}/ledgers/{}/accounts"
          }
        },
        {
          "name": "14. Get Account",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts/{{accountId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "accounts",
                "{{accountId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{accountId}}",
                  "description": "Account ID in UUID format"
                }
              ]
            },
            "description": "**Workflow Step 14: Get Account**\n\nRetrieves the account details\n\n---\n\n**Uses:**\n- `organizationId`\n- `ledgerId`\n- `accountId`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "8bff3f6a-7106-426b-841b-491d4f3679ea",
                "exec": [
                  "\n// ===== STEP 14: Get Account =====\nconsole.log(\"ğŸ” Executing Step 14: Get Account\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_14_start\", Date.now());\n\npm.test(\"âœ… Status: GET request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… GET operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_14\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "3418ec8c-081e-480a-9e05-5fa0cb279aff",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP 14: Get Account =====\nconsole.log(\"âš™ï¸ Setting up Step 14: Get Account\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_14_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step 14\");\n"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_matchInfo": {
            "originalPath": "/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts/{{accountId}}",
            "normalizedPath": "/v1/organizations/{}/ledgers/{}/accounts/{}",
            "folderPath": "Accounts",
            "matchedTargetPath": "/v1/organizations/{}/ledgers/{}/accounts/{}"
          }
        },
        {
          "name": "15. Update Account",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts/{{accountId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "accounts",
                "{{accountId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{accountId}}",
                  "description": "Account ID in UUID format"
                }
              ]
            },
            "description": "**Workflow Step 15: Update Account**\n\nUpdates account details\n\n---\n\n**Uses:**\n- `organizationId`\n- `ledgerId`\n- `accountId`\n",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"entityId\": \"EXT-ACC-12345\",\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"name\": \"Primary Corporate Checking Account\",\n  \"portfolioId\": null,\n  \"segmentId\": null,\n  \"status\": {\n    \"code\": \"ACTIVE\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "3762a01c-26f5-4e86-9986-9a2781445ada",
                "exec": [
                  "\n// ===== STEP 15: Update Account =====\nconsole.log(\"ğŸ” Executing Step 15: Update Account\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_15_start\", Date.now());\n\npm.test(\"âœ… Status: PATCH request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… PATCH operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_15\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "6005c629-1695-4c31-9fe8-8a0ef1cf66cf",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP 15: Update Account =====\nconsole.log(\"âš™ï¸ Setting up Step 15: Update Account\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_15_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step 15\");\n"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_matchInfo": {
            "originalPath": "/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts/{{accountId}}",
            "normalizedPath": "/v1/organizations/{}/ledgers/{}/accounts/{}",
            "folderPath": "Accounts",
            "matchedTargetPath": "/v1/organizations/{}/ledgers/{}/accounts/{}"
          }
        },
        {
          "name": "16. List Accounts",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "accounts"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ],
              "query": [
                {
                  "key": "metadata",
                  "value": "",
                  "description": "JSON string to filter accounts by metadata fields",
                  "disabled": true
                },
                {
                  "key": "limit",
                  "value": "",
                  "description": "Maximum number of records to return per page",
                  "disabled": true
                },
                {
                  "key": "page",
                  "value": "",
                  "description": "Page number for pagination",
                  "disabled": true
                },
                {
                  "key": "start_date",
                  "value": "",
                  "description": "Filter accounts created on or after this date (format: YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "end_date",
                  "value": "",
                  "description": "Filter accounts created on or before this date (format: YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "sort_order",
                  "value": "",
                  "description": "Sort direction for results based on creation date",
                  "disabled": true
                }
              ]
            },
            "description": "**Workflow Step 16: List Accounts**\n\nLists all accounts in the ledger\n\n---\n\n**Uses:**\n- `organizationId`\n- `ledgerId`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "705e7316-501c-4f14-8d8f-97a7cc65a4e4",
                "exec": [
                  "\n// ===== STEP 16: List Accounts =====\nconsole.log(\"ğŸ” Executing Step 16: List Accounts\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_16_start\", Date.now());\n\npm.test(\"âœ… Status: GET request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… GET operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_16\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "72e194a8-9013-444e-8a59-623c4fac8296",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP 16: List Accounts =====\nconsole.log(\"âš™ï¸ Setting up Step 16: List Accounts\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_16_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step 16\");\n"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_matchInfo": {
            "originalPath": "/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts",
            "normalizedPath": "/v1/organizations/{}/ledgers/{}/accounts",
            "folderPath": "Accounts",
            "matchedTargetPath": "/v1/organizations/{}/ledgers/{}/accounts"
          }
        },
        {
          "name": "17. Create Portfolio",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/portfolios",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "portfolios"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ]
            },
            "description": "**Workflow Step 17: Create Portfolio**\n\nCreates a new portfolio in the ledger\n\n---\n\n**Uses:**\n- `organizationId`\n- `ledgerId`\n",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"entityId\": \"00000000-0000-0000-0000-000000000000\",\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"name\": \"My Portfolio\",\n  \"status\": {\n    \"code\": \"ACTIVE\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "cef40294-ab3b-4c27-8762-95e1bd83957a",
                "exec": [
                  "\n// ===== STEP 17: Create Portfolio =====\nconsole.log(\"ğŸ” Executing Step 17: Create Portfolio\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_17_start\", Date.now());\n\npm.test(\"âœ… Status: POST request successful (200/201)\", function () {\n    pm.expect(pm.response.code).to.be.oneOf([200, 201]);\n    if (pm.response.code === 201) {\n        console.log(\"âœ… Resource created successfully\");\n    } else {\n        console.log(\"âœ… POST operation completed successfully\");\n    }\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_17\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});\n\npm.test(\"ğŸ“ Business Logic: Portfolio has required fields\", function() {\n    // Only validate if response was successful\n    if (pm.response.code !== 200 && pm.response.code !== 201) {\n        console.log(\"âš ï¸ Skipping portfolio validation - response code:\", pm.response.code);\n        pm.test.skip();\n        return;\n    }\n    \n    const jsonData = pm.response.json();\n    const requestData = JSON.parse(pm.request.body.raw || '{}');\n    \n    // Required fields validation\n    pm.expect(jsonData).to.have.property('id');\n    pm.expect(jsonData).to.have.property('name');\n    pm.expect(jsonData).to.have.property('status');\n    pm.expect(jsonData).to.have.property('createdAt');\n    pm.expect(jsonData).to.have.property('updatedAt');\n    \n    // UUID format validation\n    const uuidRegex = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\n    pm.expect(jsonData.id).to.match(uuidRegex, \"Portfolio ID should be a valid UUID\");\n    \n    // ISO timestamp format validation\n    const isoTimestampRegex = /^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$/;\n    pm.expect(jsonData.createdAt).to.match(isoTimestampRegex, \"Portfolio createdAt should be ISO timestamp\");\n    pm.expect(jsonData.updatedAt).to.match(isoTimestampRegex, \"Portfolio updatedAt should be ISO timestamp\");\n    \n    // Store portfolio ID for subsequent requests\n    pm.environment.set(\"portfolioId\", jsonData.id);\n    \n    console.log(\"ğŸ“ Portfolio creation validation passed:\", jsonData.name);\n    console.log(\"âœ… Required fields verified, UUID and timestamp validation completed\");\n    console.log(\"ğŸ’¾ Stored portfolioId:\", jsonData.id);\n});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "16d31a09-15d0-4574-b68a-b34dcc47aa95",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP 17: Create Portfolio =====\nconsole.log(\"âš™ï¸ Setting up Step 17: Create Portfolio\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_17_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step 17\");\n"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_matchInfo": {
            "originalPath": "/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/portfolios",
            "normalizedPath": "/v1/organizations/{}/ledgers/{}/portfolios",
            "folderPath": "Portfolios",
            "matchedTargetPath": "/v1/organizations/{}/ledgers/{}/portfolios"
          }
        },
        {
          "name": "18. Get Portfolio",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/portfolios/{{portfolioId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "portfolios",
                "{{portfolioId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{portfolioId}}",
                  "description": "Portfolio ID in UUID format"
                }
              ]
            },
            "description": "**Workflow Step 18: Get Portfolio**\n\nRetrieves the portfolio details\n\n---\n\n**Uses:**\n- `organizationId`\n- `ledgerId`\n- `portfolioId`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "570854da-0654-4470-b2e6-1eb35524d7b4",
                "exec": [
                  "\n// ===== STEP 18: Get Portfolio =====\nconsole.log(\"ğŸ” Executing Step 18: Get Portfolio\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_18_start\", Date.now());\n\npm.test(\"âœ… Status: GET request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… GET operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_18\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "c1ac968c-fd20-46b5-824d-4250c923a61d",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP 18: Get Portfolio =====\nconsole.log(\"âš™ï¸ Setting up Step 18: Get Portfolio\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_18_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step 18\");\n"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_matchInfo": {
            "originalPath": "/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/portfolios/{{portfolioId}}",
            "normalizedPath": "/v1/organizations/{}/ledgers/{}/portfolios/{}",
            "folderPath": "Portfolios",
            "matchedTargetPath": "/v1/organizations/{}/ledgers/{}/portfolios/{}"
          }
        },
        {
          "name": "19. Update Portfolio",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/portfolios/{{portfolioId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "portfolios",
                "{{portfolioId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{portfolioId}}",
                  "description": "Portfolio ID in UUID format"
                }
              ]
            },
            "description": "**Workflow Step 19: Update Portfolio**\n\nUpdates portfolio details\n\n---\n\n**Uses:**\n- `organizationId`\n- `ledgerId`\n- `portfolioId`\n",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"entityId\": \"00000000-0000-0000-0000-000000000000\",\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"name\": \"My Portfolio Updated\",\n  \"status\": {\n    \"code\": \"ACTIVE\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "7eec96db-03eb-4635-bf8c-66db58ce0e7d",
                "exec": [
                  "\n// ===== STEP 19: Update Portfolio =====\nconsole.log(\"ğŸ” Executing Step 19: Update Portfolio\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_19_start\", Date.now());\n\npm.test(\"âœ… Status: PATCH request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… PATCH operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_19\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "1b084ffb-1cef-41f6-ac99-ce20dadfcfc8",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP 19: Update Portfolio =====\nconsole.log(\"âš™ï¸ Setting up Step 19: Update Portfolio\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_19_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step 19\");\n"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_matchInfo": {
            "originalPath": "/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/portfolios/{{portfolioId}}",
            "normalizedPath": "/v1/organizations/{}/ledgers/{}/portfolios/{}",
            "folderPath": "Portfolios",
            "matchedTargetPath": "/v1/organizations/{}/ledgers/{}/portfolios/{}"
          }
        },
        {
          "name": "20. List Portfolios",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/portfolios",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "portfolios"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ],
              "query": [
                {
                  "key": "metadata",
                  "value": "",
                  "description": "JSON string to filter portfolios by metadata fields",
                  "disabled": true
                },
                {
                  "key": "limit",
                  "value": "",
                  "description": "Maximum number of records to return per page",
                  "disabled": true
                },
                {
                  "key": "page",
                  "value": "",
                  "description": "Page number for pagination",
                  "disabled": true
                },
                {
                  "key": "start_date",
                  "value": "",
                  "description": "Filter portfolios created on or after this date (format: YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "end_date",
                  "value": "",
                  "description": "Filter portfolios created on or before this date (format: YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "sort_order",
                  "value": "",
                  "description": "Sort direction for results based on creation date",
                  "disabled": true
                }
              ]
            },
            "description": "**Workflow Step 20: List Portfolios**\n\nLists all portfolios in the ledger\n\n---\n\n**Uses:**\n- `organizationId`\n- `ledgerId`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "e3cd403a-1b2f-4fa9-8604-34643c5a7b9a",
                "exec": [
                  "\n// ===== STEP 20: List Portfolios =====\nconsole.log(\"ğŸ” Executing Step 20: List Portfolios\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_20_start\", Date.now());\n\npm.test(\"âœ… Status: GET request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… GET operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_20\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "79116d56-7d88-43d2-9885-9193b0da670c",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP 20: List Portfolios =====\nconsole.log(\"âš™ï¸ Setting up Step 20: List Portfolios\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_20_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step 20\");\n"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_matchInfo": {
            "originalPath": "/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/portfolios",
            "normalizedPath": "/v1/organizations/{}/ledgers/{}/portfolios",
            "folderPath": "Portfolios",
            "matchedTargetPath": "/v1/organizations/{}/ledgers/{}/portfolios"
          }
        },
        {
          "name": "21. Create Segment",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/segments",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "segments"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ]
            },
            "description": "**Workflow Step 21: Create Segment**\n\nCreates a new segment in the ledger\n\n---\n\n**Uses:**\n- `organizationId`\n- `ledgerId`\n",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"name\": \"My Segment\",\n  \"status\": {\n    \"code\": \"ACTIVE\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "9b29b750-bff2-4af4-ad9a-3d2699ac0119",
                "exec": [
                  "\n// ===== STEP 21: Create Segment =====\nconsole.log(\"ğŸ” Executing Step 21: Create Segment\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_21_start\", Date.now());\n\npm.test(\"âœ… Status: POST request successful (200/201)\", function () {\n    pm.expect(pm.response.code).to.be.oneOf([200, 201]);\n    if (pm.response.code === 201) {\n        console.log(\"âœ… Resource created successfully\");\n    } else {\n        console.log(\"âœ… POST operation completed successfully\");\n    }\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_21\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});\n\npm.test(\"ğŸ·ï¸ Business Logic: Segment has required fields\", function() {\n    // Only validate if response was successful\n    if (pm.response.code !== 200 && pm.response.code !== 201) {\n        console.log(\"âš ï¸ Skipping segment validation - response code:\", pm.response.code);\n        pm.test.skip();\n        return;\n    }\n    \n    const jsonData = pm.response.json();\n    const requestData = JSON.parse(pm.request.body.raw || '{}');\n    \n    // Required fields validation\n    pm.expect(jsonData).to.have.property('id');\n    pm.expect(jsonData).to.have.property('name');\n    pm.expect(jsonData).to.have.property('status');\n    pm.expect(jsonData).to.have.property('createdAt');\n    pm.expect(jsonData).to.have.property('updatedAt');\n    \n    // UUID format validation\n    const uuidRegex = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\n    pm.expect(jsonData.id).to.match(uuidRegex, \"Segment ID should be a valid UUID\");\n    \n    // ISO timestamp format validation\n    const isoTimestampRegex = /^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$/;\n    pm.expect(jsonData.createdAt).to.match(isoTimestampRegex, \"Segment createdAt should be ISO timestamp\");\n    pm.expect(jsonData.updatedAt).to.match(isoTimestampRegex, \"Segment updatedAt should be ISO timestamp\");\n    \n    // Store segment ID for subsequent requests\n    pm.environment.set(\"segmentId\", jsonData.id);\n    \n    console.log(\"ğŸ·ï¸ Segment creation validation passed:\", jsonData.name);\n    console.log(\"âœ… Required fields verified, UUID and timestamp validation completed\");\n    console.log(\"ğŸ’¾ Stored segmentId:\", jsonData.id);\n});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "04c09cbb-dc0e-4b24-8b70-2ed67a04e24c",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP 21: Create Segment =====\nconsole.log(\"âš™ï¸ Setting up Step 21: Create Segment\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_21_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step 21\");\n"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_matchInfo": {
            "originalPath": "/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/segments",
            "normalizedPath": "/v1/organizations/{}/ledgers/{}/segments",
            "folderPath": "Segments",
            "matchedTargetPath": "/v1/organizations/{}/ledgers/{}/segments"
          }
        },
        {
          "name": "22. Get Segment",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/segments/{{segmentId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "segments",
                "{{segmentId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{segmentId}}",
                  "description": "Segment ID in UUID format"
                }
              ]
            },
            "description": "**Workflow Step 22: Get Segment**\n\nRetrieves the segment details\n\n---\n\n**Uses:**\n- `organizationId`\n- `ledgerId`\n- `segmentId`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "26ce91ed-0a88-4853-b745-ce73e168a80c",
                "exec": [
                  "\n// ===== STEP 22: Get Segment =====\nconsole.log(\"ğŸ” Executing Step 22: Get Segment\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_22_start\", Date.now());\n\npm.test(\"âœ… Status: GET request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… GET operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_22\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "c07b1227-2f9b-4c80-ae95-9439f75eb7b9",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP 22: Get Segment =====\nconsole.log(\"âš™ï¸ Setting up Step 22: Get Segment\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_22_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step 22\");\n"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_matchInfo": {
            "originalPath": "/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/segments/{{segmentId}}",
            "normalizedPath": "/v1/organizations/{}/ledgers/{}/segments/{}",
            "folderPath": "Segments",
            "matchedTargetPath": "/v1/organizations/{}/ledgers/{}/segments/{}"
          }
        },
        {
          "name": "23. Update Segment",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/segments/{{segmentId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "segments",
                "{{segmentId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{segmentId}}",
                  "description": "Segment ID in UUID format"
                }
              ]
            },
            "description": "**Workflow Step 23: Update Segment**\n\nUpdates segment details\n\n---\n\n**Uses:**\n- `organizationId`\n- `ledgerId`\n- `segmentId`\n",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"name\": \"My Segment Updated\",\n  \"status\": {\n    \"code\": \"ACTIVE\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "59d91394-59e0-4acf-a1a7-ab2f912ee7c4",
                "exec": [
                  "\n// ===== STEP 23: Update Segment =====\nconsole.log(\"ğŸ” Executing Step 23: Update Segment\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_23_start\", Date.now());\n\npm.test(\"âœ… Status: PATCH request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… PATCH operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_23\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "7f7ead64-a76c-409a-a34c-61197514f446",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP 23: Update Segment =====\nconsole.log(\"âš™ï¸ Setting up Step 23: Update Segment\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_23_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step 23\");\n"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_matchInfo": {
            "originalPath": "/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/segments/{{segmentId}}",
            "normalizedPath": "/v1/organizations/{}/ledgers/{}/segments/{}",
            "folderPath": "Segments",
            "matchedTargetPath": "/v1/organizations/{}/ledgers/{}/segments/{}"
          }
        },
        {
          "name": "24. List Segments",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/segments",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "segments"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ],
              "query": [
                {
                  "key": "metadata",
                  "value": "",
                  "description": "JSON string to filter segments by metadata fields",
                  "disabled": true
                },
                {
                  "key": "limit",
                  "value": "",
                  "description": "Maximum number of records to return per page",
                  "disabled": true
                },
                {
                  "key": "page",
                  "value": "",
                  "description": "Page number for pagination",
                  "disabled": true
                },
                {
                  "key": "start_date",
                  "value": "",
                  "description": "Filter segments created on or after this date (format: YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "end_date",
                  "value": "",
                  "description": "Filter segments created on or before this date (format: YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "sort_order",
                  "value": "",
                  "description": "Sort direction for results based on creation date",
                  "disabled": true
                }
              ]
            },
            "description": "**Workflow Step 24: List Segments**\n\nLists all segments in the ledger\n\n---\n\n**Uses:**\n- `organizationId`\n- `ledgerId`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "909e817f-0344-499e-80e8-b1c0ec4b9542",
                "exec": [
                  "\n// ===== STEP 24: List Segments =====\nconsole.log(\"ğŸ” Executing Step 24: List Segments\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_24_start\", Date.now());\n\npm.test(\"âœ… Status: GET request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… GET operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_24\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "390f01ae-7be6-4092-82a8-8f930d9e9f53",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP 24: List Segments =====\nconsole.log(\"âš™ï¸ Setting up Step 24: List Segments\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_24_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step 24\");\n"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_matchInfo": {
            "originalPath": "/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/segments",
            "normalizedPath": "/v1/organizations/{}/ledgers/{}/segments",
            "folderPath": "Segments",
            "matchedTargetPath": "/v1/organizations/{}/ledgers/{}/segments"
          }
        },
        {
          "name": "25. Count Organizations",
          "request": {
            "method": "HEAD",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/metrics/count",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "metrics",
                "count"
              ]
            },
            "description": "**Workflow Step 25: Count Organizations**\n\nReturns 204 No Content with X-Total-Count header containing the count"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "0157ade4-a652-4fec-bc8e-6374ccc90039",
                "exec": [
                  "\n// ===== STEP 25: Count Organizations =====\nconsole.log(\"ğŸ” Executing Step 25: Count Organizations\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_25_start\", Date.now());\n\npm.test(\"âœ… Status: HEAD request successful (204)\", function () {\n    pm.expect(pm.response.code).to.equal(204);\n    console.log(\"âœ… HEAD operation completed successfully - Count: \" + pm.response.headers.get(\"X-Total-Count\"));\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_25\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "a2adfa9b-816c-46a0-ad5b-7b9e7af070c2",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP 25: Count Organizations =====\nconsole.log(\"âš™ï¸ Setting up Step 25: Count Organizations\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_25_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step 25\");\n"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_matchInfo": {
            "originalPath": "/v1/organizations/metrics/count",
            "normalizedPath": "/v1/organizations/metrics/count",
            "folderPath": "Organizations",
            "matchedTargetPath": "/v1/organizations/metrics/count"
          }
        },
        {
          "name": "26. Count Ledgers",
          "request": {
            "method": "HEAD",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/metrics/count",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "metrics",
                "count"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                }
              ]
            },
            "description": "**Workflow Step 26: Count Ledgers**\n\nReturns 204 No Content with X-Total-Count header containing the count\n\n---\n\n**Uses:**\n- `organizationId`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "2ec5555f-e261-4beb-873d-24caf8ced525",
                "exec": [
                  "\n// ===== STEP 26: Count Ledgers =====\nconsole.log(\"ğŸ” Executing Step 26: Count Ledgers\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_26_start\", Date.now());\n\npm.test(\"âœ… Status: HEAD request successful (204)\", function () {\n    pm.expect(pm.response.code).to.equal(204);\n    console.log(\"âœ… HEAD operation completed successfully - Count: \" + pm.response.headers.get(\"X-Total-Count\"));\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_26\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "8af1ba32-34c2-4568-a7f9-21375a08053d",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP 26: Count Ledgers =====\nconsole.log(\"âš™ï¸ Setting up Step 26: Count Ledgers\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_26_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step 26\");\n"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_matchInfo": {
            "originalPath": "/v1/organizations/{{organizationId}}/ledgers/metrics/count",
            "normalizedPath": "/v1/organizations/{}/ledgers/metrics/count",
            "folderPath": "Ledgers",
            "matchedTargetPath": "/v1/organizations/{}/ledgers/metrics/count"
          }
        },
        {
          "name": "27. Count Accounts",
          "request": {
            "method": "HEAD",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts/metrics/count",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "accounts",
                "metrics",
                "count"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ]
            },
            "description": "**Workflow Step 27: Count Accounts**\n\nReturns 204 No Content with X-Total-Count header containing the count\n\n---\n\n**Uses:**\n- `organizationId`\n- `ledgerId`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "b966b698-3b43-463b-9254-7f81a9dce2c1",
                "exec": [
                  "\n// ===== STEP 27: Count Accounts =====\nconsole.log(\"ğŸ” Executing Step 27: Count Accounts\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_27_start\", Date.now());\n\npm.test(\"âœ… Status: HEAD request successful (204)\", function () {\n    pm.expect(pm.response.code).to.equal(204);\n    console.log(\"âœ… HEAD operation completed successfully - Count: \" + pm.response.headers.get(\"X-Total-Count\"));\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_27\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "4cde9fdc-58f5-497c-b212-0c86724d4c9b",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP 27: Count Accounts =====\nconsole.log(\"âš™ï¸ Setting up Step 27: Count Accounts\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_27_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step 27\");\n"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_matchInfo": {
            "originalPath": "/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts/metrics/count",
            "normalizedPath": "/v1/organizations/{}/ledgers/{}/accounts/metrics/count",
            "folderPath": "Accounts",
            "matchedTargetPath": "/v1/organizations/{}/ledgers/{}/accounts/metrics/count"
          }
        },
        {
          "name": "28. Count Assets",
          "request": {
            "method": "HEAD",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/assets/metrics/count",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "assets",
                "metrics",
                "count"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ]
            },
            "description": "**Workflow Step 28: Count Assets**\n\nReturns 204 No Content with X-Total-Count header containing the count\n\n---\n\n**Uses:**\n- `organizationId`\n- `ledgerId`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "1e7294a6-b1c4-4290-adf3-f8d20d3201fd",
                "exec": [
                  "\n// ===== STEP 28: Count Assets =====\nconsole.log(\"ğŸ” Executing Step 28: Count Assets\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_28_start\", Date.now());\n\npm.test(\"âœ… Status: HEAD request successful (204)\", function () {\n    pm.expect(pm.response.code).to.equal(204);\n    console.log(\"âœ… HEAD operation completed successfully - Count: \" + pm.response.headers.get(\"X-Total-Count\"));\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_28\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "027df7d2-746f-4122-b313-9c187e3d60a4",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP 28: Count Assets =====\nconsole.log(\"âš™ï¸ Setting up Step 28: Count Assets\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_28_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step 28\");\n"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_matchInfo": {
            "originalPath": "/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/assets/metrics/count",
            "normalizedPath": "/v1/organizations/{}/ledgers/{}/assets/metrics/count",
            "folderPath": "Assets",
            "matchedTargetPath": "/v1/organizations/{}/ledgers/{}/assets/metrics/count"
          }
        },
        {
          "name": "29. Count Portfolios",
          "request": {
            "method": "HEAD",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/portfolios/metrics/count",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "portfolios",
                "metrics",
                "count"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ]
            },
            "description": "**Workflow Step 29: Count Portfolios**\n\nReturns 204 No Content with X-Total-Count header containing the count\n\n---\n\n**Uses:**\n- `organizationId`\n- `ledgerId`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "e0711314-558c-456f-a8a0-8c3fe6ac90af",
                "exec": [
                  "\n// ===== STEP 29: Count Portfolios =====\nconsole.log(\"ğŸ” Executing Step 29: Count Portfolios\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_29_start\", Date.now());\n\npm.test(\"âœ… Status: HEAD request successful (204)\", function () {\n    pm.expect(pm.response.code).to.equal(204);\n    console.log(\"âœ… HEAD operation completed successfully - Count: \" + pm.response.headers.get(\"X-Total-Count\"));\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_29\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "e711e46f-3809-45bf-91f7-f78d4c655868",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP 29: Count Portfolios =====\nconsole.log(\"âš™ï¸ Setting up Step 29: Count Portfolios\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_29_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step 29\");\n"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_matchInfo": {
            "originalPath": "/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/portfolios/metrics/count",
            "normalizedPath": "/v1/organizations/{}/ledgers/{}/portfolios/metrics/count",
            "folderPath": "Portfolios",
            "matchedTargetPath": "/v1/organizations/{}/ledgers/{}/portfolios/metrics/count"
          }
        },
        {
          "name": "30. Count Segments",
          "request": {
            "method": "HEAD",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/segments/metrics/count",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "segments",
                "metrics",
                "count"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ]
            },
            "description": "**Workflow Step 30: Count Segments**\n\nReturns 204 No Content with X-Total-Count header containing the count\n\n---\n\n**Uses:**\n- `organizationId`\n- `ledgerId`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "00fa4641-96b9-4b65-a0d4-e4d09f905176",
                "exec": [
                  "\n// ===== STEP 30: Count Segments =====\nconsole.log(\"ğŸ” Executing Step 30: Count Segments\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_30_start\", Date.now());\n\npm.test(\"âœ… Status: HEAD request successful (204)\", function () {\n    pm.expect(pm.response.code).to.equal(204);\n    console.log(\"âœ… HEAD operation completed successfully - Count: \" + pm.response.headers.get(\"X-Total-Count\"));\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_30\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "12b0dec4-6296-459d-a970-6231afd735a4",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP 30: Count Segments =====\nconsole.log(\"âš™ï¸ Setting up Step 30: Count Segments\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_30_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step 30\");\n"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_matchInfo": {
            "originalPath": "/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/segments/metrics/count",
            "normalizedPath": "/v1/organizations/{}/ledgers/{}/segments/metrics/count",
            "folderPath": "Segments",
            "matchedTargetPath": "/v1/organizations/{}/ledgers/{}/segments/metrics/count"
          }
        },
        {
          "name": "31. Get Account by Alias",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts/alias/{{accountAlias}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "accounts",
                "alias",
                "{{accountAlias}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "alias",
                  "value": "",
                  "description": "Account alias (e.g. @person1)"
                }
              ]
            },
            "description": "**Workflow Step 31: Get Account by Alias**\n\nRetrieves an account using its alias\n\n---\n\n**Uses:**\n- `organizationId`\n- `ledgerId`\n- `accountAlias`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "ad54b1a0-6db4-4d6c-b397-de8563f99575",
                "exec": [
                  "\n// ===== STEP 31: Get Account by Alias =====\nconsole.log(\"ğŸ” Executing Step 31: Get Account by Alias\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_31_start\", Date.now());\n\npm.test(\"âœ… Status: GET request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… GET operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_31\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "d0b27dcd-098c-4787-8405-91708a2ae456",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP 31: Get Account by Alias =====\nconsole.log(\"âš™ï¸ Setting up Step 31: Get Account by Alias\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_31_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step 31\");\n"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_matchInfo": {
            "originalPath": "/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts/alias/{{accountAlias}}",
            "normalizedPath": "/v1/organizations/{}/ledgers/{}/accounts/alias/{}",
            "folderPath": "Accounts",
            "matchedTargetPath": "/v1/organizations/{}/ledgers/{}/accounts/alias/{}"
          }
        },
        {
          "name": "32. Get Account by External Code",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts/external/{{externalCode}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "accounts",
                "external",
                "{{externalCode}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "code",
                  "value": "",
                  "description": "Account External Code (e.g. BRL)"
                }
              ]
            },
            "description": "**Workflow Step 32: Get Account by External Code**\n\nRetrieves an account using external code\n\n---\n\n**Uses:**\n- `organizationId`\n- `ledgerId`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "43edc556-c45a-4836-8757-2f6c22b6de9f",
                "exec": [
                  "\n// ===== STEP 32: Get Account by External Code =====\nconsole.log(\"ğŸ” Executing Step 32: Get Account by External Code\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_32_start\", Date.now());\n\npm.test(\"âœ… Status: GET request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… GET operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_32\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "517545b3-6bea-4344-abe1-0433b3af3072",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP 32: Get Account by External Code =====\nconsole.log(\"âš™ï¸ Setting up Step 32: Get Account by External Code\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_32_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step 32\");\n"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_matchInfo": {
            "originalPath": "/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts/external/{{externalCode}}",
            "normalizedPath": "/v1/organizations/{}/ledgers/{}/accounts/external/{}",
            "folderPath": "Accounts",
            "matchedTargetPath": "/v1/organizations/{}/ledgers/{}/accounts/external/{}"
          }
        },
        {
          "name": "33. Create Transaction",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              },
              {
                "key": "X-Idempotency",
                "value": "{{idempotencyKey}}",
                "description": "Unique key to prevent duplicate transactions",
                "disabled": false
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/transactions/json",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "transactions",
                "json"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                }
              ]
            },
            "description": "**Workflow Step 33: Create Transaction**\n\nCreates a new transaction in the ledger\n\n---\n\n**Uses:**\n- `organizationId`\n- `ledgerId`\n- `accountAlias`\n",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"chartOfAccountsGroupName\": \"Example chartOfAccountsGroupName\",\n  \"code\": \"Example code\",\n  \"description\": \"Example description\",\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"send\": {\n    \"asset\": \"USD\",\n    \"distribute\": {\n      \"to\": [\n        {\n          \"accountAlias\": \"{{accountAlias}}\",\n          \"amount\": {\n            \"asset\": \"USD\",\n            \"value\": \"100.00\"\n          },\n          \"chartOfAccounts\": \"Example chartOfAccounts\",\n          \"description\": \"Example description\",\n          \"metadata\": {\n            \"key\": \"value\"\n          }\n        }\n      ]\n    },\n    \"source\": {\n      \"from\": [\n        {\n          \"accountAlias\": \"@external/USD\",\n          \"amount\": {\n            \"asset\": \"USD\",\n            \"value\": \"100.00\"\n          },\n          \"chartOfAccounts\": \"Example chartOfAccounts\",\n          \"description\": \"Example description\",\n          \"metadata\": {\n            \"key\": \"value\"\n          }\n        }\n      ]\n    },\n    \"value\": \"100.00\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "d812799d-9f01-4694-8fd8-6e89f3d60589",
                "exec": [
                  "\n// ===== STEP 33: Create Transaction =====\nconsole.log(\"ğŸ” Executing Step 33: Create Transaction\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_33_start\", Date.now());\n\npm.test(\"âœ… Status: POST request successful (200/201)\", function () {\n    pm.expect(pm.response.code).to.be.oneOf([200, 201]);\n    if (pm.response.code === 201) {\n        console.log(\"âœ… Resource created successfully\");\n    } else {\n        console.log(\"âœ… POST operation completed successfully\");\n    }\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_33\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});\n\npm.test(\"ğŸ’¸ Business Logic: Transaction has required fields\", function() {\n    // Only validate if response was successful\n    if (pm.response.code !== 200 && pm.response.code !== 201) {\n        console.log(\"âš ï¸ Skipping transaction validation - response code:\", pm.response.code);\n        pm.test.skip();\n        return;\n    }\n    \n    const jsonData = pm.response.json();\n    \n    // Required fields validation\n    pm.expect(jsonData).to.have.property('id');\n    pm.expect(jsonData).to.have.property('status');\n    pm.expect(jsonData).to.have.property('createdAt');\n    pm.expect(jsonData).to.have.property('updatedAt');\n    \n    // UUID format validation\n    const uuidRegex = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\n    pm.expect(jsonData.id).to.match(uuidRegex, \"Transaction ID should be a valid UUID\");\n    \n    // ISO timestamp format validation\n    const isoTimestampRegex = /^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$/;\n    pm.expect(jsonData.createdAt).to.match(isoTimestampRegex, \"Transaction createdAt should be ISO timestamp\");\n    pm.expect(jsonData.updatedAt).to.match(isoTimestampRegex, \"Transaction updatedAt should be ISO timestamp\");\n    \n    // Determine transaction type and set appropriate variable names\n    const currentUrl = pm.request.url.toString();\n    let varPrefix = \"\";\n    \n    if (currentUrl.includes(\"/transactions/json\")) {\n        varPrefix = \"\"; // Standard transaction - use original variable names\n    } else if (currentUrl.includes(\"/transactions/dsl\")) {\n        varPrefix = \"dsl\"; // DSL transaction\n    } else if (currentUrl.includes(\"/transactions/inflow\")) {\n        varPrefix = \"inflow\"; // Inflow transaction\n    } else if (currentUrl.includes(\"/transactions/outflow\")) {\n        varPrefix = \"outflow\"; // Outflow transaction\n    }\n    \n    // Store transaction ID with appropriate prefix\n    const transactionIdVar = varPrefix ? varPrefix + \"TransactionId\" : \"transactionId\";\n    const operationIdVar = varPrefix ? varPrefix + \"OperationId\" : \"operationId\";\n    const balanceIdVar = varPrefix ? varPrefix + \"BalanceId\" : \"balanceId\";\n    const accountIdVar = varPrefix ? varPrefix + \"AccountId\" : \"accountId\";\n    \n    pm.environment.set(transactionIdVar, jsonData.id);\n    console.log(\"ğŸ’¾ Stored \" + transactionIdVar + \":\", jsonData.id);\n    \n    // Extract operation and balance IDs if available\n    if (jsonData.operations && jsonData.operations.length > 0) {\n        // Find the user operation (non-external account) first\n        const userOperation = jsonData.operations.find(op => \n            op.accountAlias && !op.accountAlias.startsWith(\"@external/\")  \n        ) || jsonData.operations[0]; // fallback to first operation if no user account found\n        \n        // Extract operation ID from the user operation (not external account)\n        if (userOperation && userOperation.id) {\n            pm.environment.set(operationIdVar, userOperation.id);\n            console.log(\"ğŸ’¾ Stored \" + operationIdVar + \" from user account:\", userOperation.id);\n            console.log(\"    Operation belongs to account:\", userOperation.accountAlias || userOperation.accountId);\n        } else {\n            // Fallback to first operation if no user operation found\n            pm.environment.set(operationIdVar, jsonData.operations[0].id);\n            console.log(\"âš ï¸ Stored \" + operationIdVar + \" from first operation (might be external):\", jsonData.operations[0].id);\n        }\n        \n        // Extract and store accountId - prefer non-external accounts\n        if (userOperation && userOperation.accountId) {\n            // Only store if we do not already have an accountId (preserve treasury account ID)\n            const existingAccountId = pm.environment.get(\"accountId\");\n            if (!existingAccountId) {\n                pm.environment.set(accountIdVar, userOperation.accountId);\n                console.log(\"ğŸ’¾ Stored \" + accountIdVar + \":\", userOperation.accountId);\n            } else {\n                console.log(\"âš ï¸ Preserving existing accountId:\", existingAccountId, \"(not overwriting with:\", userOperation.accountId + \")\");\n            }\n        }\n        \n        // Extract balance ID from user operation as well\n        if (userOperation && userOperation.balanceId) {\n            pm.environment.set(balanceIdVar, userOperation.balanceId);\n            console.log(\"ğŸ’¾ Stored \" + balanceIdVar + \" from user account:\", userOperation.balanceId);\n        } else if (jsonData.operations[0].balanceId) {\n            pm.environment.set(balanceIdVar, jsonData.operations[0].balanceId);\n            console.log(\"âš ï¸ Stored \" + balanceIdVar + \" from first operation (might be external):\", jsonData.operations[0].balanceId);\n        }\n    }\n    \n    console.log(\"ğŸ’¸ Transaction creation validation passed:\", jsonData.id);\n    console.log(\"âœ… Required fields verified, UUID and timestamp validation completed\");\n});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "b16fa49d-6e37-4933-9e11-cca243e51635",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP 33: Create Transaction =====\nconsole.log(\"âš™ï¸ Setting up Step 33: Create Transaction\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_33_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step 33\");\n"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_matchInfo": {
            "originalPath": "/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/transactions/json",
            "normalizedPath": "/v1/organizations/{}/ledgers/{}/transactions/json",
            "folderPath": "Transactions",
            "matchedTargetPath": "/v1/organizations/{}/ledgers/{}/transactions/json"
          }
        },
        {
          "name": "34. Create Transaction (Inflow)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/transactions/inflow",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "transactions",
                "inflow"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                }
              ]
            },
            "description": "**Workflow Step 34: Create Transaction (Inflow)**\n\nCreates an inflow transaction (money coming in)\n\n---\n\n**Uses:**\n- `organizationId`\n- `ledgerId`\n- `accountAlias`\n",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"chartOfAccountsGroupName\": \"Example chartOfAccountsGroupName\",\n  \"code\": \"Example code\",\n  \"description\": \"Example description\",\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"send\": {\n    \"asset\": \"USD\",\n    \"distribute\": {\n      \"to\": [\n        {\n          \"accountAlias\": \"{{accountAlias}}\",\n          \"amount\": {\n            \"asset\": \"USD\",\n            \"value\": \"100.00\"\n          },\n          \"chartOfAccounts\": \"Example chartOfAccounts\",\n          \"description\": \"Example description\",\n          \"metadata\": {\n            \"key\": \"value\"\n          }\n        }\n      ]\n    },\n    \"value\": \"100.00\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "323b6def-2a98-4c86-868a-793b84a97b57",
                "exec": [
                  "\n// ===== STEP 34: Create Transaction (Inflow) =====\nconsole.log(\"ğŸ” Executing Step 34: Create Transaction (Inflow)\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_34_start\", Date.now());\n\npm.test(\"âœ… Status: POST request successful (200/201)\", function () {\n    pm.expect(pm.response.code).to.be.oneOf([200, 201]);\n    if (pm.response.code === 201) {\n        console.log(\"âœ… Resource created successfully\");\n    } else {\n        console.log(\"âœ… POST operation completed successfully\");\n    }\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_34\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});\n\npm.test(\"ğŸ’¸ Business Logic: Transaction has required fields\", function() {\n    // Only validate if response was successful\n    if (pm.response.code !== 200 && pm.response.code !== 201) {\n        console.log(\"âš ï¸ Skipping transaction validation - response code:\", pm.response.code);\n        pm.test.skip();\n        return;\n    }\n    \n    const jsonData = pm.response.json();\n    \n    // Required fields validation\n    pm.expect(jsonData).to.have.property('id');\n    pm.expect(jsonData).to.have.property('status');\n    pm.expect(jsonData).to.have.property('createdAt');\n    pm.expect(jsonData).to.have.property('updatedAt');\n    \n    // UUID format validation\n    const uuidRegex = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\n    pm.expect(jsonData.id).to.match(uuidRegex, \"Transaction ID should be a valid UUID\");\n    \n    // ISO timestamp format validation\n    const isoTimestampRegex = /^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$/;\n    pm.expect(jsonData.createdAt).to.match(isoTimestampRegex, \"Transaction createdAt should be ISO timestamp\");\n    pm.expect(jsonData.updatedAt).to.match(isoTimestampRegex, \"Transaction updatedAt should be ISO timestamp\");\n    \n    // Determine transaction type and set appropriate variable names\n    const currentUrl = pm.request.url.toString();\n    let varPrefix = \"\";\n    \n    if (currentUrl.includes(\"/transactions/json\")) {\n        varPrefix = \"\"; // Standard transaction - use original variable names\n    } else if (currentUrl.includes(\"/transactions/dsl\")) {\n        varPrefix = \"dsl\"; // DSL transaction\n    } else if (currentUrl.includes(\"/transactions/inflow\")) {\n        varPrefix = \"inflow\"; // Inflow transaction\n    } else if (currentUrl.includes(\"/transactions/outflow\")) {\n        varPrefix = \"outflow\"; // Outflow transaction\n    }\n    \n    // Store transaction ID with appropriate prefix\n    const transactionIdVar = varPrefix ? varPrefix + \"TransactionId\" : \"transactionId\";\n    const operationIdVar = varPrefix ? varPrefix + \"OperationId\" : \"operationId\";\n    const balanceIdVar = varPrefix ? varPrefix + \"BalanceId\" : \"balanceId\";\n    const accountIdVar = varPrefix ? varPrefix + \"AccountId\" : \"accountId\";\n    \n    pm.environment.set(transactionIdVar, jsonData.id);\n    console.log(\"ğŸ’¾ Stored \" + transactionIdVar + \":\", jsonData.id);\n    \n    // Extract operation and balance IDs if available\n    if (jsonData.operations && jsonData.operations.length > 0) {\n        // Find the user operation (non-external account) first\n        const userOperation = jsonData.operations.find(op => \n            op.accountAlias && !op.accountAlias.startsWith(\"@external/\")  \n        ) || jsonData.operations[0]; // fallback to first operation if no user account found\n        \n        // Extract operation ID from the user operation (not external account)\n        if (userOperation && userOperation.id) {\n            pm.environment.set(operationIdVar, userOperation.id);\n            console.log(\"ğŸ’¾ Stored \" + operationIdVar + \" from user account:\", userOperation.id);\n            console.log(\"    Operation belongs to account:\", userOperation.accountAlias || userOperation.accountId);\n        } else {\n            // Fallback to first operation if no user operation found\n            pm.environment.set(operationIdVar, jsonData.operations[0].id);\n            console.log(\"âš ï¸ Stored \" + operationIdVar + \" from first operation (might be external):\", jsonData.operations[0].id);\n        }\n        \n        // Extract and store accountId - prefer non-external accounts\n        if (userOperation && userOperation.accountId) {\n            // Only store if we do not already have an accountId (preserve treasury account ID)\n            const existingAccountId = pm.environment.get(\"accountId\");\n            if (!existingAccountId) {\n                pm.environment.set(accountIdVar, userOperation.accountId);\n                console.log(\"ğŸ’¾ Stored \" + accountIdVar + \":\", userOperation.accountId);\n            } else {\n                console.log(\"âš ï¸ Preserving existing accountId:\", existingAccountId, \"(not overwriting with:\", userOperation.accountId + \")\");\n            }\n        }\n        \n        // Extract balance ID from user operation as well\n        if (userOperation && userOperation.balanceId) {\n            pm.environment.set(balanceIdVar, userOperation.balanceId);\n            console.log(\"ğŸ’¾ Stored \" + balanceIdVar + \" from user account:\", userOperation.balanceId);\n        } else if (jsonData.operations[0].balanceId) {\n            pm.environment.set(balanceIdVar, jsonData.operations[0].balanceId);\n            console.log(\"âš ï¸ Stored \" + balanceIdVar + \" from first operation (might be external):\", jsonData.operations[0].balanceId);\n        }\n    }\n    \n    console.log(\"ğŸ’¸ Transaction creation validation passed:\", jsonData.id);\n    console.log(\"âœ… Required fields verified, UUID and timestamp validation completed\");\n});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "c15aac8d-80f5-49bf-8e78-94d1dca48d0e",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP 34: Create Transaction (Inflow) =====\nconsole.log(\"âš™ï¸ Setting up Step 34: Create Transaction (Inflow)\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_34_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step 34\");\n"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_matchInfo": {
            "originalPath": "/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/transactions/inflow",
            "normalizedPath": "/v1/organizations/{}/ledgers/{}/transactions/inflow",
            "folderPath": "Transactions",
            "matchedTargetPath": "/v1/organizations/{}/ledgers/{}/transactions/inflow"
          }
        },
        {
          "name": "35. Create Transaction (Outflow)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/transactions/outflow",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "transactions",
                "outflow"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                }
              ]
            },
            "description": "**Workflow Step 35: Create Transaction (Outflow)**\n\nCreates an outflow transaction (money going out)\n\n---\n\n**Uses:**\n- `organizationId`\n- `ledgerId`\n- `accountAlias`\n",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"chartOfAccountsGroupName\": \"Example chartOfAccountsGroupName\",\n  \"code\": \"Example code\",\n  \"description\": \"Example description\",\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"send\": {\n    \"asset\": \"USD\",\n    \"source\": {\n      \"from\": [\n        {\n          \"accountAlias\": \"{{accountAlias}}\",\n          \"amount\": {\n            \"asset\": \"USD\",\n            \"value\": \"100.00\"\n          },\n          \"chartOfAccounts\": \"Example chartOfAccounts\",\n          \"description\": \"Example description\",\n          \"metadata\": {\n            \"key\": \"value\"\n          }\n        }\n      ]\n    },\n    \"value\": \"100.00\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "541ae611-cf86-49ba-b3ae-fabb6fc294c7",
                "exec": [
                  "\n// ===== STEP 35: Create Transaction (Outflow) =====\nconsole.log(\"ğŸ” Executing Step 35: Create Transaction (Outflow)\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_35_start\", Date.now());\n\npm.test(\"âœ… Status: POST request successful (200/201)\", function () {\n    pm.expect(pm.response.code).to.be.oneOf([200, 201]);\n    if (pm.response.code === 201) {\n        console.log(\"âœ… Resource created successfully\");\n    } else {\n        console.log(\"âœ… POST operation completed successfully\");\n    }\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_35\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});\n\npm.test(\"ğŸ’¸ Business Logic: Transaction has required fields\", function() {\n    // Only validate if response was successful\n    if (pm.response.code !== 200 && pm.response.code !== 201) {\n        console.log(\"âš ï¸ Skipping transaction validation - response code:\", pm.response.code);\n        pm.test.skip();\n        return;\n    }\n    \n    const jsonData = pm.response.json();\n    \n    // Required fields validation\n    pm.expect(jsonData).to.have.property('id');\n    pm.expect(jsonData).to.have.property('status');\n    pm.expect(jsonData).to.have.property('createdAt');\n    pm.expect(jsonData).to.have.property('updatedAt');\n    \n    // UUID format validation\n    const uuidRegex = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\n    pm.expect(jsonData.id).to.match(uuidRegex, \"Transaction ID should be a valid UUID\");\n    \n    // ISO timestamp format validation\n    const isoTimestampRegex = /^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$/;\n    pm.expect(jsonData.createdAt).to.match(isoTimestampRegex, \"Transaction createdAt should be ISO timestamp\");\n    pm.expect(jsonData.updatedAt).to.match(isoTimestampRegex, \"Transaction updatedAt should be ISO timestamp\");\n    \n    // Determine transaction type and set appropriate variable names\n    const currentUrl = pm.request.url.toString();\n    let varPrefix = \"\";\n    \n    if (currentUrl.includes(\"/transactions/json\")) {\n        varPrefix = \"\"; // Standard transaction - use original variable names\n    } else if (currentUrl.includes(\"/transactions/dsl\")) {\n        varPrefix = \"dsl\"; // DSL transaction\n    } else if (currentUrl.includes(\"/transactions/inflow\")) {\n        varPrefix = \"inflow\"; // Inflow transaction\n    } else if (currentUrl.includes(\"/transactions/outflow\")) {\n        varPrefix = \"outflow\"; // Outflow transaction\n    }\n    \n    // Store transaction ID with appropriate prefix\n    const transactionIdVar = varPrefix ? varPrefix + \"TransactionId\" : \"transactionId\";\n    const operationIdVar = varPrefix ? varPrefix + \"OperationId\" : \"operationId\";\n    const balanceIdVar = varPrefix ? varPrefix + \"BalanceId\" : \"balanceId\";\n    const accountIdVar = varPrefix ? varPrefix + \"AccountId\" : \"accountId\";\n    \n    pm.environment.set(transactionIdVar, jsonData.id);\n    console.log(\"ğŸ’¾ Stored \" + transactionIdVar + \":\", jsonData.id);\n    \n    // Extract operation and balance IDs if available\n    if (jsonData.operations && jsonData.operations.length > 0) {\n        // Find the user operation (non-external account) first\n        const userOperation = jsonData.operations.find(op => \n            op.accountAlias && !op.accountAlias.startsWith(\"@external/\")  \n        ) || jsonData.operations[0]; // fallback to first operation if no user account found\n        \n        // Extract operation ID from the user operation (not external account)\n        if (userOperation && userOperation.id) {\n            pm.environment.set(operationIdVar, userOperation.id);\n            console.log(\"ğŸ’¾ Stored \" + operationIdVar + \" from user account:\", userOperation.id);\n            console.log(\"    Operation belongs to account:\", userOperation.accountAlias || userOperation.accountId);\n        } else {\n            // Fallback to first operation if no user operation found\n            pm.environment.set(operationIdVar, jsonData.operations[0].id);\n            console.log(\"âš ï¸ Stored \" + operationIdVar + \" from first operation (might be external):\", jsonData.operations[0].id);\n        }\n        \n        // Extract and store accountId - prefer non-external accounts\n        if (userOperation && userOperation.accountId) {\n            // Only store if we do not already have an accountId (preserve treasury account ID)\n            const existingAccountId = pm.environment.get(\"accountId\");\n            if (!existingAccountId) {\n                pm.environment.set(accountIdVar, userOperation.accountId);\n                console.log(\"ğŸ’¾ Stored \" + accountIdVar + \":\", userOperation.accountId);\n            } else {\n                console.log(\"âš ï¸ Preserving existing accountId:\", existingAccountId, \"(not overwriting with:\", userOperation.accountId + \")\");\n            }\n        }\n        \n        // Extract balance ID from user operation as well\n        if (userOperation && userOperation.balanceId) {\n            pm.environment.set(balanceIdVar, userOperation.balanceId);\n            console.log(\"ğŸ’¾ Stored \" + balanceIdVar + \" from user account:\", userOperation.balanceId);\n        } else if (jsonData.operations[0].balanceId) {\n            pm.environment.set(balanceIdVar, jsonData.operations[0].balanceId);\n            console.log(\"âš ï¸ Stored \" + balanceIdVar + \" from first operation (might be external):\", jsonData.operations[0].balanceId);\n        }\n    }\n    \n    console.log(\"ğŸ’¸ Transaction creation validation passed:\", jsonData.id);\n    console.log(\"âœ… Required fields verified, UUID and timestamp validation completed\");\n});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "0ceebfa9-4e97-4fff-b824-9bf3270e3d22",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP 35: Create Transaction (Outflow) =====\nconsole.log(\"âš™ï¸ Setting up Step 35: Create Transaction (Outflow)\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_35_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step 35\");\n"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_matchInfo": {
            "originalPath": "/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/transactions/outflow",
            "normalizedPath": "/v1/organizations/{}/ledgers/{}/transactions/outflow",
            "folderPath": "Transactions",
            "matchedTargetPath": "/v1/organizations/{}/ledgers/{}/transactions/outflow"
          }
        },
        {
          "name": "36. Get Transaction",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/transactions/{{transactionId}}",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "transactions",
                "{{transactionId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                },
                {
                  "key": "transaction_id",
                  "value": "{{transactionId}}",
                  "description": "Transaction ID"
                }
              ]
            },
            "description": "**Workflow Step 36: Get Transaction**\n\nRetrieves the transaction details\n\n---\n\n**Uses:**\n- `organizationId`\n- `ledgerId`\n- `transactionId`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "11ec1163-3718-4eff-bae3-e4874df1f1b1",
                "exec": [
                  "\n// ===== STEP 36: Get Transaction =====\nconsole.log(\"ğŸ” Executing Step 36: Get Transaction\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_36_start\", Date.now());\n\npm.test(\"âœ… Status: GET request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… GET operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_36\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "173d5e7e-0fc6-44d0-bea8-91aa4a13eba5",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP 36: Get Transaction =====\nconsole.log(\"âš™ï¸ Setting up Step 36: Get Transaction\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_36_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step 36\");\n"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_matchInfo": {
            "originalPath": "/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/transactions/{{transactionId}}",
            "normalizedPath": "/v1/organizations/{}/ledgers/{}/transactions/{}",
            "folderPath": "Transactions",
            "matchedTargetPath": "/v1/organizations/{}/ledgers/{}/transactions/{}"
          }
        },
        {
          "name": "37. Update Transaction",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/transactions/{{transactionId}}",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "transactions",
                "{{transactionId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                },
                {
                  "key": "transaction_id",
                  "value": "{{transactionId}}",
                  "description": "Transaction ID"
                }
              ]
            },
            "description": "**Workflow Step 37: Update Transaction**\n\nUpdates transaction metadata\n\n---\n\n**Uses:**\n- `organizationId`\n- `ledgerId`\n- `transactionId`\n",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"description\": \"Transaction description\",\n  \"metadata\": {\n    \"key\": \"value\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "f516fb64-0bab-4d8d-8d15-92e590cb74db",
                "exec": [
                  "\n// ===== STEP 37: Update Transaction =====\nconsole.log(\"ğŸ” Executing Step 37: Update Transaction\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_37_start\", Date.now());\n\npm.test(\"âœ… Status: PATCH request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… PATCH operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_37\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "d3b87c51-94dc-4f6a-9180-f334a81506a2",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP 37: Update Transaction =====\nconsole.log(\"âš™ï¸ Setting up Step 37: Update Transaction\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_37_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step 37\");\n"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_matchInfo": {
            "originalPath": "/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/transactions/{{transactionId}}",
            "normalizedPath": "/v1/organizations/{}/ledgers/{}/transactions/{}",
            "folderPath": "Transactions",
            "matchedTargetPath": "/v1/organizations/{}/ledgers/{}/transactions/{}"
          }
        },
        {
          "name": "38. List Transactions",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/transactions",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "transactions"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                }
              ],
              "query": [
                {
                  "key": "limit",
                  "value": "",
                  "description": "Limit",
                  "disabled": true
                },
                {
                  "key": "start_date",
                  "value": "",
                  "description": "Start Date",
                  "disabled": true
                },
                {
                  "key": "end_date",
                  "value": "",
                  "description": "End Date",
                  "disabled": true
                },
                {
                  "key": "sort_order",
                  "value": "",
                  "description": "Sort Order",
                  "disabled": true
                },
                {
                  "key": "cursor",
                  "value": "",
                  "description": "Cursor",
                  "disabled": true
                }
              ]
            },
            "description": "**Workflow Step 38: List Transactions**\n\nLists all transactions in the ledger\n\n---\n\n**Uses:**\n- `organizationId`\n- `ledgerId`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "ecec3793-b98f-4c91-9ee5-e8373d1962f6",
                "exec": [
                  "\n// ===== STEP 38: List Transactions =====\nconsole.log(\"ğŸ” Executing Step 38: List Transactions\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_38_start\", Date.now());\n\npm.test(\"âœ… Status: GET request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… GET operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_38\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "00535a12-1ea9-4bf9-8184-6d6925f4805f",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP 38: List Transactions =====\nconsole.log(\"âš™ï¸ Setting up Step 38: List Transactions\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_38_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step 38\");\n"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_matchInfo": {
            "originalPath": "/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/transactions",
            "normalizedPath": "/v1/organizations/{}/ledgers/{}/transactions",
            "folderPath": "Transactions",
            "matchedTargetPath": "/v1/organizations/{}/ledgers/{}/transactions"
          }
        },
        {
          "name": "39. Get Operation",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts/{{accountId}}/operations/{{operationId}}",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "accounts",
                "{{accountId}}",
                "operations",
                "{{operationId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                },
                {
                  "key": "account_id",
                  "value": "{{accountId}}",
                  "description": "Account ID"
                },
                {
                  "key": "operation_id",
                  "value": "{{operationId}}",
                  "description": "Operation ID"
                }
              ]
            },
            "description": "**Workflow Step 39: Get Operation**\n\nRetrieves the operation details\n\n---\n\n**Uses:**\n- `organizationId`\n- `ledgerId`\n- `accountId`\n- `operationId`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "509113b0-3663-4028-bba7-31e2098392fd",
                "exec": [
                  "\n// ===== STEP 39: Get Operation =====\nconsole.log(\"ğŸ” Executing Step 39: Get Operation\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_39_start\", Date.now());\n\npm.test(\"âœ… Status: GET request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… GET operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_39\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "0cfac28d-aab7-48db-8c3e-d48da3ef2c2b",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP 39: Get Operation =====\nconsole.log(\"âš™ï¸ Setting up Step 39: Get Operation\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_39_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step 39\");\n"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_matchInfo": {
            "originalPath": "/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts/{{accountId}}/operations/{{operationId}}",
            "normalizedPath": "/v1/organizations/{}/ledgers/{}/accounts/{}/operations/{}",
            "folderPath": "Operations",
            "matchedTargetPath": "/v1/organizations/{}/ledgers/{}/accounts/{}/operations/{}"
          }
        },
        {
          "name": "40. List Operations by Account",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts/{{accountId}}/operations",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "accounts",
                "{{accountId}}",
                "operations"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                },
                {
                  "key": "account_id",
                  "value": "{{accountId}}",
                  "description": "Account ID"
                }
              ],
              "query": [
                {
                  "key": "limit",
                  "value": "",
                  "description": "Limit",
                  "disabled": true
                },
                {
                  "key": "start_date",
                  "value": "",
                  "description": "Start Date",
                  "disabled": true
                },
                {
                  "key": "end_date",
                  "value": "",
                  "description": "End Date",
                  "disabled": true
                },
                {
                  "key": "sort_order",
                  "value": "",
                  "description": "Sort Order",
                  "disabled": true
                },
                {
                  "key": "cursor",
                  "value": "",
                  "description": "Cursor",
                  "disabled": true
                },
                {
                  "key": "type",
                  "value": "",
                  "description": "DEBIT, CREDIT",
                  "disabled": true
                }
              ]
            },
            "description": "**Workflow Step 40: List Operations by Account**\n\nLists all operations for a specific account\n\n---\n\n**Uses:**\n- `organizationId`\n- `ledgerId`\n- `accountId`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "ed462e71-78fa-4b9c-b21a-ea16521e3592",
                "exec": [
                  "\n// ===== STEP 40: List Operations by Account =====\nconsole.log(\"ğŸ” Executing Step 40: List Operations by Account\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_40_start\", Date.now());\n\npm.test(\"âœ… Status: GET request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… GET operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_40\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "257ef36a-d158-4096-93d6-d7b9b64c7f08",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP 40: List Operations by Account =====\nconsole.log(\"âš™ï¸ Setting up Step 40: List Operations by Account\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_40_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step 40\");\n"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_matchInfo": {
            "originalPath": "/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts/{{accountId}}/operations",
            "normalizedPath": "/v1/organizations/{}/ledgers/{}/accounts/{}/operations",
            "folderPath": "Operations",
            "matchedTargetPath": "/v1/organizations/{}/ledgers/{}/accounts/{}/operations"
          }
        },
        {
          "name": "41. Update Operation Metadata",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/transactions/{{transactionId}}/operations/{{operationId}}",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "transactions",
                "{{transactionId}}",
                "operations",
                "{{operationId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                },
                {
                  "key": "transaction_id",
                  "value": "{{transactionId}}",
                  "description": "Transaction ID"
                },
                {
                  "key": "operation_id",
                  "value": "{{operationId}}",
                  "description": "Operation ID"
                }
              ]
            },
            "description": "**Workflow Step 41: Update Operation Metadata**\n\nUpdates operation metadata\n\n---\n\n**Uses:**\n- `organizationId`\n- `ledgerId`\n- `transactionId`\n- `operationId`\n",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"description\": \"Credit card operation\",\n  \"metadata\": {\n    \"key\": \"value\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "cb33844f-a08c-4116-8003-b70d667ae269",
                "exec": [
                  "\n// ===== STEP 41: Update Operation Metadata =====\nconsole.log(\"ğŸ” Executing Step 41: Update Operation Metadata\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_41_start\", Date.now());\n\npm.test(\"âœ… Status: PATCH request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… PATCH operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_41\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "6a0b0f6c-5a5d-418a-aabb-c4d1039b5b19",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP 41: Update Operation Metadata =====\nconsole.log(\"âš™ï¸ Setting up Step 41: Update Operation Metadata\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_41_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step 41\");\n"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_matchInfo": {
            "originalPath": "/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/transactions/{{transactionId}}/operations/{{operationId}}",
            "normalizedPath": "/v1/organizations/{}/ledgers/{}/transactions/{}/operations/{}",
            "folderPath": "Operations",
            "matchedTargetPath": "/v1/organizations/{}/ledgers/{}/transactions/{}/operations/{}"
          }
        },
        {
          "name": "42. Get Balance",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/balances/{{balanceId}}",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "balances",
                "{{balanceId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                },
                {
                  "key": "balance_id",
                  "value": "{{balanceId}}",
                  "description": "Balance ID"
                }
              ]
            },
            "description": "**Workflow Step 42: Get Balance**\n\nRetrieves the balance details\n\n---\n\n**Uses:**\n- `organizationId`\n- `ledgerId`\n- `balanceId`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "96c3ee7a-dfcc-4ce3-84de-1f750d109f57",
                "exec": [
                  "\n// ===== STEP 42: Get Balance =====\nconsole.log(\"ğŸ” Executing Step 42: Get Balance\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_42_start\", Date.now());\n\npm.test(\"âœ… Status: GET request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… GET operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_42\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "7f325756-f2bc-4032-8d9b-61e453673afe",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP 42: Get Balance =====\nconsole.log(\"âš™ï¸ Setting up Step 42: Get Balance\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_42_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step 42\");\n"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_matchInfo": {
            "originalPath": "/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/balances/{{balanceId}}",
            "normalizedPath": "/v1/organizations/{}/ledgers/{}/balances/{}",
            "folderPath": "Balances",
            "matchedTargetPath": "/v1/organizations/{}/ledgers/{}/balances/{}"
          }
        },
        {
          "name": "43. List Balances by Account",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts/{{accountId}}/balances",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "accounts",
                "{{accountId}}",
                "balances"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                },
                {
                  "key": "account_id",
                  "value": "{{accountId}}",
                  "description": "Account ID"
                }
              ],
              "query": [
                {
                  "key": "limit",
                  "value": "",
                  "description": "Limit",
                  "disabled": true
                },
                {
                  "key": "start_date",
                  "value": "",
                  "description": "Start Date",
                  "disabled": true
                },
                {
                  "key": "end_date",
                  "value": "",
                  "description": "End Date",
                  "disabled": true
                },
                {
                  "key": "sort_order",
                  "value": "",
                  "description": "Sort Order",
                  "disabled": true
                },
                {
                  "key": "cursor",
                  "value": "",
                  "description": "Cursor",
                  "disabled": true
                }
              ]
            },
            "description": "**Workflow Step 43: List Balances by Account**\n\nLists all balances for a specific account\n\n---\n\n**Uses:**\n- `organizationId`\n- `ledgerId`\n- `accountId`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "6a38fa17-8f03-49e2-ac67-6d7796b317f0",
                "exec": [
                  "\n// ===== STEP 43: List Balances by Account =====\nconsole.log(\"ğŸ” Executing Step 43: List Balances by Account\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_43_start\", Date.now());\n\npm.test(\"âœ… Status: GET request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… GET operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_43\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "9482db2b-61b3-4b2e-ad5a-271da48e2960",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP 43: List Balances by Account =====\nconsole.log(\"âš™ï¸ Setting up Step 43: List Balances by Account\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_43_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step 43\");\n"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_matchInfo": {
            "originalPath": "/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts/{{accountId}}/balances",
            "normalizedPath": "/v1/organizations/{}/ledgers/{}/accounts/{}/balances",
            "folderPath": "Balances",
            "matchedTargetPath": "/v1/organizations/{}/ledgers/{}/accounts/{}/balances"
          }
        },
        {
          "name": "44. List Balances by Account Alias",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts/alias/{{accountAlias}}/balances",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "accounts",
                "alias",
                "{{accountAlias}}",
                "balances"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                },
                {
                  "key": "alias",
                  "value": "",
                  "description": "Alias (e.g. @person1)"
                }
              ]
            },
            "description": "**Workflow Step 44: List Balances by Account Alias**\n\nLists all balances for an account identified by alias\n\n---\n\n**Uses:**\n- `organizationId`\n- `ledgerId`\n- `accountAlias`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "7be36fd3-30c6-4e3d-b79c-aab7bfc35ea8",
                "exec": [
                  "\n// ===== STEP 44: List Balances by Account Alias =====\nconsole.log(\"ğŸ” Executing Step 44: List Balances by Account Alias\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_44_start\", Date.now());\n\npm.test(\"âœ… Status: GET request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… GET operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_44\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "42cc5b9e-0490-4369-843b-f64e1daf5eac",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP 44: List Balances by Account Alias =====\nconsole.log(\"âš™ï¸ Setting up Step 44: List Balances by Account Alias\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_44_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step 44\");\n"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_matchInfo": {
            "originalPath": "/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts/alias/{{accountAlias}}/balances",
            "normalizedPath": "/v1/organizations/{}/ledgers/{}/accounts/alias/{}/balances",
            "folderPath": "Balances",
            "matchedTargetPath": "/v1/organizations/{}/ledgers/{}/accounts/alias/{}/balances"
          }
        },
        {
          "name": "45. List Balances by External Code",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts/external/{{externalCode}}/balances",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "accounts",
                "external",
                "{{externalCode}}",
                "balances"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                },
                {
                  "key": "code",
                  "value": "",
                  "description": "Code (e.g. BRL)"
                }
              ]
            },
            "description": "**Workflow Step 45: List Balances by External Code**\n\nLists all balances for an account identified by external code\n\n---\n\n**Uses:**\n- `organizationId`\n- `ledgerId`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "01904ce7-f08c-4a6f-88e6-d79aa84f2ffb",
                "exec": [
                  "\n// ===== STEP 45: List Balances by External Code =====\nconsole.log(\"ğŸ” Executing Step 45: List Balances by External Code\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_45_start\", Date.now());\n\npm.test(\"âœ… Status: GET request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… GET operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_45\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "8b3672a5-d820-4aae-9a9a-b5ce1d9bb0da",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP 45: List Balances by External Code =====\nconsole.log(\"âš™ï¸ Setting up Step 45: List Balances by External Code\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_45_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step 45\");\n"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_matchInfo": {
            "originalPath": "/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts/external/{{externalCode}}/balances",
            "normalizedPath": "/v1/organizations/{}/ledgers/{}/accounts/external/{}/balances",
            "folderPath": "Balances",
            "matchedTargetPath": "/v1/organizations/{}/ledgers/{}/accounts/external/{}/balances"
          }
        },
        {
          "name": "46. Update Balance",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/balances/{{balanceId}}",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "balances",
                "{{balanceId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                },
                {
                  "key": "balance_id",
                  "value": "{{balanceId}}",
                  "description": "Balance ID"
                }
              ]
            },
            "description": "**Workflow Step 46: Update Balance**\n\nUpdates balance metadata\n\n---\n\n**Uses:**\n- `organizationId`\n- `ledgerId`\n- `balanceId`\n",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"allowReceiving\": true,\n  \"allowSending\": true\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "13a142d3-359a-4c24-9076-293b1847960c",
                "exec": [
                  "\n// ===== STEP 46: Update Balance =====\nconsole.log(\"ğŸ” Executing Step 46: Update Balance\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_46_start\", Date.now());\n\npm.test(\"âœ… Status: PATCH request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… PATCH operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_46\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "cf94cf69-798b-4c91-b7b1-16505e6e3075",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP 46: Update Balance =====\nconsole.log(\"âš™ï¸ Setting up Step 46: Update Balance\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_46_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step 46\");\n"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_matchInfo": {
            "originalPath": "/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/balances/{{balanceId}}",
            "normalizedPath": "/v1/organizations/{}/ledgers/{}/balances/{}",
            "folderPath": "Balances",
            "matchedTargetPath": "/v1/organizations/{}/ledgers/{}/balances/{}"
          }
        },
        {
          "name": "47. List All Balances",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/balances",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "balances"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                }
              ],
              "query": [
                {
                  "key": "limit",
                  "value": "",
                  "description": "Limit",
                  "disabled": true
                },
                {
                  "key": "start_date",
                  "value": "",
                  "description": "Start Date",
                  "disabled": true
                },
                {
                  "key": "end_date",
                  "value": "",
                  "description": "End Date",
                  "disabled": true
                },
                {
                  "key": "sort_order",
                  "value": "",
                  "description": "Sort Order",
                  "disabled": true
                },
                {
                  "key": "cursor",
                  "value": "",
                  "description": "Cursor",
                  "disabled": true
                }
              ]
            },
            "description": "**Workflow Step 47: List All Balances**\n\nLists all balances in the ledger\n\n---\n\n**Uses:**\n- `organizationId`\n- `ledgerId`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "59a18b60-9911-4ae1-aaed-32584af9795c",
                "exec": [
                  "\n// ===== STEP 47: List All Balances =====\nconsole.log(\"ğŸ” Executing Step 47: List All Balances\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_47_start\", Date.now());\n\npm.test(\"âœ… Status: GET request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… GET operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_47\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "8ff06762-494f-4dbe-a631-0510c498060d",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP 47: List All Balances =====\nconsole.log(\"âš™ï¸ Setting up Step 47: List All Balances\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_47_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step 47\");\n"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_matchInfo": {
            "originalPath": "/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/balances",
            "normalizedPath": "/v1/organizations/{}/ledgers/{}/balances",
            "folderPath": "Balances",
            "matchedTargetPath": "/v1/organizations/{}/ledgers/{}/balances"
          }
        },
        {
          "name": "48. Check Account Balance Before Zeroing",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts/alias/{{accountAlias}}/balances",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "accounts",
                "alias",
                "{{accountAlias}}",
                "balances"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                },
                {
                  "key": "alias",
                  "value": "",
                  "description": "Alias (e.g. @person1)"
                }
              ]
            },
            "description": "**Workflow Step 48: Check Account Balance Before Zeroing**\n\nGets the current balance of the account before zeroing it out\n\n---\n\n**Uses:**\n- `organizationId`\n- `ledgerId`\n- `accountAlias`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "f17779cf-6aef-4eaa-9827-3232d172e57d",
                "exec": [
                  "\n// ===== STEP 48: Check Account Balance Before Zeroing =====\nconsole.log(\"ğŸ” Executing Step 48: Check Account Balance Before Zeroing\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_48_start\", Date.now());\n\npm.test(\"âœ… Status: GET request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… GET operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_48\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});\n// Extract balance information for zero-out transaction\nif (pm.response.code === 200) {\n    const responseJson = pm.response.json();\n    console.log(\"ğŸ¦ Balance response structure:\", JSON.stringify(responseJson, null, 2));\n    \n    if (responseJson.items && responseJson.items.length > 0) {\n        const balance = responseJson.items[0];\n        if (balance.available !== undefined) {\n            const balanceAmount = Math.abs(balance.available);\n            pm.environment.set(\"currentBalanceAmount\", balanceAmount);\n            console.log(\"ğŸ’° Extracted balance amount:\", balanceAmount);\n            console.log(\"âœ… Balance amount variable set for zero-out transaction\");\n        } else {\n            console.warn(\"âš ï¸ No balance amount found in response\");\n            pm.environment.set(\"currentBalanceAmount\", 0);\n        }\n    } else {\n        console.warn(\"âš ï¸ No balance items found in response\");\n        pm.environment.set(\"currentBalanceAmount\", 0);\n    }\n}"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "e72d144d-3c74-488e-b4e0-76599662cf8e",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP 48: Check Account Balance Before Zeroing =====\nconsole.log(\"âš™ï¸ Setting up Step 48: Check Account Balance Before Zeroing\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_48_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step 48\");\n"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_matchInfo": {
            "originalPath": "/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts/alias/{{accountAlias}}/balances",
            "normalizedPath": "/v1/organizations/{}/ledgers/{}/accounts/alias/{}/balances",
            "folderPath": "Balances",
            "matchedTargetPath": "/v1/organizations/{}/ledgers/{}/accounts/alias/{}/balances"
          }
        },
        {
          "name": "49. Zero Out Balance",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              },
              {
                "key": "X-Idempotency",
                "value": "{{idempotencyKey}}",
                "description": "Unique key to prevent duplicate transactions",
                "disabled": false
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/transactions/json",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "transactions",
                "json"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                }
              ]
            },
            "description": "**Workflow Step 49: Zero Out Balance**\n\n**Description:** Creates a transaction that transfers the current balance amount from account to external/USD, completely zeroing the balance\n\n---\n\n**Uses:**\n- `organizationId`\n- `ledgerId`\n- `accountAlias`\n- `currentBalanceAmount`\n",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"chartOfAccountsGroupName\": \"Example chartOfAccountsGroupName\",\n  \"code\": \"Zero Out Balance Transaction\",\n  \"description\": \"Reverse transaction to zero out the account balance using actual current balance\",\n  \"metadata\": {\n    \"purpose\": \"balance_zeroing\",\n    \"reference_step\": \"48\"\n  },\n  \"send\": {\n    \"asset\": \"USD\",\n    \"distribute\": {\n      \"to\": [\n        {\n          \"accountAlias\": \"@external/USD\",\n          \"amount\": {\n            \"asset\": \"USD\",\n            \"value\": \"{{currentBalanceAmount}}\"\n          },\n          \"chartOfAccounts\": \"Example chartOfAccounts\",\n          \"description\": \"External account for balance zeroing\",\n          \"metadata\": {\n            \"operation_type\": \"credit\"\n          }\n        }\n      ]\n    },\n    \"source\": {\n      \"from\": [\n        {\n          \"accountAlias\": \"{{accountAlias}}\",\n          \"amount\": {\n            \"asset\": \"USD\",\n            \"value\": \"{{currentBalanceAmount}}\"\n          },\n          \"chartOfAccounts\": \"Example chartOfAccounts\",\n          \"description\": \"Source account for balance zeroing\",\n          \"metadata\": {\n            \"operation_type\": \"debit\"\n          }\n        }\n      ]\n    },\n    \"value\": \"{{currentBalanceAmount}}\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "c58818b9-cd42-4445-8fce-9a05c3ab2900",
                "exec": [
                  "\n// ===== STEP 49: Zero Out Balance =====\nconsole.log(\"ğŸ” Executing Step 49: Zero Out Balance\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_49_start\", Date.now());\n\npm.test(\"âœ… Status: POST request successful (200/201)\", function () {\n    pm.expect(pm.response.code).to.be.oneOf([200, 201]);\n    if (pm.response.code === 201) {\n        console.log(\"âœ… Resource created successfully\");\n    } else {\n        console.log(\"âœ… POST operation completed successfully\");\n    }\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_49\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});\n\npm.test(\"ğŸ’¸ Business Logic: Transaction has required fields\", function() {\n    // Only validate if response was successful\n    if (pm.response.code !== 200 && pm.response.code !== 201) {\n        console.log(\"âš ï¸ Skipping transaction validation - response code:\", pm.response.code);\n        pm.test.skip();\n        return;\n    }\n    \n    const jsonData = pm.response.json();\n    \n    // Required fields validation\n    pm.expect(jsonData).to.have.property('id');\n    pm.expect(jsonData).to.have.property('status');\n    pm.expect(jsonData).to.have.property('createdAt');\n    pm.expect(jsonData).to.have.property('updatedAt');\n    \n    // UUID format validation\n    const uuidRegex = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\n    pm.expect(jsonData.id).to.match(uuidRegex, \"Transaction ID should be a valid UUID\");\n    \n    // ISO timestamp format validation\n    const isoTimestampRegex = /^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$/;\n    pm.expect(jsonData.createdAt).to.match(isoTimestampRegex, \"Transaction createdAt should be ISO timestamp\");\n    pm.expect(jsonData.updatedAt).to.match(isoTimestampRegex, \"Transaction updatedAt should be ISO timestamp\");\n    \n    // Determine transaction type and set appropriate variable names\n    const currentUrl = pm.request.url.toString();\n    let varPrefix = \"\";\n    \n    if (currentUrl.includes(\"/transactions/json\")) {\n        varPrefix = \"\"; // Standard transaction - use original variable names\n    } else if (currentUrl.includes(\"/transactions/dsl\")) {\n        varPrefix = \"dsl\"; // DSL transaction\n    } else if (currentUrl.includes(\"/transactions/inflow\")) {\n        varPrefix = \"inflow\"; // Inflow transaction\n    } else if (currentUrl.includes(\"/transactions/outflow\")) {\n        varPrefix = \"outflow\"; // Outflow transaction\n    }\n    \n    // Store transaction ID with appropriate prefix\n    const transactionIdVar = varPrefix ? varPrefix + \"TransactionId\" : \"transactionId\";\n    const operationIdVar = varPrefix ? varPrefix + \"OperationId\" : \"operationId\";\n    const balanceIdVar = varPrefix ? varPrefix + \"BalanceId\" : \"balanceId\";\n    const accountIdVar = varPrefix ? varPrefix + \"AccountId\" : \"accountId\";\n    \n    pm.environment.set(transactionIdVar, jsonData.id);\n    console.log(\"ğŸ’¾ Stored \" + transactionIdVar + \":\", jsonData.id);\n    \n    // Extract operation and balance IDs if available\n    if (jsonData.operations && jsonData.operations.length > 0) {\n        // Find the user operation (non-external account) first\n        const userOperation = jsonData.operations.find(op => \n            op.accountAlias && !op.accountAlias.startsWith(\"@external/\")  \n        ) || jsonData.operations[0]; // fallback to first operation if no user account found\n        \n        // Extract operation ID from the user operation (not external account)\n        if (userOperation && userOperation.id) {\n            pm.environment.set(operationIdVar, userOperation.id);\n            console.log(\"ğŸ’¾ Stored \" + operationIdVar + \" from user account:\", userOperation.id);\n            console.log(\"    Operation belongs to account:\", userOperation.accountAlias || userOperation.accountId);\n        } else {\n            // Fallback to first operation if no user operation found\n            pm.environment.set(operationIdVar, jsonData.operations[0].id);\n            console.log(\"âš ï¸ Stored \" + operationIdVar + \" from first operation (might be external):\", jsonData.operations[0].id);\n        }\n        \n        // Extract and store accountId - prefer non-external accounts\n        if (userOperation && userOperation.accountId) {\n            // Only store if we do not already have an accountId (preserve treasury account ID)\n            const existingAccountId = pm.environment.get(\"accountId\");\n            if (!existingAccountId) {\n                pm.environment.set(accountIdVar, userOperation.accountId);\n                console.log(\"ğŸ’¾ Stored \" + accountIdVar + \":\", userOperation.accountId);\n            } else {\n                console.log(\"âš ï¸ Preserving existing accountId:\", existingAccountId, \"(not overwriting with:\", userOperation.accountId + \")\");\n            }\n        }\n        \n        // Extract balance ID from user operation as well\n        if (userOperation && userOperation.balanceId) {\n            pm.environment.set(balanceIdVar, userOperation.balanceId);\n            console.log(\"ğŸ’¾ Stored \" + balanceIdVar + \" from user account:\", userOperation.balanceId);\n        } else if (jsonData.operations[0].balanceId) {\n            pm.environment.set(balanceIdVar, jsonData.operations[0].balanceId);\n            console.log(\"âš ï¸ Stored \" + balanceIdVar + \" from first operation (might be external):\", jsonData.operations[0].balanceId);\n        }\n    }\n    \n    console.log(\"ğŸ’¸ Transaction creation validation passed:\", jsonData.id);\n    console.log(\"âœ… Required fields verified, UUID and timestamp validation completed\");\n});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "e8fd04f7-c5a8-43f9-a6a2-056b4194e7ab",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP 49: Zero Out Balance =====\nconsole.log(\"âš™ï¸ Setting up Step 49: Zero Out Balance\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_49_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step 49\");\n"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_matchInfo": {
            "originalPath": "/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/transactions/json",
            "normalizedPath": "/v1/organizations/{}/ledgers/{}/transactions/json",
            "folderPath": "Transactions",
            "matchedTargetPath": "/v1/organizations/{}/ledgers/{}/transactions/json"
          }
        },
        {
          "name": "50. Delete Balance",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/balances/{{balanceId}}",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "balances",
                "{{balanceId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                },
                {
                  "key": "balance_id",
                  "value": "{{balanceId}}",
                  "description": "Balance ID"
                }
              ]
            },
            "description": "**Workflow Step 50: Delete Balance**\n\nDeletes a balance\n\n---\n\n**Uses:**\n- `organizationId`\n- `ledgerId`\n- `balanceId`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "e79e9f8a-8b50-4f33-84be-d5fb351f45d2",
                "exec": [
                  "\n// ===== STEP 50: Delete Balance =====\nconsole.log(\"ğŸ” Executing Step 50: Delete Balance\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_50_start\", Date.now());\n\npm.test(\"âœ… Status: DELETE request successful (204)\", function () {\n    pm.expect(pm.response.code).to.equal(204);\n    console.log(\"âœ… Resource deleted successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_50\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "5dca48b1-d0b8-4b77-9241-4692a9857594",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP 50: Delete Balance =====\nconsole.log(\"âš™ï¸ Setting up Step 50: Delete Balance\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_50_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step 50\");\n"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_matchInfo": {
            "originalPath": "/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/balances/{{balanceId}}",
            "normalizedPath": "/v1/organizations/{}/ledgers/{}/balances/{}",
            "folderPath": "Balances",
            "matchedTargetPath": "/v1/organizations/{}/ledgers/{}/balances/{}"
          }
        },
        {
          "name": "51. Delete Segment",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/segments/{{segmentId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "segments",
                "{{segmentId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{segmentId}}",
                  "description": "Segment ID in UUID format"
                }
              ]
            },
            "description": "**Workflow Step 51: Delete Segment**\n\nDeletes a segment\n\n---\n\n**Uses:**\n- `organizationId`\n- `ledgerId`\n- `segmentId`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "648ec512-843e-4ccc-9b75-5b3e6c6946be",
                "exec": [
                  "\n// ===== STEP 51: Delete Segment =====\nconsole.log(\"ğŸ” Executing Step 51: Delete Segment\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_51_start\", Date.now());\n\npm.test(\"âœ… Status: DELETE request successful (204)\", function () {\n    pm.expect(pm.response.code).to.equal(204);\n    console.log(\"âœ… Resource deleted successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_51\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "9080b56f-cfa5-4bfb-9f6d-ffcf36b8ba1e",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP 51: Delete Segment =====\nconsole.log(\"âš™ï¸ Setting up Step 51: Delete Segment\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_51_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step 51\");\n"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_matchInfo": {
            "originalPath": "/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/segments/{{segmentId}}",
            "normalizedPath": "/v1/organizations/{}/ledgers/{}/segments/{}",
            "folderPath": "Segments",
            "matchedTargetPath": "/v1/organizations/{}/ledgers/{}/segments/{}"
          }
        },
        {
          "name": "52. Delete Portfolio",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/portfolios/{{portfolioId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "portfolios",
                "{{portfolioId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{portfolioId}}",
                  "description": "Portfolio ID in UUID format"
                }
              ]
            },
            "description": "**Workflow Step 52: Delete Portfolio**\n\nDeletes a portfolio\n\n---\n\n**Uses:**\n- `organizationId`\n- `ledgerId`\n- `portfolioId`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "76476e59-e0b2-48c5-a69a-a338ec86fe07",
                "exec": [
                  "\n// ===== STEP 52: Delete Portfolio =====\nconsole.log(\"ğŸ” Executing Step 52: Delete Portfolio\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_52_start\", Date.now());\n\npm.test(\"âœ… Status: DELETE request successful (204)\", function () {\n    pm.expect(pm.response.code).to.equal(204);\n    console.log(\"âœ… Resource deleted successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_52\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "c482fce1-809c-41e4-a890-96757656df3b",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP 52: Delete Portfolio =====\nconsole.log(\"âš™ï¸ Setting up Step 52: Delete Portfolio\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_52_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step 52\");\n"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_matchInfo": {
            "originalPath": "/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/portfolios/{{portfolioId}}",
            "normalizedPath": "/v1/organizations/{}/ledgers/{}/portfolios/{}",
            "folderPath": "Portfolios",
            "matchedTargetPath": "/v1/organizations/{}/ledgers/{}/portfolios/{}"
          }
        },
        {
          "name": "53. Delete Account",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts/{{accountId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "accounts",
                "{{accountId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{accountId}}",
                  "description": "Account ID in UUID format"
                }
              ]
            },
            "description": "**Workflow Step 53: Delete Account**\n\nDeletes an account\n\n---\n\n**Uses:**\n- `organizationId`\n- `ledgerId`\n- `accountId`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "cdabf47f-9e6a-465a-9731-6184abe83aef",
                "exec": [
                  "\n// ===== STEP 53: Delete Account =====\nconsole.log(\"ğŸ” Executing Step 53: Delete Account\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_53_start\", Date.now());\n\npm.test(\"âœ… Status: DELETE request successful (204)\", function () {\n    pm.expect(pm.response.code).to.equal(204);\n    console.log(\"âœ… Resource deleted successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_53\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "44765a72-823c-46af-ae97-2f613d4833cc",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP 53: Delete Account =====\nconsole.log(\"âš™ï¸ Setting up Step 53: Delete Account\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_53_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step 53\");\n"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_matchInfo": {
            "originalPath": "/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts/{{accountId}}",
            "normalizedPath": "/v1/organizations/{}/ledgers/{}/accounts/{}",
            "folderPath": "Accounts",
            "matchedTargetPath": "/v1/organizations/{}/ledgers/{}/accounts/{}"
          }
        },
        {
          "name": "54. Delete Asset",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/assets/{{assetId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "assets",
                "{{assetId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{assetId}}",
                  "description": "Asset ID in UUID format"
                }
              ]
            },
            "description": "**Workflow Step 54: Delete Asset**\n\nDeletes an asset\n\n---\n\n**Uses:**\n- `organizationId`\n- `ledgerId`\n- `assetId`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "eff3cdcb-2f21-4948-8e5d-ec03ab3abe97",
                "exec": [
                  "\n// ===== STEP 54: Delete Asset =====\nconsole.log(\"ğŸ” Executing Step 54: Delete Asset\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_54_start\", Date.now());\n\npm.test(\"âœ… Status: DELETE request successful (204)\", function () {\n    pm.expect(pm.response.code).to.equal(204);\n    console.log(\"âœ… Resource deleted successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_54\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "7ba54aff-ed6a-4ec5-aa67-a58dc5cf62f8",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP 54: Delete Asset =====\nconsole.log(\"âš™ï¸ Setting up Step 54: Delete Asset\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_54_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step 54\");\n"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_matchInfo": {
            "originalPath": "/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/assets/{{assetId}}",
            "normalizedPath": "/v1/organizations/{}/ledgers/{}/assets/{}",
            "folderPath": "Assets",
            "matchedTargetPath": "/v1/organizations/{}/ledgers/{}/assets/{}"
          }
        },
        {
          "name": "55. Delete Ledger",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ]
            },
            "description": "**Workflow Step 55: Delete Ledger**\n\nDeletes a ledger\n\n---\n\n**Uses:**\n- `organizationId`\n- `ledgerId`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "d6fd18d9-fdb0-4e6c-bef7-36783f05fd88",
                "exec": [
                  "\n// ===== STEP 55: Delete Ledger =====\nconsole.log(\"ğŸ” Executing Step 55: Delete Ledger\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_55_start\", Date.now());\n\npm.test(\"âœ… Status: DELETE request successful (204)\", function () {\n    pm.expect(pm.response.code).to.equal(204);\n    console.log(\"âœ… Resource deleted successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_55\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "9d45d394-4593-4331-9136-c6cfad83e73a",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP 55: Delete Ledger =====\nconsole.log(\"âš™ï¸ Setting up Step 55: Delete Ledger\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_55_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step 55\");\n"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_matchInfo": {
            "originalPath": "/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}",
            "normalizedPath": "/v1/organizations/{}/ledgers/{}",
            "folderPath": "Ledgers",
            "matchedTargetPath": "/v1/organizations/{}/ledgers/{}"
          }
        },
        {
          "name": "56. Delete Organization",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                }
              ]
            },
            "description": "**Workflow Step 56: Delete Organization**\n\n**Environment Variables**: Can be automated in Postman by using environment variables to store and pass the IDs between requests.\n\n---\n\n**Uses:**\n- `organizationId`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "9b101a9b-ebfe-4988-9080-67fb4fe3f564",
                "exec": [
                  "\n// ===== STEP 56: Delete Organization =====\nconsole.log(\"ğŸ” Executing Step 56: Delete Organization\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_56_start\", Date.now());\n\npm.test(\"âœ… Status: DELETE request successful (204)\", function () {\n    pm.expect(pm.response.code).to.equal(204);\n    console.log(\"âœ… Resource deleted successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_56\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "2905b385-dd8b-4805-88fe-d453eb1bcbb1",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP 56: Delete Organization =====\nconsole.log(\"âš™ï¸ Setting up Step 56: Delete Organization\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_56_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step 56\");\n"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_matchInfo": {
            "originalPath": "/v1/organizations/{{organizationId}}",
            "normalizedPath": "/v1/organizations/{}",
            "folderPath": "Organizations",
            "matchedTargetPath": "/v1/organizations/{}"
          }
        },
        {
          "name": "Workflow Summary & Report",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{onboardingUrl}}/health",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "health"
              ]
            },
            "description": "Final step that generates comprehensive test summary for CI reporting"
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "9edea727-6fc4-43ee-a2e9-f895b4fb35a6",
                "exec": [
                  "\n// ===== WORKFLOW SUMMARY =====\nconsole.log(\"ğŸ“Š Workflow Execution Summary\");\nconsole.log(\"Total Steps: 56\");\n\n// Calculate total execution time\nconst startTime = pm.globals.get(\"workflow_start_time\");\nif (startTime) {\n    const totalTime = Date.now() - startTime;\n    console.log(\"â±ï¸ Total Execution Time: \" + totalTime + \"ms\");\n    pm.globals.set(\"workflow_total_time\", totalTime);\n}\n\n// Summary of step performance\nconsole.log(\"ğŸ“ˆ Performance Summary:\");\nfor (let i = 1; i <= 56; i++) {\n    const stepTime = pm.environment.get(\"perf_step_\" + i);\n    if (stepTime) {\n        console.log(\"  Step \" + i + \": \" + stepTime + \"ms\");\n    }\n}\n\nconsole.log(\"âœ… Workflow completed successfully\");\n"
                ],
                "type": "text/javascript"
              }
            }
          ]
        }
      ],
      "_postman_id": "6780c402-c86c-49e8-8677-ed991af5b8a9",
      "event": []
    },
    {
      "name": "Organizations",
      "description": "Endpoints for managing organizations, which are the top-level entities in the MIDAZ system.",
      "item": [
        {
          "name": "List all organizations",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations"
              ],
              "query": [
                {
                  "key": "metadata",
                  "value": "",
                  "description": "JSON string to filter organizations by metadata fields",
                  "disabled": true
                },
                {
                  "key": "limit",
                  "value": "",
                  "description": "Maximum number of records to return per page",
                  "disabled": true
                },
                {
                  "key": "page",
                  "value": "",
                  "description": "Page number for pagination",
                  "disabled": true
                },
                {
                  "key": "start_date",
                  "value": "",
                  "description": "Filter organizations created on or after this date (format: YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "end_date",
                  "value": "",
                  "description": "Filter organizations created on or before this date (format: YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "sort_order",
                  "value": "",
                  "description": "Sort direction for results based on creation date",
                  "disabled": true
                }
              ]
            },
            "description": "Returns a paginated list of organizations, optionally filtered by metadata, date range, and other criteria"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Create a new organization",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations"
              ]
            },
            "description": "Creates a new organization with the provided details including legal name, legal document, and optional address information",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"address\": {\n    \"city\": \"New York\",\n    \"country\": \"US\",\n    \"line1\": \"123 Financial Avenue\",\n    \"line2\": \"Suite 1500\",\n    \"state\": \"NY\",\n    \"zipCode\": \"10001\"\n  },\n  \"doingBusinessAs\": \"Lerian FS\",\n  \"legalDocument\": \"123456789012345\",\n  \"legalName\": \"Lerian Financial Services Ltd.\",\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"parentOrganizationId\": null,\n  \"status\": {\n    \"code\": \"ACTIVE\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  "",
                  "// Extract variables from response for use in subsequent requests",
                  "",
                  "try {",
                  "  var jsonData = pm.response.json();",
                  "  if (jsonData && jsonData.id) {",
                  "    pm.environment.set(\"organizationId\", jsonData.id);",
                  "    console.log(\"organizationId set to: \" + jsonData.id);",
                  "  }",
                  "} catch (error) {",
                  "  console.error(\"Failed to extract organizationId: \", error);",
                  "}"
                ]
              }
            }
          ]
        },
        {
          "name": "Count total organizations",
          "request": {
            "method": "HEAD",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/metrics/count",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "metrics",
                "count"
              ]
            },
            "description": "Returns the total count of organizations as a header without a response body"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  // HEAD responses have no body, skip JSON validation",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Retrieve a specific organization",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                }
              ]
            },
            "description": "Returns detailed information about an organization identified by its UUID"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  "",
                  "// Validate required variables",
                  "",
                  "if (!pm.environment.get(\"organizationId\")) {",
                  "  console.log(\"Warning: organizationId is not set. This request may fail.\");",
                  "}"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Delete an organization",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                }
              ]
            },
            "description": "Permanently removes an organization identified by its UUID. Note: This operation is not available in production environments."
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  "",
                  "// Validate required variables",
                  "",
                  "if (!pm.environment.get(\"organizationId\")) {",
                  "  console.log(\"Warning: organizationId is not set. This request may fail.\");",
                  "}"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Update an existing organization",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                }
              ]
            },
            "description": "Updates an organization's information such as legal name, address, or status. Only supplied fields will be updated.",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"address\": {\n    \"city\": \"New York\",\n    \"country\": \"US\",\n    \"line1\": \"123 Financial Avenue\",\n    \"line2\": \"Suite 1500\",\n    \"state\": \"NY\",\n    \"zipCode\": \"10001\"\n  },\n  \"doingBusinessAs\": \"Lerian Group\",\n  \"legalName\": \"Lerian Financial Group Ltd.\",\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"parentOrganizationId\": null,\n  \"status\": {\n    \"code\": \"ACTIVE\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        }
      ]
    },
    {
      "name": "Ledgers",
      "description": "Endpoints for managing ledgers, which are financial record-keeping systems for tracking assets, accounts, and transactions within an organization.",
      "item": [
        {
          "name": "List all ledgers",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                }
              ],
              "query": [
                {
                  "key": "metadata",
                  "value": "",
                  "description": "JSON string to filter ledgers by metadata fields",
                  "disabled": true
                },
                {
                  "key": "limit",
                  "value": "",
                  "description": "Maximum number of records to return per page",
                  "disabled": true
                },
                {
                  "key": "page",
                  "value": "",
                  "description": "Page number for pagination",
                  "disabled": true
                },
                {
                  "key": "start_date",
                  "value": "",
                  "description": "Filter ledgers created on or after this date (format: YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "end_date",
                  "value": "",
                  "description": "Filter ledgers created on or before this date (format: YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "sort_order",
                  "value": "",
                  "description": "Sort direction for results based on creation date",
                  "disabled": true
                }
              ]
            },
            "description": "Returns a paginated list of ledgers within the specified organization, optionally filtered by metadata, date range, and other criteria"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Create a new ledger",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                }
              ]
            },
            "description": "Creates a new ledger within the specified organization. A ledger is a financial record-keeping system for tracking assets, accounts, and transactions.",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"name\": \"Example name\",\n  \"status\": {\n    \"code\": \"ACTIVE\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  "",
                  "// Validate required variables",
                  "",
                  "if (!pm.environment.get(\"organizationId\")) {",
                  "  console.log(\"Warning: organizationId is not set. This request may fail.\");",
                  "}"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  "",
                  "// Extract variables from response for use in subsequent requests",
                  "",
                  "try {",
                  "  var jsonData = pm.response.json();",
                  "  if (jsonData && jsonData.id) {",
                  "    pm.environment.set(\"ledgerId\", jsonData.id);",
                  "    console.log(\"ledgerId set to: \" + jsonData.id);",
                  "  }",
                  "} catch (error) {",
                  "  console.error(\"Failed to extract ledgerId: \", error);",
                  "}"
                ]
              }
            }
          ]
        },
        {
          "name": "Count total ledgers",
          "request": {
            "method": "HEAD",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/metrics/count",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "metrics",
                "count"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                }
              ]
            },
            "description": "Returns the total count of ledgers for a specific organization as a header without a response body"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  "",
                  "// Validate required variables",
                  "",
                  "if (!pm.environment.get(\"organizationId\")) {",
                  "  console.log(\"Warning: organizationId is not set. This request may fail.\");",
                  "}"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  // HEAD responses have no body, skip JSON validation",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Retrieve a specific ledger",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ]
            },
            "description": "Returns detailed information about a ledger identified by its UUID within the specified organization"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  "",
                  "// Validate required variables",
                  "",
                  "if (!pm.environment.get(\"organizationId\")) {",
                  "  console.log(\"Warning: organizationId is not set. This request may fail.\");",
                  "}",
                  "if (!pm.environment.get(\"ledgerId\")) {",
                  "  console.log(\"Warning: ledgerId is not set. This request may fail.\");",
                  "}"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Delete a ledger",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ]
            },
            "description": "Permanently removes a ledger identified by its UUID. Note: This operation is not available in production environments."
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  "",
                  "// Validate required variables",
                  "",
                  "if (!pm.environment.get(\"organizationId\")) {",
                  "  console.log(\"Warning: organizationId is not set. This request may fail.\");",
                  "}",
                  "if (!pm.environment.get(\"ledgerId\")) {",
                  "  console.log(\"Warning: ledgerId is not set. This request may fail.\");",
                  "}"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Update an existing ledger",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ]
            },
            "description": "Updates a ledger's information such as name, status, or metadata. Only supplied fields will be updated.",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"name\": \"Treasury Operations Global\",\n  \"status\": {\n    \"code\": \"ACTIVE\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        }
      ]
    },
    {
      "name": "Account Types",
      "description": "Endpoints related to Account Types.",
      "item": [
        {
          "name": "Get all account types",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/account-types",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "account-types"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ],
              "query": [
                {
                  "key": "metadata",
                  "value": "",
                  "description": "JSON string to filter account types by metadata fields",
                  "disabled": true
                },
                {
                  "key": "limit",
                  "value": "",
                  "description": "Limit of account types per page (default: 10, max: 100)",
                  "disabled": true
                },
                {
                  "key": "page",
                  "value": "",
                  "description": "Page number for offset pagination (default: 1)",
                  "disabled": true
                },
                {
                  "key": "cursor",
                  "value": "",
                  "description": "Cursor for cursor-based pagination",
                  "disabled": true
                },
                {
                  "key": "sort_order",
                  "value": "",
                  "description": "Sort order (asc or desc, default: asc)",
                  "disabled": true
                },
                {
                  "key": "start_date",
                  "value": "",
                  "description": "Start date for filtering (YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "end_date",
                  "value": "",
                  "description": "End date for filtering (YYYY-MM-DD)",
                  "disabled": true
                }
              ]
            },
            "description": "Returns a paginated list of all account types for the specified organization and ledger, optionally filtered by metadata"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Create Account Type",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/account-types",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "account-types"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ]
            },
            "description": "Endpoint to create a new Account Type.",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"description\": \"Assets that are expected to be converted to cash within one year\",\n  \"keyValue\": \"current_assets\",\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"name\": \"Current Assets\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Retrieve a specific account type",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/account-types/{{ledgerId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "account-types",
                "{{ledgerId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{ledgerId}}",
                  "description": "Account Type ID in UUID format"
                }
              ]
            },
            "description": "Returns detailed information about an account type identified by its UUID within the specified ledger"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Delete an account type",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/account-types/{{ledgerId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "account-types",
                "{{ledgerId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{ledgerId}}",
                  "description": "Account Type ID in UUID format"
                }
              ]
            },
            "description": "Deletes an existing account type identified by its UUID within the specified ledger"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Update Account Type",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/account-types/{{ledgerId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "account-types",
                "{{ledgerId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{ledgerId}}",
                  "description": "Account Type ID in UUID format"
                }
              ]
            },
            "description": "Endpoint to update an existing Account Type.",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"description\": \"Assets that are expected to be converted to cash within one year\",\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"name\": \"Current Assets\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        }
      ]
    },
    {
      "name": "Accounts",
      "description": "Endpoints for managing accounts, which represent individual financial entities like bank accounts, credit cards, or expense categories within a ledger.",
      "item": [
        {
          "name": "List all accounts",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "accounts"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ],
              "query": [
                {
                  "key": "metadata",
                  "value": "",
                  "description": "JSON string to filter accounts by metadata fields",
                  "disabled": true
                },
                {
                  "key": "limit",
                  "value": "",
                  "description": "Maximum number of records to return per page",
                  "disabled": true
                },
                {
                  "key": "page",
                  "value": "",
                  "description": "Page number for pagination",
                  "disabled": true
                },
                {
                  "key": "start_date",
                  "value": "",
                  "description": "Filter accounts created on or after this date (format: YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "end_date",
                  "value": "",
                  "description": "Filter accounts created on or before this date (format: YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "sort_order",
                  "value": "",
                  "description": "Sort direction for results based on creation date",
                  "disabled": true
                }
              ]
            },
            "description": "Returns a paginated list of accounts within the specified ledger, optionally filtered by metadata, date range, and other criteria"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Create a new account",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "accounts"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ]
            },
            "description": "Creates a new account within the specified ledger. Accounts represent individual financial entities like bank accounts, credit cards, or expense categories.",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"alias\": \"@treasury_checking\",\n  \"assetCode\": \"USD\",\n  \"entityId\": \"EXT-ACC-12345\",\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"name\": \"Corporate Checking Account\",\n  \"parentAccountId\": null,\n  \"portfolioId\": null,\n  \"segmentId\": null,\n  \"status\": {\n    \"code\": \"ACTIVE\"\n  },\n  \"type\": \"deposit\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  "",
                  "// Validate required variables",
                  "",
                  "if (!pm.environment.get(\"organizationId\")) {",
                  "  console.log(\"Warning: organizationId is not set. This request may fail.\");",
                  "}",
                  "if (!pm.environment.get(\"ledgerId\")) {",
                  "  console.log(\"Warning: ledgerId is not set. This request may fail.\");",
                  "}"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  "",
                  "// Extract variables from response for use in subsequent requests",
                  "",
                  "try {",
                  "  var jsonData = pm.response.json();",
                  "  if (jsonData && jsonData.id) {",
                  "    pm.environment.set(\"accountId\", jsonData.id);",
                  "    console.log(\"accountId set to: \" + jsonData.id);",
                  "  }",
                  "} catch (error) {",
                  "  console.error(\"Failed to extract accountId: \", error);",
                  "}",
                  "try {",
                  "  var jsonData = pm.response.json();",
                  "  if (jsonData && jsonData.alias) {",
                  "    pm.environment.set(\"accountAlias\", jsonData.alias);",
                  "    console.log(\"accountAlias set to: \" + jsonData.alias);",
                  "  }",
                  "} catch (error) {",
                  "  console.error(\"Failed to extract accountAlias: \", error);",
                  "}"
                ]
              }
            }
          ]
        },
        {
          "name": "Retrieve an account by alias",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts/alias/{{accountAlias}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "accounts",
                "alias",
                "{{accountAlias}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "alias",
                  "value": "",
                  "description": "Account alias (e.g. @person1)"
                }
              ]
            },
            "description": "Returns detailed information about an account identified by its alias within the specified ledger"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 404]); // 404 acceptable if resource not found",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  if (pm.response.code === 200) { pm.response.to.be.json; } // Only validate JSON for successful responses",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Retrieve an account by alias",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts/external/{{externalCode}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "accounts",
                "external",
                "{{externalCode}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "code",
                  "value": "",
                  "description": "Account External Code (e.g. BRL)"
                }
              ]
            },
            "description": "Returns detailed information about an account identified by its alias within the specified ledger"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 404]); // 404 acceptable if resource not found",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  if (pm.response.code === 200) { pm.response.to.be.json; } // Only validate JSON for successful responses",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Count accounts",
          "request": {
            "method": "HEAD",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts/metrics/count",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "accounts",
                "metrics",
                "count"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ]
            },
            "description": "Returns the total count of accounts for the specified organization, ledger, and optional portfolio"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  "",
                  "// Validate required variables",
                  "",
                  "if (!pm.environment.get(\"organizationId\")) {",
                  "  console.log(\"Warning: organizationId is not set. This request may fail.\");",
                  "}",
                  "if (!pm.environment.get(\"ledgerId\")) {",
                  "  console.log(\"Warning: ledgerId is not set. This request may fail.\");",
                  "}"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  // HEAD responses have no body, skip JSON validation",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Retrieve a specific account",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts/{{accountId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "accounts",
                "{{accountId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{accountId}}",
                  "description": "Account ID in UUID format"
                }
              ]
            },
            "description": "Returns detailed information about an account identified by its UUID within the specified ledger"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  "",
                  "// Validate required variables",
                  "",
                  "if (!pm.environment.get(\"organizationId\")) {",
                  "  console.log(\"Warning: organizationId is not set. This request may fail.\");",
                  "}",
                  "if (!pm.environment.get(\"ledgerId\")) {",
                  "  console.log(\"Warning: ledgerId is not set. This request may fail.\");",
                  "}",
                  "if (!pm.environment.get(\"accountId\")) {",
                  "  console.log(\"Warning: accountId is not set. This request may fail.\");",
                  "}"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Delete an account",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts/{{accountId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "accounts",
                "{{accountId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{accountId}}",
                  "description": "Account ID in UUID format"
                }
              ]
            },
            "description": "Permanently removes an account from the specified ledger. This operation cannot be undone."
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  "",
                  "// Validate required variables",
                  "",
                  "if (!pm.environment.get(\"organizationId\")) {",
                  "  console.log(\"Warning: organizationId is not set. This request may fail.\");",
                  "}",
                  "if (!pm.environment.get(\"ledgerId\")) {",
                  "  console.log(\"Warning: ledgerId is not set. This request may fail.\");",
                  "}",
                  "if (!pm.environment.get(\"accountId\")) {",
                  "  console.log(\"Warning: accountId is not set. This request may fail.\");",
                  "}"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Update an account",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts/{{accountId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "accounts",
                "{{accountId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{accountId}}",
                  "description": "Account ID in UUID format"
                }
              ]
            },
            "description": "Updates an existing account's properties such as name, status, portfolio, segment, and metadata within the specified ledger",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"entityId\": \"EXT-ACC-12345\",\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"name\": \"Primary Corporate Checking Account\",\n  \"portfolioId\": null,\n  \"segmentId\": null,\n  \"status\": {\n    \"code\": \"ACTIVE\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        }
      ]
    },
    {
      "name": "Assets",
      "description": "Endpoints for managing assets, which represent the types of value that can be transferred between accounts.",
      "item": [
        {
          "name": "List all assets",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/assets",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "assets"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ],
              "query": [
                {
                  "key": "metadata",
                  "value": "",
                  "description": "JSON string to filter assets by metadata fields",
                  "disabled": true
                },
                {
                  "key": "limit",
                  "value": "",
                  "description": "Maximum number of records to return per page",
                  "disabled": true
                },
                {
                  "key": "page",
                  "value": "",
                  "description": "Page number for pagination",
                  "disabled": true
                },
                {
                  "key": "start_date",
                  "value": "",
                  "description": "Filter assets created on or after this date (format: YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "end_date",
                  "value": "",
                  "description": "Filter assets created on or before this date (format: YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "sort_order",
                  "value": "",
                  "description": "Sort direction for results based on creation date",
                  "disabled": true
                }
              ]
            },
            "description": "Returns a paginated list of assets within the specified ledger, optionally filtered by metadata, date range, and other criteria"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Create a new asset",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/assets",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "assets"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ]
            },
            "description": "Creates a new asset within the specified ledger. Assets represent currencies, cryptocurrencies, commodities, or other financial instruments tracked in the ledger.",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"code\": \"USD\",\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"name\": \"US Dollar\",\n  \"status\": {\n    \"code\": \"ACTIVE\"\n  },\n  \"type\": \"currency\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  "",
                  "// Validate required variables",
                  "",
                  "if (!pm.environment.get(\"organizationId\")) {",
                  "  console.log(\"Warning: organizationId is not set. This request may fail.\");",
                  "}",
                  "if (!pm.environment.get(\"ledgerId\")) {",
                  "  console.log(\"Warning: ledgerId is not set. This request may fail.\");",
                  "}"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  "",
                  "// Extract variables from response for use in subsequent requests",
                  "",
                  "try {",
                  "  var jsonData = pm.response.json();",
                  "  if (jsonData && jsonData.id) {",
                  "    pm.environment.set(\"assetId\", jsonData.id);",
                  "    console.log(\"assetId set to: \" + jsonData.id);",
                  "  }",
                  "} catch (error) {",
                  "  console.error(\"Failed to extract assetId: \", error);",
                  "}"
                ]
              }
            }
          ]
        },
        {
          "name": "Count total assets",
          "request": {
            "method": "HEAD",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/assets/metrics/count",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "assets",
                "metrics",
                "count"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ]
            },
            "description": "Returns the total count of assets for a specific ledger in an organization as a header without a response body"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  "",
                  "// Validate required variables",
                  "",
                  "if (!pm.environment.get(\"organizationId\")) {",
                  "  console.log(\"Warning: organizationId is not set. This request may fail.\");",
                  "}",
                  "if (!pm.environment.get(\"ledgerId\")) {",
                  "  console.log(\"Warning: ledgerId is not set. This request may fail.\");",
                  "}"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  // HEAD responses have no body, skip JSON validation",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Retrieve a specific asset",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/assets/{{assetId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "assets",
                "{{assetId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{assetId}}",
                  "description": "Asset ID in UUID format"
                }
              ]
            },
            "description": "Returns detailed information about an asset identified by its UUID within the specified ledger"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  "",
                  "// Validate required variables",
                  "",
                  "if (!pm.environment.get(\"organizationId\")) {",
                  "  console.log(\"Warning: organizationId is not set. This request may fail.\");",
                  "}",
                  "if (!pm.environment.get(\"ledgerId\")) {",
                  "  console.log(\"Warning: ledgerId is not set. This request may fail.\");",
                  "}",
                  "if (!pm.environment.get(\"assetId\")) {",
                  "  console.log(\"Warning: assetId is not set. This request may fail.\");",
                  "}"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Delete an asset",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/assets/{{assetId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "assets",
                "{{assetId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{assetId}}",
                  "description": "Asset ID in UUID format"
                }
              ]
            },
            "description": "Permanently removes an asset from the specified ledger. This operation cannot be undone."
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  "",
                  "// Validate required variables",
                  "",
                  "if (!pm.environment.get(\"organizationId\")) {",
                  "  console.log(\"Warning: organizationId is not set. This request may fail.\");",
                  "}",
                  "if (!pm.environment.get(\"ledgerId\")) {",
                  "  console.log(\"Warning: ledgerId is not set. This request may fail.\");",
                  "}",
                  "if (!pm.environment.get(\"assetId\")) {",
                  "  console.log(\"Warning: assetId is not set. This request may fail.\");",
                  "}"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Update an asset",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/assets/{{assetId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "assets",
                "{{assetId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{assetId}}",
                  "description": "Asset ID in UUID format"
                }
              ]
            },
            "description": "Updates an existing asset's properties such as name, status, and metadata within the specified ledger",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"name\": \"Bitcoin\",\n  \"status\": {\n    \"code\": \"ACTIVE\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        }
      ]
    },
    {
      "name": "Portfolios",
      "description": "Endpoints for managing portfolios, which are collections of accounts grouped for reporting or management purposes.",
      "item": [
        {
          "name": "List all portfolios",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/portfolios",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "portfolios"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ],
              "query": [
                {
                  "key": "metadata",
                  "value": "",
                  "description": "JSON string to filter portfolios by metadata fields",
                  "disabled": true
                },
                {
                  "key": "limit",
                  "value": "",
                  "description": "Maximum number of records to return per page",
                  "disabled": true
                },
                {
                  "key": "page",
                  "value": "",
                  "description": "Page number for pagination",
                  "disabled": true
                },
                {
                  "key": "start_date",
                  "value": "",
                  "description": "Filter portfolios created on or after this date (format: YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "end_date",
                  "value": "",
                  "description": "Filter portfolios created on or before this date (format: YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "sort_order",
                  "value": "",
                  "description": "Sort direction for results based on creation date",
                  "disabled": true
                }
              ]
            },
            "description": "Returns a paginated list of portfolios within the specified ledger, optionally filtered by metadata, date range, and other criteria"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Create a new portfolio",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/portfolios",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "portfolios"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ]
            },
            "description": "Creates a new portfolio within the specified ledger. Portfolios represent collections of accounts grouped for specific purposes such as business units, departments, or client portfolios.",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"entityId\": \"00000000-0000-0000-0000-000000000000\",\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"name\": \"My Portfolio\",\n  \"status\": {\n    \"code\": \"ACTIVE\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  "",
                  "// Validate required variables",
                  "",
                  "if (!pm.environment.get(\"organizationId\")) {",
                  "  console.log(\"Warning: organizationId is not set. This request may fail.\");",
                  "}",
                  "if (!pm.environment.get(\"ledgerId\")) {",
                  "  console.log(\"Warning: ledgerId is not set. This request may fail.\");",
                  "}"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  "",
                  "// Extract variables from response for use in subsequent requests",
                  "",
                  "try {",
                  "  var jsonData = pm.response.json();",
                  "  if (jsonData && jsonData.id) {",
                  "    pm.environment.set(\"portfolioId\", jsonData.id);",
                  "    console.log(\"portfolioId set to: \" + jsonData.id);",
                  "  }",
                  "} catch (error) {",
                  "  console.error(\"Failed to extract portfolioId: \", error);",
                  "}"
                ]
              }
            }
          ]
        },
        {
          "name": "Count total portfolios",
          "request": {
            "method": "HEAD",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/portfolios/metrics/count",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "portfolios",
                "metrics",
                "count"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ]
            },
            "description": "Returns the total count of portfolios for a specific organization and ledger as a header without a response body"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  "",
                  "// Validate required variables",
                  "",
                  "if (!pm.environment.get(\"organizationId\")) {",
                  "  console.log(\"Warning: organizationId is not set. This request may fail.\");",
                  "}",
                  "if (!pm.environment.get(\"ledgerId\")) {",
                  "  console.log(\"Warning: ledgerId is not set. This request may fail.\");",
                  "}"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  // HEAD responses have no body, skip JSON validation",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Retrieve a specific portfolio",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/portfolios/{{portfolioId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "portfolios",
                "{{portfolioId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{portfolioId}}",
                  "description": "Portfolio ID in UUID format"
                }
              ]
            },
            "description": "Returns detailed information about a portfolio identified by its UUID within the specified ledger"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  "",
                  "// Validate required variables",
                  "",
                  "if (!pm.environment.get(\"organizationId\")) {",
                  "  console.log(\"Warning: organizationId is not set. This request may fail.\");",
                  "}",
                  "if (!pm.environment.get(\"ledgerId\")) {",
                  "  console.log(\"Warning: ledgerId is not set. This request may fail.\");",
                  "}",
                  "if (!pm.environment.get(\"portfolioId\")) {",
                  "  console.log(\"Warning: portfolioId is not set. This request may fail.\");",
                  "}"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Delete a portfolio",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/portfolios/{{portfolioId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "portfolios",
                "{{portfolioId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{portfolioId}}",
                  "description": "Portfolio ID in UUID format"
                }
              ]
            },
            "description": "Permanently removes a portfolio from the specified ledger. This operation cannot be undone."
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  "",
                  "// Validate required variables",
                  "",
                  "if (!pm.environment.get(\"organizationId\")) {",
                  "  console.log(\"Warning: organizationId is not set. This request may fail.\");",
                  "}",
                  "if (!pm.environment.get(\"ledgerId\")) {",
                  "  console.log(\"Warning: ledgerId is not set. This request may fail.\");",
                  "}",
                  "if (!pm.environment.get(\"portfolioId\")) {",
                  "  console.log(\"Warning: portfolioId is not set. This request may fail.\");",
                  "}"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Update a portfolio",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/portfolios/{{portfolioId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "portfolios",
                "{{portfolioId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{portfolioId}}",
                  "description": "Portfolio ID in UUID format"
                }
              ]
            },
            "description": "Updates an existing portfolio's properties such as name, entity ID, status, and metadata within the specified ledger",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"entityId\": \"00000000-0000-0000-0000-000000000000\",\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"name\": \"My Portfolio Updated\",\n  \"status\": {\n    \"code\": \"ACTIVE\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        }
      ]
    },
    {
      "name": "Segments",
      "description": "Endpoints for managing segments, which are used to categorize accounts for reporting or management purposes.",
      "item": [
        {
          "name": "List all segments",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/segments",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "segments"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ],
              "query": [
                {
                  "key": "metadata",
                  "value": "",
                  "description": "JSON string to filter segments by metadata fields",
                  "disabled": true
                },
                {
                  "key": "limit",
                  "value": "",
                  "description": "Maximum number of records to return per page",
                  "disabled": true
                },
                {
                  "key": "page",
                  "value": "",
                  "description": "Page number for pagination",
                  "disabled": true
                },
                {
                  "key": "start_date",
                  "value": "",
                  "description": "Filter segments created on or after this date (format: YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "end_date",
                  "value": "",
                  "description": "Filter segments created on or before this date (format: YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "sort_order",
                  "value": "",
                  "description": "Sort direction for results based on creation date",
                  "disabled": true
                }
              ]
            },
            "description": "Returns a paginated list of segments within the specified ledger, optionally filtered by metadata, date range, and other criteria"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Create a new segment",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/segments",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "segments"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ]
            },
            "description": "Creates a new segment within the specified ledger. Segments represent logical divisions within a ledger, such as business areas, product lines, or customer categories.",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"name\": \"My Segment\",\n  \"status\": {\n    \"code\": \"ACTIVE\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  "",
                  "// Validate required variables",
                  "",
                  "if (!pm.environment.get(\"organizationId\")) {",
                  "  console.log(\"Warning: organizationId is not set. This request may fail.\");",
                  "}",
                  "if (!pm.environment.get(\"ledgerId\")) {",
                  "  console.log(\"Warning: ledgerId is not set. This request may fail.\");",
                  "}"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  "",
                  "// Extract variables from response for use in subsequent requests",
                  "",
                  "try {",
                  "  var jsonData = pm.response.json();",
                  "  if (jsonData && jsonData.id) {",
                  "    pm.environment.set(\"segmentId\", jsonData.id);",
                  "    console.log(\"segmentId set to: \" + jsonData.id);",
                  "  }",
                  "} catch (error) {",
                  "  console.error(\"Failed to extract segmentId: \", error);",
                  "}"
                ]
              }
            }
          ]
        },
        {
          "name": "Count segments",
          "request": {
            "method": "HEAD",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/segments/metrics/count",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "segments",
                "metrics",
                "count"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ]
            },
            "description": "Returns the total count of segments for the specified organization and ledger"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  "",
                  "// Validate required variables",
                  "",
                  "if (!pm.environment.get(\"organizationId\")) {",
                  "  console.log(\"Warning: organizationId is not set. This request may fail.\");",
                  "}",
                  "if (!pm.environment.get(\"ledgerId\")) {",
                  "  console.log(\"Warning: ledgerId is not set. This request may fail.\");",
                  "}"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  // HEAD responses have no body, skip JSON validation",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Retrieve a specific segment",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/segments/{{segmentId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "segments",
                "{{segmentId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{segmentId}}",
                  "description": "Segment ID in UUID format"
                }
              ]
            },
            "description": "Returns detailed information about a segment identified by its UUID within the specified ledger"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  "",
                  "// Validate required variables",
                  "",
                  "if (!pm.environment.get(\"organizationId\")) {",
                  "  console.log(\"Warning: organizationId is not set. This request may fail.\");",
                  "}",
                  "if (!pm.environment.get(\"ledgerId\")) {",
                  "  console.log(\"Warning: ledgerId is not set. This request may fail.\");",
                  "}",
                  "if (!pm.environment.get(\"segmentId\")) {",
                  "  console.log(\"Warning: segmentId is not set. This request may fail.\");",
                  "}"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Delete a segment",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/segments/{{segmentId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "segments",
                "{{segmentId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{segmentId}}",
                  "description": "Segment ID in UUID format"
                }
              ]
            },
            "description": "Permanently removes a segment from the specified ledger. This operation cannot be undone."
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  "",
                  "// Validate required variables",
                  "",
                  "if (!pm.environment.get(\"organizationId\")) {",
                  "  console.log(\"Warning: organizationId is not set. This request may fail.\");",
                  "}",
                  "if (!pm.environment.get(\"ledgerId\")) {",
                  "  console.log(\"Warning: ledgerId is not set. This request may fail.\");",
                  "}",
                  "if (!pm.environment.get(\"segmentId\")) {",
                  "  console.log(\"Warning: segmentId is not set. This request may fail.\");",
                  "}"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Update a segment",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/segments/{{segmentId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "segments",
                "{{segmentId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{segmentId}}",
                  "description": "Segment ID in UUID format"
                }
              ]
            },
            "description": "Updates an existing segment's properties such as name, status, and metadata within the specified ledger",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"name\": \"My Segment Updated\",\n  \"status\": {\n    \"code\": \"ACTIVE\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        }
      ]
    },
    {
      "name": "Balances",
      "description": "Endpoints for retrieving account balances, which represent the current value of an account.",
      "item": [
        {
          "name": "Get Balances using Alias",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts/alias/{{accountAlias}}/balances",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "accounts",
                "alias",
                "{{accountAlias}}",
                "balances"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                },
                {
                  "key": "alias",
                  "value": "",
                  "description": "Alias (e.g. @person1)"
                }
              ]
            },
            "description": "Get Balances with alias"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 404]); // 404 acceptable if resource not found",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  if (pm.response.code === 200) { pm.response.to.be.json; } // Only validate JSON for successful responses",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Get External balances using code",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts/external/{{externalCode}}/balances",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "accounts",
                "external",
                "{{externalCode}}",
                "balances"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                },
                {
                  "key": "code",
                  "value": "",
                  "description": "Code (e.g. BRL)"
                }
              ]
            },
            "description": "Get External balances with code"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 404]); // 404 acceptable if resource not found",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  if (pm.response.code === 200) { pm.response.to.be.json; } // Only validate JSON for successful responses",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Get all balances by account id",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts/{{accountId}}/balances",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "accounts",
                "{{accountId}}",
                "balances"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                },
                {
                  "key": "account_id",
                  "value": "{{accountId}}",
                  "description": "Account ID"
                }
              ],
              "query": [
                {
                  "key": "limit",
                  "value": "",
                  "description": "Limit",
                  "disabled": true
                },
                {
                  "key": "start_date",
                  "value": "",
                  "description": "Start Date",
                  "disabled": true
                },
                {
                  "key": "end_date",
                  "value": "",
                  "description": "End Date",
                  "disabled": true
                },
                {
                  "key": "sort_order",
                  "value": "",
                  "description": "Sort Order",
                  "disabled": true
                },
                {
                  "key": "cursor",
                  "value": "",
                  "description": "Cursor",
                  "disabled": true
                }
              ]
            },
            "description": "Get all balances by account id"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  "",
                  "// Validate required variables",
                  "",
                  "if (!pm.environment.get(\"organizationId\")) {",
                  "  console.log(\"Warning: organizationId is not set. This request may fail.\");",
                  "}",
                  "if (!pm.environment.get(\"ledgerId\")) {",
                  "  console.log(\"Warning: ledgerId is not set. This request may fail.\");",
                  "}",
                  "if (!pm.environment.get(\"accountId\")) {",
                  "  console.log(\"Warning: accountId is not set. This request may fail.\");",
                  "}"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  "",
                  "// Extract variables from response for use in subsequent requests",
                  "",
                  "try {",
                  "  var jsonData = pm.response.json();",
                  "  // Check if this is a transaction response with operations",
                  "  if (jsonData && jsonData.operations && jsonData.operations.length > 0 && jsonData.operations[0].balanceId) {",
                  "    // Find the destination operation (the one with account in the 'destination' array)",
                  "    var destinationOp = null;",
                  "    if (jsonData.destination && jsonData.destination.length > 0) {",
                  "      const destAccount = jsonData.destination[0];",
                  "      destinationOp = jsonData.operations.find(op => op.accountAlias === destAccount);",
                  "    }",
                  "    ",
                  "    // If we couldn't find by alias, try to find a CREDIT operation (usually the destination)",
                  "    if (!destinationOp) {",
                  "      destinationOp = jsonData.operations.find(op => op.type === 'CREDIT');",
                  "    }",
                  "    ",
                  "    // If we still couldn't find it, use the first operation",
                  "    if (!destinationOp && jsonData.operations.length > 0) {",
                  "      destinationOp = jsonData.operations[0];",
                  "    }",
                  "    ",
                  "    if (destinationOp && destinationOp.balanceId) {",
                  "      pm.environment.set(\"balanceId\", destinationOp.balanceId);",
                  "      console.log(\"balanceId set to: \" + destinationOp.balanceId);",
                  "    }",
                  "  }",
                  "  // Check if response is an array with at least one item",
                  "  else if (Array.isArray(jsonData) && jsonData.length > 0 && jsonData[0].id) {",
                  "    pm.environment.set(\"balanceId\", jsonData[0].id);",
                  "    console.log(\"balanceId set to: \" + jsonData[0].id);",
                  "  } ",
                  "  // Check if response has a data array with at least one item",
                  "  else if (jsonData && Array.isArray(jsonData.data) && jsonData.data.length > 0 && jsonData.data[0].id) {",
                  "    pm.environment.set(\"balanceId\", jsonData.data[0].id);",
                  "    console.log(\"balanceId set to: \" + jsonData.data[0].id);",
                  "  }",
                  "} catch (error) {",
                  "  console.error(\"Failed to extract balanceId: \", error);",
                  "}"
                ]
              }
            }
          ]
        },
        {
          "name": "Create Additional Balance",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts/{{accountId}}/balances",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "accounts",
                "{{accountId}}",
                "balances"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                },
                {
                  "key": "account_id",
                  "value": "{{accountId}}",
                  "description": "Account ID"
                }
              ]
            },
            "description": "Create an Additional Balance with the input payload",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"allowReceiving\": true,\n  \"allowSending\": true,\n  \"key\": \"asset-freeze\",\n  \"assetCode\": \"USD\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Get all balances",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/balances",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "balances"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                }
              ],
              "query": [
                {
                  "key": "limit",
                  "value": "",
                  "description": "Limit",
                  "disabled": true
                },
                {
                  "key": "start_date",
                  "value": "",
                  "description": "Start Date",
                  "disabled": true
                },
                {
                  "key": "end_date",
                  "value": "",
                  "description": "End Date",
                  "disabled": true
                },
                {
                  "key": "sort_order",
                  "value": "",
                  "description": "Sort Order",
                  "disabled": true
                },
                {
                  "key": "cursor",
                  "value": "",
                  "description": "Cursor",
                  "disabled": true
                }
              ]
            },
            "description": "Get all balances"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Get Balance by id",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/balances/{{balanceId}}",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "balances",
                "{{balanceId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                },
                {
                  "key": "balance_id",
                  "value": "{{balanceId}}",
                  "description": "Balance ID"
                }
              ]
            },
            "description": "Get a Balance with the input ID"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Delete Balance by account",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/balances/{{balanceId}}",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "balances",
                "{{balanceId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                },
                {
                  "key": "balance_id",
                  "value": "{{balanceId}}",
                  "description": "Balance ID"
                }
              ]
            },
            "description": "Delete a Balance with the input ID"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Update Balance",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/balances/{{balanceId}}",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "balances",
                "{{balanceId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                },
                {
                  "key": "balance_id",
                  "value": "{{balanceId}}",
                  "description": "Balance ID"
                }
              ]
            },
            "description": "Update a Balance with the input payload",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"allowReceiving\": true,\n  \"allowSending\": true\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        }
      ]
    },
    {
      "name": "Operations",
      "description": "Endpoints for managing operations, which are the individual debit and credit entries that make up a transaction.",
      "item": [
        {
          "name": "Get all Operations by account",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts/{{accountId}}/operations",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "accounts",
                "{{accountId}}",
                "operations"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                },
                {
                  "key": "account_id",
                  "value": "{{accountId}}",
                  "description": "Account ID"
                }
              ],
              "query": [
                {
                  "key": "limit",
                  "value": "",
                  "description": "Limit",
                  "disabled": true
                },
                {
                  "key": "start_date",
                  "value": "",
                  "description": "Start Date",
                  "disabled": true
                },
                {
                  "key": "end_date",
                  "value": "",
                  "description": "End Date",
                  "disabled": true
                },
                {
                  "key": "sort_order",
                  "value": "",
                  "description": "Sort Order",
                  "disabled": true
                },
                {
                  "key": "cursor",
                  "value": "",
                  "description": "Cursor",
                  "disabled": true
                },
                {
                  "key": "type",
                  "value": "",
                  "description": "DEBIT, CREDIT",
                  "disabled": true
                }
              ]
            },
            "description": "Get all Operations with the input ID"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  "",
                  "// Validate required variables",
                  "",
                  "if (!pm.environment.get(\"organizationId\")) {",
                  "  console.log(\"Warning: organizationId is not set. This request may fail.\");",
                  "}",
                  "if (!pm.environment.get(\"ledgerId\")) {",
                  "  console.log(\"Warning: ledgerId is not set. This request may fail.\");",
                  "}",
                  "if (!pm.environment.get(\"accountId\")) {",
                  "  console.log(\"Warning: accountId is not set. This request may fail.\");",
                  "}"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  "",
                  "// Extract variables from response for use in subsequent requests",
                  "",
                  "try {",
                  "  var jsonData = pm.response.json();",
                  "  // Check if this is a transaction response with operations",
                  "  if (jsonData && jsonData.operations && Array.isArray(jsonData.operations) && jsonData.operations.length > 0) {",
                  "    var operationToUse = null;",
                  "    ",
                  "    // Try multiple strategies to find the right operation",
                  "    // Strategy 1: Find destination operation based on account alias",
                  "    if (jsonData.destination && Array.isArray(jsonData.destination) && jsonData.destination.length > 0) {",
                  "      const destAccount = jsonData.destination[0];",
                  "      operationToUse = jsonData.operations.find(op => ",
                  "        op.accountAlias === destAccount || ",
                  "        op.account === destAccount ||",
                  "        (op.accountId && pm.environment.get(\"accountId\") && op.accountId === pm.environment.get(\"accountId\"))",
                  "      );",
                  "    }",
                  "    ",
                  "    // Strategy 2: Find CREDIT operation (usually the destination in double-entry)",
                  "    if (!operationToUse) {",
                  "      operationToUse = jsonData.operations.find(op => op.type === 'CREDIT');",
                  "    }",
                  "    ",
                  "    // Strategy 3: Find operation with non-zero positive amount",
                  "    if (!operationToUse) {",
                  "      operationToUse = jsonData.operations.find(op => ",
                  "        op.amount && typeof op.amount === 'object' && op.amount.value > 0",
                  "      );",
                  "    }",
                  "    ",
                  "    // Strategy 4: Use the first operation with valid ID",
                  "    if (!operationToUse) {",
                  "      operationToUse = jsonData.operations.find(op => op.id && op.id.length > 0);",
                  "    }",
                  "    ",
                  "    // Strategy 5: Just use the first operation",
                  "    if (!operationToUse && jsonData.operations.length > 0) {",
                  "      operationToUse = jsonData.operations[0];",
                  "    }",
                  "    ",
                  "    if (operationToUse && operationToUse.id) {",
                  "      pm.environment.set(\"operationId\", operationToUse.id);",
                  "      console.log(\"operationId set to: \" + operationToUse.id + \" (from operation: \" + JSON.stringify(operationToUse) + \")\");",
                  "    } else {",
                  "      console.warn(\"No valid operation found for operationId extraction. Operations: \" + JSON.stringify(jsonData.operations));",
                  "    }",
                  "  } else {",
                  "    console.warn(\"No operations array found in response for operationId extraction. Response: \" + JSON.stringify(jsonData));",
                  "  }",
                  "} catch (error) {",
                  "  console.error(\"Failed to extract operationId: \", error);",
                  "  console.error(\"Response data: \", pm.response.text());",
                  "}"
                ]
              }
            }
          ]
        },
        {
          "name": "Get Operation",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts/{{accountId}}/operations/{{operationId}}",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "accounts",
                "{{accountId}}",
                "operations",
                "{{operationId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                },
                {
                  "key": "account_id",
                  "value": "{{accountId}}",
                  "description": "Account ID"
                },
                {
                  "key": "operation_id",
                  "value": "{{operationId}}",
                  "description": "Operation ID"
                }
              ]
            },
            "description": "Get an Operation with the input ID"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  "",
                  "// Validate required variables",
                  "",
                  "if (!pm.environment.get(\"organizationId\")) {",
                  "  console.log(\"Warning: organizationId is not set. This request may fail.\");",
                  "}",
                  "if (!pm.environment.get(\"ledgerId\")) {",
                  "  console.log(\"Warning: ledgerId is not set. This request may fail.\");",
                  "}",
                  "if (!pm.environment.get(\"accountId\")) {",
                  "  console.log(\"Warning: accountId is not set. This request may fail.\");",
                  "}",
                  "if (!pm.environment.get(\"operationId\")) {",
                  "  console.log(\"Warning: operationId is not set. This request may fail.\");",
                  "}"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Update an Operation",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/transactions/{{transactionId}}/operations/{{operationId}}",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "transactions",
                "{{transactionId}}",
                "operations",
                "{{operationId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                },
                {
                  "key": "transaction_id",
                  "value": "{{transactionId}}",
                  "description": "Transaction ID"
                },
                {
                  "key": "operation_id",
                  "value": "{{operationId}}",
                  "description": "Operation ID"
                }
              ]
            },
            "description": "Update an Operation with the input payload",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"description\": \"Credit card operation\",\n  \"metadata\": {\n    \"key\": \"value\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  "",
                  "// Validate required variables",
                  "",
                  "if (!pm.environment.get(\"organizationId\")) {",
                  "  console.log(\"Warning: organizationId is not set. This request may fail.\");",
                  "}",
                  "if (!pm.environment.get(\"ledgerId\")) {",
                  "  console.log(\"Warning: ledgerId is not set. This request may fail.\");",
                  "}",
                  "if (!pm.environment.get(\"transactionId\")) {",
                  "  console.log(\"Warning: transactionId is not set. This request may fail.\");",
                  "}",
                  "if (!pm.environment.get(\"operationId\")) {",
                  "  console.log(\"Warning: operationId is not set. This request may fail.\");",
                  "}"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        }
      ]
    },
    {
      "name": "Operation Route",
      "description": "Endpoints related to Operation Route.",
      "item": [
        {
          "name": "Retrieve all operation routes",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/operation-routes",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "operation-routes"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ],
              "query": [
                {
                  "key": "limit",
                  "value": "",
                  "description": "Limit",
                  "disabled": true
                },
                {
                  "key": "start_date",
                  "value": "",
                  "description": "Start Date",
                  "disabled": true
                },
                {
                  "key": "end_date",
                  "value": "",
                  "description": "End Date",
                  "disabled": true
                },
                {
                  "key": "sort_order",
                  "value": "",
                  "description": "Sort Order",
                  "disabled": true
                },
                {
                  "key": "cursor",
                  "value": "",
                  "description": "Cursor",
                  "disabled": true
                }
              ]
            },
            "description": "Returns a list of all operation routes within the specified ledger with cursor-based pagination"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Create Operation Route",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/operation-routes",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "operation-routes"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ]
            },
            "description": "Endpoint to create a new Operation Route.",
            "body": {
              "mode": "raw",
              "raw": "{}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Retrieve a specific operation route",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/operation-routes/{{ledgerId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "operation-routes",
                "{{ledgerId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{ledgerId}}",
                  "description": "Operation Route ID in UUID format"
                }
              ]
            },
            "description": "Returns detailed information about an operation route identified by its UUID within the specified ledger"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Delete an operation route",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/operation-routes/{{operationRouteId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "operation-routes",
                "{{operationRouteId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "operation_route_id",
                  "value": "{{operationRouteId}}",
                  "description": "Operation Route ID in UUID format"
                }
              ]
            },
            "description": "Deletes an existing operation route identified by its UUID within the specified ledger"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Update an operation route",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/operation-routes/{{operationRouteId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "operation-routes",
                "{{operationRouteId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "operation_route_id",
                  "value": "{{operationRouteId}}",
                  "description": "Operation Route ID in UUID format"
                }
              ]
            },
            "description": "Updates an existing operation route's properties such as title, description, and type within the specified ledger",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"account\": null,\n  \"code\": \"EXT-001\",\n  \"description\": \"This operation route handles cash-in transactions from service charge collections\",\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"title\": \"Cashin from service charge\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        }
      ]
    },
    {
      "name": "Transaction Route",
      "description": "Endpoints related to Transaction Route.",
      "item": [
        {
          "name": "Get all Transaction Routes",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/transaction-routes",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "transaction-routes"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ],
              "query": [
                {
                  "key": "limit",
                  "value": "",
                  "description": "Limit",
                  "disabled": true
                },
                {
                  "key": "start_date",
                  "value": "",
                  "description": "Start Date",
                  "disabled": true
                },
                {
                  "key": "end_date",
                  "value": "",
                  "description": "End Date",
                  "disabled": true
                },
                {
                  "key": "sort_order",
                  "value": "",
                  "description": "Sort Order",
                  "disabled": true
                },
                {
                  "key": "cursor",
                  "value": "",
                  "description": "Cursor",
                  "disabled": true
                }
              ]
            },
            "description": "Endpoint to get all Transaction Routes with optional metadata filtering."
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Create Transaction Route",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/transaction-routes",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "transaction-routes"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ]
            },
            "description": "Endpoint to create a new Transaction Route.",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"description\": \"Settlement route for service charges\",\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"operationRoutes\": [\n    \"Example string\"\n  ],\n  \"title\": \"Charge Settlement\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Get Transaction Route by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/transaction-routes/{{transactionRouteId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "transaction-routes",
                "{{transactionRouteId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "transaction_route_id",
                  "value": "{{transactionRouteId}}",
                  "description": "Transaction Route ID in UUID format"
                }
              ]
            },
            "description": "Endpoint to get a Transaction Route by its ID."
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Delete Transaction Route by ID",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/transaction-routes/{{transactionRouteId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "transaction-routes",
                "{{transactionRouteId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "transaction_route_id",
                  "value": "{{transactionRouteId}}",
                  "description": "Transaction Route ID in UUID format"
                }
              ]
            },
            "description": "Endpoint to delete a Transaction Route by its ID."
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Update Transaction Route",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/transaction-routes/{{transactionRouteId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "transaction-routes",
                "{{transactionRouteId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "transaction_route_id",
                  "value": "{{transactionRouteId}}",
                  "description": "Transaction Route ID in UUID format"
                }
              ]
            },
            "description": "Endpoint to update a Transaction Route by its ID.",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"description\": \"Settlement route for service charges\",\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"operationRoutes\": [\n    \"Example string\"\n  ],\n  \"title\": \"Charge Settlement\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        }
      ]
    },
    {
      "name": "Transactions",
      "description": "Endpoints for managing transactions, which represent the movement of value between accounts.",
      "item": [
        {
          "name": "Get all Transactions",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/transactions",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "transactions"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                }
              ],
              "query": [
                {
                  "key": "limit",
                  "value": "",
                  "description": "Limit",
                  "disabled": true
                },
                {
                  "key": "start_date",
                  "value": "",
                  "description": "Start Date",
                  "disabled": true
                },
                {
                  "key": "end_date",
                  "value": "",
                  "description": "End Date",
                  "disabled": true
                },
                {
                  "key": "sort_order",
                  "value": "",
                  "description": "Sort Order",
                  "disabled": true
                },
                {
                  "key": "cursor",
                  "value": "",
                  "description": "Cursor",
                  "disabled": true
                }
              ]
            },
            "description": "Get all Transactions with the input metadata or without metadata"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Create a Transaction Annotation using JSON",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/transactions/annotation",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "transactions",
                "annotation"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                }
              ]
            },
            "description": "Create a Transaction Annotation with the input payload",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"chartOfAccountsGroupName\": \"Example chartOfAccountsGroupName\",\n  \"code\": \"Example code\",\n  \"description\": \"Example description\",\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"send\": {\n    \"asset\": \"USD\",\n    \"distribute\": {\n      \"to\": [\n        {\n          \"accountAlias\": \"Example accountAlias\",\n          \"amount\": {\n            \"asset\": \"USD\",\n            \"value\": \"100.00\"\n          },\n          \"chartOfAccounts\": \"Example chartOfAccounts\",\n          \"description\": \"Example description\",\n          \"metadata\": {\n            \"key\": \"value\"\n          }\n        }\n      ]\n    },\n    \"source\": {\n      \"from\": [\n        {\n          \"accountAlias\": \"Example accountAlias\",\n          \"amount\": {\n            \"asset\": \"USD\",\n            \"value\": \"100.00\"\n          },\n          \"chartOfAccounts\": \"Example chartOfAccounts\",\n          \"description\": \"Example description\",\n          \"metadata\": {\n            \"key\": \"value\"\n          }\n        }\n      ]\n    },\n    \"value\": \"100.00\"\n  },\n  \"transactionDate\": \"Example transactionDate\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Create a Transaction using DSL",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              },
              {
                "key": "X-Idempotency",
                "value": "{{idempotencyKey}}",
                "description": "Unique key to prevent duplicate transactions",
                "disabled": false
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/transactions/dsl",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "transactions",
                "dsl"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                }
              ]
            },
            "description": "Create a Transaction with the input DSL file"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "// Generate a unique idempotency key for this transaction",
                  "const timestamp = new Date().getTime();",
                  "const random = Math.floor(Math.random() * 1000000);",
                  "const stepId = pm.variables.get(\"$guid\") || \"\";",
                  "pm.environment.set(\"idempotencyKey\", timestamp + \"-\" + random + \"-\" + stepId.slice(0, 8));",
                  "console.log(\"Generated idempotency key:\", pm.environment.get(\"idempotencyKey\"));",
                  "",
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([400, 422]); // DSL endpoint requires proper DSL format",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Create a Transaction without passing from source",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/transactions/inflow",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "transactions",
                "inflow"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                }
              ]
            },
            "description": "Create a Transaction with the input payload",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"chartOfAccountsGroupName\": \"Example chartOfAccountsGroupName\",\n  \"code\": \"Example code\",\n  \"description\": \"Example description\",\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"send\": {\n    \"asset\": \"USD\",\n    \"distribute\": {\n      \"to\": [\n        {\n          \"accountAlias\": \"Example accountAlias\",\n          \"amount\": {\n            \"asset\": \"USD\",\n            \"value\": \"100.00\"\n          },\n          \"chartOfAccounts\": \"Example chartOfAccounts\",\n          \"description\": \"Example description\",\n          \"metadata\": {\n            \"key\": \"value\"\n          }\n        }\n      ]\n    },\n    \"value\": \"100.00\"\n  },\n  \"transactionDate\": \"Example transactionDate\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  "",
                  "// Validate required variables",
                  "",
                  "if (!pm.environment.get(\"organizationId\")) {",
                  "  console.log(\"Warning: organizationId is not set. This request may fail.\");",
                  "}",
                  "if (!pm.environment.get(\"ledgerId\")) {",
                  "  console.log(\"Warning: ledgerId is not set. This request may fail.\");",
                  "}",
                  "if (!pm.environment.get(\"accountAlias\")) {",
                  "  console.log(\"Warning: accountAlias is not set. This request may fail.\");",
                  "}"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  "",
                  "// Extract variables from response for use in subsequent requests",
                  "",
                  "try {",
                  "  var jsonData = pm.response.json();",
                  "  if (jsonData && jsonData.id) {",
                  "    pm.environment.set(\"inflowTransactionId\", jsonData.id);",
                  "    console.log(\"inflowTransactionId set to: \" + jsonData.id);",
                  "  }",
                  "} catch (error) {",
                  "  console.error(\"Failed to extract inflowTransactionId: \", error);",
                  "}",
                  "try {",
                  "  var jsonData = pm.response.json();",
                  "  // Check if this is a transaction response with operations",
                  "  if (jsonData && jsonData.operations && jsonData.operations.length > 0 && jsonData.operations[0].balanceId) {",
                  "    // Find the destination operation (the one with account in the 'destination' array)",
                  "    var destinationOp = null;",
                  "    if (jsonData.destination && jsonData.destination.length > 0) {",
                  "      const destAccount = jsonData.destination[0];",
                  "      destinationOp = jsonData.operations.find(op => op.accountAlias === destAccount);",
                  "    }",
                  "    ",
                  "    // If we couldn't find by alias, try to find a CREDIT operation (usually the destination)",
                  "    if (!destinationOp) {",
                  "      destinationOp = jsonData.operations.find(op => op.type === 'CREDIT');",
                  "    }",
                  "    ",
                  "    // If we still couldn't find it, use the first operation",
                  "    if (!destinationOp && jsonData.operations.length > 0) {",
                  "      destinationOp = jsonData.operations[0];",
                  "    }",
                  "    ",
                  "    if (destinationOp && destinationOp.balanceId) {",
                  "      pm.environment.set(\"balanceId\", destinationOp.balanceId);",
                  "      console.log(\"balanceId set to: \" + destinationOp.balanceId);",
                  "    }",
                  "  }",
                  "  // Check if response is an array with at least one item",
                  "  else if (Array.isArray(jsonData) && jsonData.length > 0 && jsonData[0].id) {",
                  "    pm.environment.set(\"balanceId\", jsonData[0].id);",
                  "    console.log(\"balanceId set to: \" + jsonData[0].id);",
                  "  } ",
                  "  // Check if response has a data array with at least one item",
                  "  else if (jsonData && Array.isArray(jsonData.data) && jsonData.data.length > 0 && jsonData.data[0].id) {",
                  "    pm.environment.set(\"balanceId\", jsonData.data[0].id);",
                  "    console.log(\"balanceId set to: \" + jsonData.data[0].id);",
                  "  }",
                  "} catch (error) {",
                  "  console.error(\"Failed to extract balanceId: \", error);",
                  "}",
                  "try {",
                  "  var jsonData = pm.response.json();",
                  "  // Check if this is a transaction response with operations",
                  "  if (jsonData && jsonData.operations && Array.isArray(jsonData.operations) && jsonData.operations.length > 0) {",
                  "    var operationToUse = null;",
                  "    ",
                  "    // Try multiple strategies to find the right operation",
                  "    // Strategy 1: Find destination operation based on account alias",
                  "    if (jsonData.destination && Array.isArray(jsonData.destination) && jsonData.destination.length > 0) {",
                  "      const destAccount = jsonData.destination[0];",
                  "      operationToUse = jsonData.operations.find(op => ",
                  "        op.accountAlias === destAccount || ",
                  "        op.account === destAccount ||",
                  "        (op.accountId && pm.environment.get(\"accountId\") && op.accountId === pm.environment.get(\"accountId\"))",
                  "      );",
                  "    }",
                  "    ",
                  "    // Strategy 2: Find CREDIT operation (usually the destination in double-entry)",
                  "    if (!operationToUse) {",
                  "      operationToUse = jsonData.operations.find(op => op.type === 'CREDIT');",
                  "    }",
                  "    ",
                  "    // Strategy 3: Find operation with non-zero positive amount",
                  "    if (!operationToUse) {",
                  "      operationToUse = jsonData.operations.find(op => ",
                  "        op.amount && typeof op.amount === 'object' && op.amount.value > 0",
                  "      );",
                  "    }",
                  "    ",
                  "    // Strategy 4: Use the first operation with valid ID",
                  "    if (!operationToUse) {",
                  "      operationToUse = jsonData.operations.find(op => op.id && op.id.length > 0);",
                  "    }",
                  "    ",
                  "    // Strategy 5: Just use the first operation",
                  "    if (!operationToUse && jsonData.operations.length > 0) {",
                  "      operationToUse = jsonData.operations[0];",
                  "    }",
                  "    ",
                  "    if (operationToUse && operationToUse.id) {",
                  "      pm.environment.set(\"operationId\", operationToUse.id);",
                  "      console.log(\"operationId set to: \" + operationToUse.id + \" (from operation: \" + JSON.stringify(operationToUse) + \")\");",
                  "    } else {",
                  "      console.warn(\"No valid operation found for operationId extraction. Operations: \" + JSON.stringify(jsonData.operations));",
                  "    }",
                  "  } else {",
                  "    console.warn(\"No operations array found in response for operationId extraction. Response: \" + JSON.stringify(jsonData));",
                  "  }",
                  "} catch (error) {",
                  "  console.error(\"Failed to extract operationId: \", error);",
                  "  console.error(\"Response data: \", pm.response.text());",
                  "}"
                ]
              }
            }
          ]
        },
        {
          "name": "Create a Transaction using JSON",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              },
              {
                "key": "X-Idempotency",
                "value": "{{idempotencyKey}}",
                "description": "Unique key to prevent duplicate transactions",
                "disabled": false
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/transactions/json",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "transactions",
                "json"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                }
              ]
            },
            "description": "Create a Transaction with the input payload",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"chartOfAccountsGroupName\": \"Example chartOfAccountsGroupName\",\n  \"code\": \"Example code\",\n  \"description\": \"Example description\",\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"send\": {\n    \"asset\": \"USD\",\n    \"distribute\": {\n      \"to\": [\n        {\n          \"accountAlias\": \"Example accountAlias\",\n          \"amount\": {\n            \"asset\": \"USD\",\n            \"value\": \"100.00\"\n          },\n          \"chartOfAccounts\": \"Example chartOfAccounts\",\n          \"description\": \"Example description\",\n          \"metadata\": {\n            \"key\": \"value\"\n          }\n        }\n      ]\n    },\n    \"source\": {\n      \"from\": [\n        {\n          \"accountAlias\": \"Example accountAlias\",\n          \"amount\": {\n            \"asset\": \"USD\",\n            \"value\": \"100.00\"\n          },\n          \"chartOfAccounts\": \"Example chartOfAccounts\",\n          \"description\": \"Example description\",\n          \"metadata\": {\n            \"key\": \"value\"\n          }\n        }\n      ]\n    },\n    \"value\": \"100.00\"\n  },\n  \"transactionDate\": \"Example transactionDate\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "// Generate a unique idempotency key for this transaction",
                  "const timestamp = new Date().getTime();",
                  "const random = Math.floor(Math.random() * 1000000);",
                  "const stepId = pm.variables.get(\"$guid\") || \"\";",
                  "pm.environment.set(\"idempotencyKey\", timestamp + \"-\" + random + \"-\" + stepId.slice(0, 8));",
                  "console.log(\"Generated idempotency key:\", pm.environment.get(\"idempotencyKey\"));",
                  "",
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  "",
                  "// Validate required variables",
                  "",
                  "if (!pm.environment.get(\"organizationId\")) {",
                  "  console.log(\"Warning: organizationId is not set. This request may fail.\");",
                  "}",
                  "if (!pm.environment.get(\"ledgerId\")) {",
                  "  console.log(\"Warning: ledgerId is not set. This request may fail.\");",
                  "}"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  "",
                  "// Extract variables from response for use in subsequent requests",
                  "",
                  "try {",
                  "  var jsonData = pm.response.json();",
                  "  if (jsonData && jsonData.id) {",
                  "    pm.environment.set(\"transactionId\", jsonData.id);",
                  "    console.log(\"transactionId set to: \" + jsonData.id);",
                  "  }",
                  "} catch (error) {",
                  "  console.error(\"Failed to extract transactionId: \", error);",
                  "}",
                  "try {",
                  "  var jsonData = pm.response.json();",
                  "  // Check if this is a transaction response with operations",
                  "  if (jsonData && jsonData.operations && jsonData.operations.length > 0 && jsonData.operations[0].balanceId) {",
                  "    // Find the destination operation (the one with account in the 'destination' array)",
                  "    var destinationOp = null;",
                  "    if (jsonData.destination && jsonData.destination.length > 0) {",
                  "      const destAccount = jsonData.destination[0];",
                  "      destinationOp = jsonData.operations.find(op => op.accountAlias === destAccount);",
                  "    }",
                  "    ",
                  "    // If we couldn't find by alias, try to find a CREDIT operation (usually the destination)",
                  "    if (!destinationOp) {",
                  "      destinationOp = jsonData.operations.find(op => op.type === 'CREDIT');",
                  "    }",
                  "    ",
                  "    // If we still couldn't find it, use the first operation",
                  "    if (!destinationOp && jsonData.operations.length > 0) {",
                  "      destinationOp = jsonData.operations[0];",
                  "    }",
                  "    ",
                  "    if (destinationOp && destinationOp.balanceId) {",
                  "      pm.environment.set(\"balanceId\", destinationOp.balanceId);",
                  "      console.log(\"balanceId set to: \" + destinationOp.balanceId);",
                  "    }",
                  "  }",
                  "  // Check if response is an array with at least one item",
                  "  else if (Array.isArray(jsonData) && jsonData.length > 0 && jsonData[0].id) {",
                  "    pm.environment.set(\"balanceId\", jsonData[0].id);",
                  "    console.log(\"balanceId set to: \" + jsonData[0].id);",
                  "  } ",
                  "  // Check if response has a data array with at least one item",
                  "  else if (jsonData && Array.isArray(jsonData.data) && jsonData.data.length > 0 && jsonData.data[0].id) {",
                  "    pm.environment.set(\"balanceId\", jsonData.data[0].id);",
                  "    console.log(\"balanceId set to: \" + jsonData.data[0].id);",
                  "  }",
                  "} catch (error) {",
                  "  console.error(\"Failed to extract balanceId: \", error);",
                  "}",
                  "try {",
                  "  var jsonData = pm.response.json();",
                  "  // Check if this is a transaction response with operations",
                  "  if (jsonData && jsonData.operations && Array.isArray(jsonData.operations) && jsonData.operations.length > 0) {",
                  "    var operationToUse = null;",
                  "    ",
                  "    // Try multiple strategies to find the right operation",
                  "    // Strategy 1: Find destination operation based on account alias",
                  "    if (jsonData.destination && Array.isArray(jsonData.destination) && jsonData.destination.length > 0) {",
                  "      const destAccount = jsonData.destination[0];",
                  "      operationToUse = jsonData.operations.find(op => ",
                  "        op.accountAlias === destAccount || ",
                  "        op.account === destAccount ||",
                  "        (op.accountId && pm.environment.get(\"accountId\") && op.accountId === pm.environment.get(\"accountId\"))",
                  "      );",
                  "    }",
                  "    ",
                  "    // Strategy 2: Find CREDIT operation (usually the destination in double-entry)",
                  "    if (!operationToUse) {",
                  "      operationToUse = jsonData.operations.find(op => op.type === 'CREDIT');",
                  "    }",
                  "    ",
                  "    // Strategy 3: Find operation with non-zero positive amount",
                  "    if (!operationToUse) {",
                  "      operationToUse = jsonData.operations.find(op => ",
                  "        op.amount && typeof op.amount === 'object' && op.amount.value > 0",
                  "      );",
                  "    }",
                  "    ",
                  "    // Strategy 4: Use the first operation with valid ID",
                  "    if (!operationToUse) {",
                  "      operationToUse = jsonData.operations.find(op => op.id && op.id.length > 0);",
                  "    }",
                  "    ",
                  "    // Strategy 5: Just use the first operation",
                  "    if (!operationToUse && jsonData.operations.length > 0) {",
                  "      operationToUse = jsonData.operations[0];",
                  "    }",
                  "    ",
                  "    if (operationToUse && operationToUse.id) {",
                  "      pm.environment.set(\"operationId\", operationToUse.id);",
                  "      console.log(\"operationId set to: \" + operationToUse.id + \" (from operation: \" + JSON.stringify(operationToUse) + \")\");",
                  "    } else {",
                  "      console.warn(\"No valid operation found for operationId extraction. Operations: \" + JSON.stringify(jsonData.operations));",
                  "    }",
                  "  } else {",
                  "    console.warn(\"No operations array found in response for operationId extraction. Response: \" + JSON.stringify(jsonData));",
                  "  }",
                  "} catch (error) {",
                  "  console.error(\"Failed to extract operationId: \", error);",
                  "  console.error(\"Response data: \", pm.response.text());",
                  "}"
                ]
              }
            }
          ]
        },
        {
          "name": "Create a Transaction without passing to distribution",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/transactions/outflow",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "transactions",
                "outflow"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                }
              ]
            },
            "description": "Create a Transaction with the input payload",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"chartOfAccountsGroupName\": \"Example chartOfAccountsGroupName\",\n  \"code\": \"Example code\",\n  \"description\": \"Example description\",\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"send\": {\n    \"asset\": \"USD\",\n    \"source\": {\n      \"from\": [\n        {\n          \"accountAlias\": \"Example accountAlias\",\n          \"amount\": {\n            \"asset\": \"USD\",\n            \"value\": \"100.00\"\n          },\n          \"chartOfAccounts\": \"Example chartOfAccounts\",\n          \"description\": \"Example description\",\n          \"metadata\": {\n            \"key\": \"value\"\n          }\n        }\n      ]\n    },\n    \"value\": \"100.00\"\n  },\n  \"transactionDate\": \"Example transactionDate\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  "",
                  "// Validate required variables",
                  "",
                  "if (!pm.environment.get(\"organizationId\")) {",
                  "  console.log(\"Warning: organizationId is not set. This request may fail.\");",
                  "}",
                  "if (!pm.environment.get(\"ledgerId\")) {",
                  "  console.log(\"Warning: ledgerId is not set. This request may fail.\");",
                  "}",
                  "if (!pm.environment.get(\"accountAlias\")) {",
                  "  console.log(\"Warning: accountAlias is not set. This request may fail.\");",
                  "}"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  "",
                  "// Extract variables from response for use in subsequent requests",
                  "",
                  "try {",
                  "  var jsonData = pm.response.json();",
                  "  if (jsonData && jsonData.id) {",
                  "    pm.environment.set(\"outflowTransactionId\", jsonData.id);",
                  "    console.log(\"outflowTransactionId set to: \" + jsonData.id);",
                  "  }",
                  "} catch (error) {",
                  "  console.error(\"Failed to extract outflowTransactionId: \", error);",
                  "}",
                  "try {",
                  "  var jsonData = pm.response.json();",
                  "  // Check if this is a transaction response with operations",
                  "  if (jsonData && jsonData.operations && jsonData.operations.length > 0 && jsonData.operations[0].balanceId) {",
                  "    // Find the destination operation (the one with account in the 'destination' array)",
                  "    var destinationOp = null;",
                  "    if (jsonData.destination && jsonData.destination.length > 0) {",
                  "      const destAccount = jsonData.destination[0];",
                  "      destinationOp = jsonData.operations.find(op => op.accountAlias === destAccount);",
                  "    }",
                  "    ",
                  "    // If we couldn't find by alias, try to find a CREDIT operation (usually the destination)",
                  "    if (!destinationOp) {",
                  "      destinationOp = jsonData.operations.find(op => op.type === 'CREDIT');",
                  "    }",
                  "    ",
                  "    // If we still couldn't find it, use the first operation",
                  "    if (!destinationOp && jsonData.operations.length > 0) {",
                  "      destinationOp = jsonData.operations[0];",
                  "    }",
                  "    ",
                  "    if (destinationOp && destinationOp.balanceId) {",
                  "      pm.environment.set(\"balanceId\", destinationOp.balanceId);",
                  "      console.log(\"balanceId set to: \" + destinationOp.balanceId);",
                  "    }",
                  "  }",
                  "  // Check if response is an array with at least one item",
                  "  else if (Array.isArray(jsonData) && jsonData.length > 0 && jsonData[0].id) {",
                  "    pm.environment.set(\"balanceId\", jsonData[0].id);",
                  "    console.log(\"balanceId set to: \" + jsonData[0].id);",
                  "  } ",
                  "  // Check if response has a data array with at least one item",
                  "  else if (jsonData && Array.isArray(jsonData.data) && jsonData.data.length > 0 && jsonData.data[0].id) {",
                  "    pm.environment.set(\"balanceId\", jsonData.data[0].id);",
                  "    console.log(\"balanceId set to: \" + jsonData.data[0].id);",
                  "  }",
                  "} catch (error) {",
                  "  console.error(\"Failed to extract balanceId: \", error);",
                  "}",
                  "try {",
                  "  var jsonData = pm.response.json();",
                  "  // Check if this is a transaction response with operations",
                  "  if (jsonData && jsonData.operations && Array.isArray(jsonData.operations) && jsonData.operations.length > 0) {",
                  "    var operationToUse = null;",
                  "    ",
                  "    // Try multiple strategies to find the right operation",
                  "    // Strategy 1: Find destination operation based on account alias",
                  "    if (jsonData.destination && Array.isArray(jsonData.destination) && jsonData.destination.length > 0) {",
                  "      const destAccount = jsonData.destination[0];",
                  "      operationToUse = jsonData.operations.find(op => ",
                  "        op.accountAlias === destAccount || ",
                  "        op.account === destAccount ||",
                  "        (op.accountId && pm.environment.get(\"accountId\") && op.accountId === pm.environment.get(\"accountId\"))",
                  "      );",
                  "    }",
                  "    ",
                  "    // Strategy 2: Find CREDIT operation (usually the destination in double-entry)",
                  "    if (!operationToUse) {",
                  "      operationToUse = jsonData.operations.find(op => op.type === 'CREDIT');",
                  "    }",
                  "    ",
                  "    // Strategy 3: Find operation with non-zero positive amount",
                  "    if (!operationToUse) {",
                  "      operationToUse = jsonData.operations.find(op => ",
                  "        op.amount && typeof op.amount === 'object' && op.amount.value > 0",
                  "      );",
                  "    }",
                  "    ",
                  "    // Strategy 4: Use the first operation with valid ID",
                  "    if (!operationToUse) {",
                  "      operationToUse = jsonData.operations.find(op => op.id && op.id.length > 0);",
                  "    }",
                  "    ",
                  "    // Strategy 5: Just use the first operation",
                  "    if (!operationToUse && jsonData.operations.length > 0) {",
                  "      operationToUse = jsonData.operations[0];",
                  "    }",
                  "    ",
                  "    if (operationToUse && operationToUse.id) {",
                  "      pm.environment.set(\"operationId\", operationToUse.id);",
                  "      console.log(\"operationId set to: \" + operationToUse.id + \" (from operation: \" + JSON.stringify(operationToUse) + \")\");",
                  "    } else {",
                  "      console.warn(\"No valid operation found for operationId extraction. Operations: \" + JSON.stringify(jsonData.operations));",
                  "    }",
                  "  } else {",
                  "    console.warn(\"No operations array found in response for operationId extraction. Response: \" + JSON.stringify(jsonData));",
                  "  }",
                  "} catch (error) {",
                  "  console.error(\"Failed to extract operationId: \", error);",
                  "  console.error(\"Response data: \", pm.response.text());",
                  "}"
                ]
              }
            }
          ]
        },
        {
          "name": "Get a Transaction by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/transactions/{{transactionId}}",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "transactions",
                "{{transactionId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                },
                {
                  "key": "transaction_id",
                  "value": "{{transactionId}}",
                  "description": "Transaction ID"
                }
              ]
            },
            "description": "Get a Transaction with the input ID"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Update a Transaction",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/transactions/{{transactionId}}",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "transactions",
                "{{transactionId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                },
                {
                  "key": "transaction_id",
                  "value": "{{transactionId}}",
                  "description": "Transaction ID"
                }
              ]
            },
            "description": "Update a Transaction with the input payload",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"description\": \"Transaction description\",\n  \"metadata\": {\n    \"key\": \"value\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        }
      ]
    }
  ],
  "variable": [
    {
      "key": "environment",
      "value": "MIDAZ",
      "type": "string",
      "description": "This collection requires the MIDAZ environment to be selected for proper functionality."
    }
  ]
}