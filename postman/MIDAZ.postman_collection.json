{
  "info": {
    "name": "MIDAZ",
    "description": "This is a swagger documentation for the Midaz Ledger API\n\n**IMPORTANT**: This collection requires the **MIDAZ Environment** to be selected for proper functionality. Please ensure you have imported and selected the MIDAZ environment before using this collection.",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "version": "v1.48.0",
    "_postman_id": "00b3869d-895d-49b2-a6b5-68b193471560"
  },
  "item": [
    {
      "name": "Complete API Workflow",
      "description": "A sequence of API calls representing a typical workflow, generated from WORKFLOW.md.",
      "item": [
        {
          "name": "1. Create Organization",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations"
              ]
            },
            "description": "**Workflow Step 1: Create Organization**\n\nCreates a new organization in the system",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"address\": {\n    \"city\": \"New York\",\n    \"country\": \"US\",\n    \"line1\": \"123 Financial Avenue\",\n    \"line2\": \"Suite 1500\",\n    \"state\": \"NY\",\n    \"zipCode\": \"10001\"\n  },\n  \"doingBusinessAs\": \"Lerian FS\",\n  \"legalDocument\": \"123456789012345\",\n  \"legalName\": \"Lerian Financial Services Ltd.\",\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"parentOrganizationId\": null,\n  \"status\": {\n    \"code\": \"ACTIVE\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP Create Organization: /v1/organizations =====\nconsole.log(\"âš™ï¸ Setting up Step Create Organization: /v1/organizations\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_Create Organization_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step Create Organization\");\n"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== STEP 1: Create Organization =====\nconsole.log(\"ğŸ” Executing Step 1: Create Organization\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_1_start\", Date.now());\n\npm.test(\"âœ… Status: POST request successful (200/201)\", function () {\n    pm.expect(pm.response.code).to.be.oneOf([200, 201]);\n    if (pm.response.code === 201) {\n        console.log(\"âœ… Resource created successfully\");\n    } else {\n        console.log(\"âœ… POST operation completed successfully\");\n    }\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_1\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});\n\npm.test(\"ğŸ¢ Business Logic: Organization has required fields\", function() {\n    const jsonData = pm.response.json();\n    const requestData = JSON.parse(pm.request.body.raw || '{}');\n    \n    // Required fields validation\n    pm.expect(jsonData).to.have.property('id');\n    pm.expect(jsonData).to.have.property('legalName');\n    pm.expect(jsonData).to.have.property('status');\n    pm.expect(jsonData).to.have.property('createdAt');\n    pm.expect(jsonData).to.have.property('updatedAt');\n    \n    // UUID format validation\n    const uuidRegex = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\n    pm.expect(jsonData.id).to.match(uuidRegex, \"Organization ID should be a valid UUID\");\n    \n    // ISO timestamp format validation\n    const isoTimestampRegex = /^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$/;\n    pm.expect(jsonData.createdAt).to.match(isoTimestampRegex, \"Organization createdAt should be ISO timestamp\");\n    pm.expect(jsonData.updatedAt).to.match(isoTimestampRegex, \"Organization updatedAt should be ISO timestamp\");\n    \n    // Data consistency validation\n    if (requestData.legalName) {\n        pm.expect(jsonData.legalName).to.equal(requestData.legalName, \"Response legalName should match request\");\n    }\n    \n    // Store organization ID for subsequent requests\n    pm.environment.set(\"organizationId\", jsonData.id);\n    \n    console.log(\"ğŸ¢ Organization creation validation passed:\", jsonData.legalName);\n    console.log(\"âœ… Required fields verified, UUID and timestamp validation completed\");\n    console.log(\"ğŸ’¾ Stored organizationId:\", jsonData.id);\n});"
                ]
              }
            }
          ]
        },
        {
          "name": "2. Get Organization",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                }
              ]
            },
            "description": "**Workflow Step 2: Get Organization**\n\nRetrieves the organization details\n\n---\n\n**Uses:**\n- `[object Object]`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP Get Organization: /v1/organizations/{organizationId} =====\nconsole.log(\"âš™ï¸ Setting up Step Get Organization: /v1/organizations/{organizationId}\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_Get Organization_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step Get Organization\");\n"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== STEP 2: Get Organization =====\nconsole.log(\"ğŸ” Executing Step 2: Get Organization\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_2_start\", Date.now());\n\npm.test(\"âœ… Status: GET request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… GET operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_2\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ]
              }
            }
          ]
        },
        {
          "name": "3. Update Organization",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                }
              ]
            },
            "description": "**Workflow Step 3: Update Organization**\n\nUpdates organization details\n\n---\n\n**Uses:**\n- `[object Object]`\n",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"address\": {\n    \"city\": \"New York\",\n    \"country\": \"US\",\n    \"line1\": \"123 Financial Avenue\",\n    \"line2\": \"Suite 1500\",\n    \"state\": \"NY\",\n    \"zipCode\": \"10001\"\n  },\n  \"doingBusinessAs\": \"Lerian Group\",\n  \"legalName\": \"Lerian Financial Group Ltd.\",\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"parentOrganizationId\": null,\n  \"status\": {\n    \"code\": \"ACTIVE\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP Update Organization: /v1/organizations/{organizationId} =====\nconsole.log(\"âš™ï¸ Setting up Step Update Organization: /v1/organizations/{organizationId}\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_Update Organization_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step Update Organization\");\n"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== STEP 3: Update Organization =====\nconsole.log(\"ğŸ” Executing Step 3: Update Organization\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_3_start\", Date.now());\n\npm.test(\"âœ… Status: PATCH request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… PATCH operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_3\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ]
              }
            }
          ]
        },
        {
          "name": "4. List Organizations",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations"
              ],
              "query": [
                {
                  "key": "metadata",
                  "value": "",
                  "description": "JSON string to filter organizations by metadata fields",
                  "disabled": true
                },
                {
                  "key": "limit",
                  "value": "",
                  "description": "Maximum number of records to return per page",
                  "disabled": true
                },
                {
                  "key": "page",
                  "value": "",
                  "description": "Page number for pagination",
                  "disabled": true
                },
                {
                  "key": "start_date",
                  "value": "",
                  "description": "Filter organizations created on or after this date (format: YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "end_date",
                  "value": "",
                  "description": "Filter organizations created on or before this date (format: YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "sort_order",
                  "value": "",
                  "description": "Sort direction for results based on creation date",
                  "disabled": true
                }
              ]
            },
            "description": "**Workflow Step 4: List Organizations**\n\nLists all organizations"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP List Organizations: /v1/organizations =====\nconsole.log(\"âš™ï¸ Setting up Step List Organizations: /v1/organizations\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_List Organizations_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step List Organizations\");\n"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== STEP 4: List Organizations =====\nconsole.log(\"ğŸ” Executing Step 4: List Organizations\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_4_start\", Date.now());\n\npm.test(\"âœ… Status: GET request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… GET operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_4\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ]
              }
            }
          ]
        },
        {
          "name": "5. Create Ledger",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                }
              ]
            },
            "description": "**Workflow Step 5: Create Ledger**\n\nCreates a new ledger within the organization\n\n---\n\n**Uses:**\n- `[object Object]`\n",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"name\": \"Example name\",\n  \"status\": {\n    \"code\": \"ACTIVE\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP Create Ledger: /v1/organizations/{organizationId}/ledgers =====\nconsole.log(\"âš™ï¸ Setting up Step Create Ledger: /v1/organizations/{organizationId}/ledgers\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_Create Ledger_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step Create Ledger\");\n"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== STEP 5: Create Ledger =====\nconsole.log(\"ğŸ” Executing Step 5: Create Ledger\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_5_start\", Date.now());\n\npm.test(\"âœ… Status: POST request successful (200/201)\", function () {\n    pm.expect(pm.response.code).to.be.oneOf([200, 201]);\n    if (pm.response.code === 201) {\n        console.log(\"âœ… Resource created successfully\");\n    } else {\n        console.log(\"âœ… POST operation completed successfully\");\n    }\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_5\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});\n\npm.test(\"ğŸ“’ Business Logic: Ledger has required fields\", function() {\n    // Only validate if response was successful\n    if (pm.response.code !== 200 && pm.response.code !== 201) {\n        console.log(\"âš ï¸ Skipping ledger validation - response code:\", pm.response.code);\n        pm.test.skip();\n        return;\n    }\n    \n    const jsonData = pm.response.json();\n    const requestData = JSON.parse(pm.request.body.raw || '{}');\n    \n    // Required fields validation\n    pm.expect(jsonData).to.have.property('id');\n    pm.expect(jsonData).to.have.property('name');\n    pm.expect(jsonData).to.have.property('status');\n    pm.expect(jsonData).to.have.property('createdAt');\n    pm.expect(jsonData).to.have.property('updatedAt');\n    \n    // UUID format validation\n    const uuidRegex = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\n    pm.expect(jsonData.id).to.match(uuidRegex, \"Ledger ID should be a valid UUID\");\n    \n    // ISO timestamp format validation\n    const isoTimestampRegex = /^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$/;\n    pm.expect(jsonData.createdAt).to.match(isoTimestampRegex, \"Ledger createdAt should be ISO timestamp\");\n    pm.expect(jsonData.updatedAt).to.match(isoTimestampRegex, \"Ledger updatedAt should be ISO timestamp\");\n    \n    // Store ledger ID for subsequent requests\n    pm.environment.set(\"ledgerId\", jsonData.id);\n    \n    console.log(\"ğŸ“’ Ledger creation validation passed:\", jsonData.name);\n    console.log(\"âœ… Required fields verified, UUID and timestamp validation completed\");\n    console.log(\"ğŸ’¾ Stored ledgerId:\", jsonData.id);\n});"
                ]
              }
            }
          ]
        },
        {
          "name": "6. Get Ledger",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ]
            },
            "description": "**Workflow Step 6: Get Ledger**\n\nRetrieves the ledger details\n\n---\n\n**Uses:**\n- `[object Object]`\n- `[object Object]`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP Get Ledger: /v1/organizations/{organizationId}/ledgers/{ledgerId} =====\nconsole.log(\"âš™ï¸ Setting up Step Get Ledger: /v1/organizations/{organizationId}/ledgers/{ledgerId}\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_Get Ledger_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step Get Ledger\");\n"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== STEP 6: Get Ledger =====\nconsole.log(\"ğŸ” Executing Step 6: Get Ledger\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_6_start\", Date.now());\n\npm.test(\"âœ… Status: GET request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… GET operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_6\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ]
              }
            }
          ]
        },
        {
          "name": "7. Update Ledger",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ]
            },
            "description": "**Workflow Step 7: Update Ledger**\n\nUpdates ledger details\n\n---\n\n**Uses:**\n- `[object Object]`\n- `[object Object]`\n",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"name\": \"Treasury Operations Global\",\n  \"status\": {\n    \"code\": \"ACTIVE\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP Update Ledger: /v1/organizations/{organizationId}/ledgers/{ledgerId} =====\nconsole.log(\"âš™ï¸ Setting up Step Update Ledger: /v1/organizations/{organizationId}/ledgers/{ledgerId}\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_Update Ledger_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step Update Ledger\");\n"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== STEP 7: Update Ledger =====\nconsole.log(\"ğŸ” Executing Step 7: Update Ledger\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_7_start\", Date.now());\n\npm.test(\"âœ… Status: PATCH request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… PATCH operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_7\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ]
              }
            }
          ]
        },
        {
          "name": "8. List Ledgers",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                }
              ],
              "query": [
                {
                  "key": "metadata",
                  "value": "",
                  "description": "JSON string to filter ledgers by metadata fields",
                  "disabled": true
                },
                {
                  "key": "limit",
                  "value": "",
                  "description": "Maximum number of records to return per page",
                  "disabled": true
                },
                {
                  "key": "page",
                  "value": "",
                  "description": "Page number for pagination",
                  "disabled": true
                },
                {
                  "key": "start_date",
                  "value": "",
                  "description": "Filter ledgers created on or after this date (format: YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "end_date",
                  "value": "",
                  "description": "Filter ledgers created on or before this date (format: YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "sort_order",
                  "value": "",
                  "description": "Sort direction for results based on creation date",
                  "disabled": true
                }
              ]
            },
            "description": "**Workflow Step 8: List Ledgers**\n\nLists all ledgers in the organization\n\n---\n\n**Uses:**\n- `[object Object]`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP List Ledgers: /v1/organizations/{organizationId}/ledgers =====\nconsole.log(\"âš™ï¸ Setting up Step List Ledgers: /v1/organizations/{organizationId}/ledgers\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_List Ledgers_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step List Ledgers\");\n"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== STEP 8: List Ledgers =====\nconsole.log(\"ğŸ” Executing Step 8: List Ledgers\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_8_start\", Date.now());\n\npm.test(\"âœ… Status: GET request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… GET operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_8\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ]
              }
            }
          ]
        },
        {
          "name": "9. Create Asset",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/assets",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "assets"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ]
            },
            "description": "**Workflow Step 9: Create Asset**\n\nCreates a new asset (e.g., USD) in the ledger\n\n---\n\n**Uses:**\n- `[object Object]`\n- `[object Object]`\n",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"code\": \"USD\",\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"name\": \"US Dollar\",\n  \"status\": {\n    \"code\": \"ACTIVE\"\n  },\n  \"type\": \"currency\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP Create Asset: /v1/organizations/{organizationId}/ledgers/{ledgerId}/assets =====\nconsole.log(\"âš™ï¸ Setting up Step Create Asset: /v1/organizations/{organizationId}/ledgers/{ledgerId}/assets\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_Create Asset_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step Create Asset\");\n"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== STEP 9: Create Asset =====\nconsole.log(\"ğŸ” Executing Step 9: Create Asset\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_9_start\", Date.now());\n\npm.test(\"âœ… Status: POST request successful (200/201)\", function () {\n    pm.expect(pm.response.code).to.be.oneOf([200, 201]);\n    if (pm.response.code === 201) {\n        console.log(\"âœ… Resource created successfully\");\n    } else {\n        console.log(\"âœ… POST operation completed successfully\");\n    }\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_9\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});\n\npm.test(\"ğŸ’° Business Logic: Asset has required fields\", function() {\n    // Only validate if response was successful\n    if (pm.response.code !== 200 && pm.response.code !== 201) {\n        console.log(\"âš ï¸ Skipping asset validation - response code:\", pm.response.code);\n        pm.test.skip();\n        return;\n    }\n    \n    const jsonData = pm.response.json();\n    const requestData = JSON.parse(pm.request.body.raw || '{}');\n    \n    // Required fields validation\n    pm.expect(jsonData).to.have.property('id');\n    pm.expect(jsonData).to.have.property('name');\n    pm.expect(jsonData).to.have.property('code');\n    pm.expect(jsonData).to.have.property('status');\n    pm.expect(jsonData).to.have.property('createdAt');\n    pm.expect(jsonData).to.have.property('updatedAt');\n    \n    // UUID format validation\n    const uuidRegex = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\n    pm.expect(jsonData.id).to.match(uuidRegex, \"Asset ID should be a valid UUID\");\n    \n    // ISO timestamp format validation\n    const isoTimestampRegex = /^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$/;\n    pm.expect(jsonData.createdAt).to.match(isoTimestampRegex, \"Asset createdAt should be ISO timestamp\");\n    pm.expect(jsonData.updatedAt).to.match(isoTimestampRegex, \"Asset updatedAt should be ISO timestamp\");\n    \n    // Store asset ID for subsequent requests\n    pm.environment.set(\"assetId\", jsonData.id);\n    \n    console.log(\"ğŸ’° Asset creation validation passed:\", jsonData.name);\n    console.log(\"âœ… Required fields verified, UUID and timestamp validation completed\");\n    console.log(\"ğŸ’¾ Stored assetId:\", jsonData.id);\n});"
                ]
              }
            }
          ]
        },
        {
          "name": "10. Get Asset",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/assets/{{assetId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "assets",
                "{{assetId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{assetId}}",
                  "description": "Asset ID in UUID format"
                }
              ]
            },
            "description": "**Workflow Step 10: Get Asset**\n\nRetrieves the asset details\n\n---\n\n**Uses:**\n- `[object Object]`\n- `[object Object]`\n- `[object Object]`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP Get Asset: /v1/organizations/{organizationId}/ledgers/{ledgerId}/assets/{assetId} =====\nconsole.log(\"âš™ï¸ Setting up Step Get Asset: /v1/organizations/{organizationId}/ledgers/{ledgerId}/assets/{assetId}\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_Get Asset_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step Get Asset\");\n"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== STEP 10: Get Asset =====\nconsole.log(\"ğŸ” Executing Step 10: Get Asset\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_10_start\", Date.now());\n\npm.test(\"âœ… Status: GET request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… GET operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_10\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ]
              }
            }
          ]
        },
        {
          "name": "11. Update Asset",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/assets/{{assetId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "assets",
                "{{assetId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{assetId}}",
                  "description": "Asset ID in UUID format"
                }
              ]
            },
            "description": "**Workflow Step 11: Update Asset**\n\nUpdates asset details\n\n---\n\n**Uses:**\n- `[object Object]`\n- `[object Object]`\n- `[object Object]`\n",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"name\": \"Bitcoin\",\n  \"status\": {\n    \"code\": \"ACTIVE\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP Update Asset: /v1/organizations/{organizationId}/ledgers/{ledgerId}/assets/{assetId} =====\nconsole.log(\"âš™ï¸ Setting up Step Update Asset: /v1/organizations/{organizationId}/ledgers/{ledgerId}/assets/{assetId}\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_Update Asset_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step Update Asset\");\n"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== STEP 11: Update Asset =====\nconsole.log(\"ğŸ” Executing Step 11: Update Asset\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_11_start\", Date.now());\n\npm.test(\"âœ… Status: PATCH request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… PATCH operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_11\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ]
              }
            }
          ]
        },
        {
          "name": "12. List Assets",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/assets",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "assets"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ],
              "query": [
                {
                  "key": "metadata",
                  "value": "",
                  "description": "JSON string to filter assets by metadata fields",
                  "disabled": true
                },
                {
                  "key": "limit",
                  "value": "",
                  "description": "Maximum number of records to return per page",
                  "disabled": true
                },
                {
                  "key": "page",
                  "value": "",
                  "description": "Page number for pagination",
                  "disabled": true
                },
                {
                  "key": "start_date",
                  "value": "",
                  "description": "Filter assets created on or after this date (format: YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "end_date",
                  "value": "",
                  "description": "Filter assets created on or before this date (format: YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "sort_order",
                  "value": "",
                  "description": "Sort direction for results based on creation date",
                  "disabled": true
                }
              ]
            },
            "description": "**Workflow Step 12: List Assets**\n\nLists all assets in the ledger\n\n---\n\n**Uses:**\n- `[object Object]`\n- `[object Object]`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP List Assets: /v1/organizations/{organizationId}/ledgers/{ledgerId}/assets =====\nconsole.log(\"âš™ï¸ Setting up Step List Assets: /v1/organizations/{organizationId}/ledgers/{ledgerId}/assets\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_List Assets_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step List Assets\");\n"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== STEP 12: List Assets =====\nconsole.log(\"ğŸ” Executing Step 12: List Assets\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_12_start\", Date.now());\n\npm.test(\"âœ… Status: GET request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… GET operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_12\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ]
              }
            }
          ]
        },
        {
          "name": "13. Create Account",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "accounts"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ]
            },
            "description": "**Workflow Step 13: Create Account**\n\nCreates a new account in the ledger\n\n---\n\n**Uses:**\n- `[object Object]`\n- `[object Object]`\n",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"alias\": \"@treasury_checking\",\n  \"assetCode\": \"USD\",\n  \"entityId\": \"EXT-ACC-12345\",\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"name\": \"Corporate Checking Account\",\n  \"parentAccountId\": null,\n  \"portfolioId\": null,\n  \"segmentId\": null,\n  \"status\": {\n    \"code\": \"ACTIVE\"\n  },\n  \"type\": \"deposit\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP Create Account: /v1/organizations/{organizationId}/ledgers/{ledgerId}/accounts =====\nconsole.log(\"âš™ï¸ Setting up Step Create Account: /v1/organizations/{organizationId}/ledgers/{ledgerId}/accounts\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_Create Account_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step Create Account\");\n"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== STEP 13: Create Account =====\nconsole.log(\"ğŸ” Executing Step 13: Create Account\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_13_start\", Date.now());\n\npm.test(\"âœ… Status: POST request successful (200/201)\", function () {\n    pm.expect(pm.response.code).to.be.oneOf([200, 201]);\n    if (pm.response.code === 201) {\n        console.log(\"âœ… Resource created successfully\");\n    } else {\n        console.log(\"âœ… POST operation completed successfully\");\n    }\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_13\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});\n\npm.test(\"ğŸ‘¤ Business Logic: Account has required fields\", function() {\n    // Only validate if response was successful\n    if (pm.response.code !== 200 && pm.response.code !== 201) {\n        console.log(\"âš ï¸ Skipping account validation - response code:\", pm.response.code);\n        pm.test.skip();\n        return;\n    }\n    \n    const jsonData = pm.response.json();\n    const requestData = JSON.parse(pm.request.body.raw || '{}');\n    \n    // Required fields validation\n    pm.expect(jsonData).to.have.property('id');\n    pm.expect(jsonData).to.have.property('name');\n    pm.expect(jsonData).to.have.property('status');\n    pm.expect(jsonData).to.have.property('createdAt');\n    pm.expect(jsonData).to.have.property('updatedAt');\n    \n    // UUID format validation\n    const uuidRegex = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\n    pm.expect(jsonData.id).to.match(uuidRegex, \"Account ID should be a valid UUID\");\n    \n    // ISO timestamp format validation\n    const isoTimestampRegex = /^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$/;\n    pm.expect(jsonData.createdAt).to.match(isoTimestampRegex, \"Account createdAt should be ISO timestamp\");\n    pm.expect(jsonData.updatedAt).to.match(isoTimestampRegex, \"Account updatedAt should be ISO timestamp\");\n    \n    // Store account ID and alias for subsequent requests\n    pm.environment.set(\"accountId\", jsonData.id);\n    if (jsonData.alias) {\n        pm.environment.set(\"accountAlias\", jsonData.alias);\n        console.log(\"ğŸ’¾ Stored accountAlias:\", jsonData.alias);\n    }\n    \n    console.log(\"ğŸ‘¤ Account creation validation passed:\", jsonData.name);\n    console.log(\"âœ… Required fields verified, UUID and timestamp validation completed\");\n    console.log(\"ğŸ’¾ Stored accountId:\", jsonData.id);\n});"
                ]
              }
            }
          ]
        },
        {
          "name": "14. Get Account",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts/{{accountId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "accounts",
                "{{accountId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{accountId}}",
                  "description": "Account ID in UUID format"
                }
              ]
            },
            "description": "**Workflow Step 14: Get Account**\n\nRetrieves the account details\n\n---\n\n**Uses:**\n- `[object Object]`\n- `[object Object]`\n- `[object Object]`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP Get Account: /v1/organizations/{organizationId}/ledgers/{ledgerId}/accounts/{accountId} =====\nconsole.log(\"âš™ï¸ Setting up Step Get Account: /v1/organizations/{organizationId}/ledgers/{ledgerId}/accounts/{accountId}\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_Get Account_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step Get Account\");\n"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== STEP 14: Get Account =====\nconsole.log(\"ğŸ” Executing Step 14: Get Account\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_14_start\", Date.now());\n\npm.test(\"âœ… Status: GET request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… GET operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_14\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ]
              }
            }
          ]
        },
        {
          "name": "15. Update Account",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts/{{accountId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "accounts",
                "{{accountId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{accountId}}",
                  "description": "Account ID in UUID format"
                }
              ]
            },
            "description": "**Workflow Step 15: Update Account**\n\nUpdates account details\n\n---\n\n**Uses:**\n- `[object Object]`\n- `[object Object]`\n- `[object Object]`\n",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"entityId\": \"EXT-ACC-12345\",\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"name\": \"Primary Corporate Checking Account\",\n  \"portfolioId\": null,\n  \"segmentId\": null,\n  \"status\": {\n    \"code\": \"ACTIVE\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP Update Account: /v1/organizations/{organizationId}/ledgers/{ledgerId}/accounts/{accountId} =====\nconsole.log(\"âš™ï¸ Setting up Step Update Account: /v1/organizations/{organizationId}/ledgers/{ledgerId}/accounts/{accountId}\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_Update Account_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step Update Account\");\n"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== STEP 15: Update Account =====\nconsole.log(\"ğŸ” Executing Step 15: Update Account\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_15_start\", Date.now());\n\npm.test(\"âœ… Status: PATCH request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… PATCH operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_15\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ]
              }
            }
          ]
        },
        {
          "name": "16. List Accounts",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "accounts"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ],
              "query": [
                {
                  "key": "metadata",
                  "value": "",
                  "description": "JSON string to filter accounts by metadata fields",
                  "disabled": true
                },
                {
                  "key": "limit",
                  "value": "",
                  "description": "Maximum number of records to return per page",
                  "disabled": true
                },
                {
                  "key": "page",
                  "value": "",
                  "description": "Page number for pagination",
                  "disabled": true
                },
                {
                  "key": "start_date",
                  "value": "",
                  "description": "Filter accounts created on or after this date (format: YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "end_date",
                  "value": "",
                  "description": "Filter accounts created on or before this date (format: YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "sort_order",
                  "value": "",
                  "description": "Sort direction for results based on creation date",
                  "disabled": true
                }
              ]
            },
            "description": "**Workflow Step 16: List Accounts**\n\nLists all accounts in the ledger\n\n---\n\n**Uses:**\n- `[object Object]`\n- `[object Object]`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP List Accounts: /v1/organizations/{organizationId}/ledgers/{ledgerId}/accounts =====\nconsole.log(\"âš™ï¸ Setting up Step List Accounts: /v1/organizations/{organizationId}/ledgers/{ledgerId}/accounts\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_List Accounts_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step List Accounts\");\n"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== STEP 16: List Accounts =====\nconsole.log(\"ğŸ” Executing Step 16: List Accounts\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_16_start\", Date.now());\n\npm.test(\"âœ… Status: GET request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… GET operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_16\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ]
              }
            }
          ]
        },
        {
          "name": "17. Create Portfolio",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/portfolios",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "portfolios"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ]
            },
            "description": "**Workflow Step 17: Create Portfolio**\n\nCreates a new portfolio in the ledger\n\n---\n\n**Uses:**\n- `[object Object]`\n- `[object Object]`\n",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"entityId\": \"00000000-0000-0000-0000-000000000000\",\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"name\": \"My Portfolio\",\n  \"status\": {\n    \"code\": \"ACTIVE\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP Create Portfolio: /v1/organizations/{organizationId}/ledgers/{ledgerId}/portfolios =====\nconsole.log(\"âš™ï¸ Setting up Step Create Portfolio: /v1/organizations/{organizationId}/ledgers/{ledgerId}/portfolios\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_Create Portfolio_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step Create Portfolio\");\n"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== STEP 17: Create Portfolio =====\nconsole.log(\"ğŸ” Executing Step 17: Create Portfolio\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_17_start\", Date.now());\n\npm.test(\"âœ… Status: POST request successful (200/201)\", function () {\n    pm.expect(pm.response.code).to.be.oneOf([200, 201]);\n    if (pm.response.code === 201) {\n        console.log(\"âœ… Resource created successfully\");\n    } else {\n        console.log(\"âœ… POST operation completed successfully\");\n    }\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_17\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});\n\npm.test(\"ğŸ“ Business Logic: Portfolio has required fields\", function() {\n    // Only validate if response was successful\n    if (pm.response.code !== 200 && pm.response.code !== 201) {\n        console.log(\"âš ï¸ Skipping portfolio validation - response code:\", pm.response.code);\n        pm.test.skip();\n        return;\n    }\n    \n    const jsonData = pm.response.json();\n    const requestData = JSON.parse(pm.request.body.raw || '{}');\n    \n    // Required fields validation\n    pm.expect(jsonData).to.have.property('id');\n    pm.expect(jsonData).to.have.property('name');\n    pm.expect(jsonData).to.have.property('status');\n    pm.expect(jsonData).to.have.property('createdAt');\n    pm.expect(jsonData).to.have.property('updatedAt');\n    \n    // UUID format validation\n    const uuidRegex = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\n    pm.expect(jsonData.id).to.match(uuidRegex, \"Portfolio ID should be a valid UUID\");\n    \n    // ISO timestamp format validation\n    const isoTimestampRegex = /^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$/;\n    pm.expect(jsonData.createdAt).to.match(isoTimestampRegex, \"Portfolio createdAt should be ISO timestamp\");\n    pm.expect(jsonData.updatedAt).to.match(isoTimestampRegex, \"Portfolio updatedAt should be ISO timestamp\");\n    \n    // Store portfolio ID for subsequent requests\n    pm.environment.set(\"portfolioId\", jsonData.id);\n    \n    console.log(\"ğŸ“ Portfolio creation validation passed:\", jsonData.name);\n    console.log(\"âœ… Required fields verified, UUID and timestamp validation completed\");\n    console.log(\"ğŸ’¾ Stored portfolioId:\", jsonData.id);\n});"
                ]
              }
            }
          ]
        },
        {
          "name": "18. Get Portfolio",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/portfolios/{{portfolioId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "portfolios",
                "{{portfolioId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{portfolioId}}",
                  "description": "Portfolio ID in UUID format"
                }
              ]
            },
            "description": "**Workflow Step 18: Get Portfolio**\n\nRetrieves the portfolio details\n\n---\n\n**Uses:**\n- `[object Object]`\n- `[object Object]`\n- `[object Object]`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP Get Portfolio: /v1/organizations/{organizationId}/ledgers/{ledgerId}/portfolios/{portfolioId} =====\nconsole.log(\"âš™ï¸ Setting up Step Get Portfolio: /v1/organizations/{organizationId}/ledgers/{ledgerId}/portfolios/{portfolioId}\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_Get Portfolio_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step Get Portfolio\");\n"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== STEP 18: Get Portfolio =====\nconsole.log(\"ğŸ” Executing Step 18: Get Portfolio\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_18_start\", Date.now());\n\npm.test(\"âœ… Status: GET request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… GET operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_18\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ]
              }
            }
          ]
        },
        {
          "name": "19. Update Portfolio",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/portfolios/{{portfolioId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "portfolios",
                "{{portfolioId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{portfolioId}}",
                  "description": "Portfolio ID in UUID format"
                }
              ]
            },
            "description": "**Workflow Step 19: Update Portfolio**\n\nUpdates portfolio details\n\n---\n\n**Uses:**\n- `[object Object]`\n- `[object Object]`\n- `[object Object]`\n",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"entityId\": \"00000000-0000-0000-0000-000000000000\",\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"name\": \"My Portfolio Updated\",\n  \"status\": {\n    \"code\": \"ACTIVE\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP Update Portfolio: /v1/organizations/{organizationId}/ledgers/{ledgerId}/portfolios/{portfolioId} =====\nconsole.log(\"âš™ï¸ Setting up Step Update Portfolio: /v1/organizations/{organizationId}/ledgers/{ledgerId}/portfolios/{portfolioId}\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_Update Portfolio_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step Update Portfolio\");\n"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== STEP 19: Update Portfolio =====\nconsole.log(\"ğŸ” Executing Step 19: Update Portfolio\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_19_start\", Date.now());\n\npm.test(\"âœ… Status: PATCH request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… PATCH operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_19\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ]
              }
            }
          ]
        },
        {
          "name": "20. List Portfolios",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/portfolios",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "portfolios"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ],
              "query": [
                {
                  "key": "metadata",
                  "value": "",
                  "description": "JSON string to filter portfolios by metadata fields",
                  "disabled": true
                },
                {
                  "key": "limit",
                  "value": "",
                  "description": "Maximum number of records to return per page",
                  "disabled": true
                },
                {
                  "key": "page",
                  "value": "",
                  "description": "Page number for pagination",
                  "disabled": true
                },
                {
                  "key": "start_date",
                  "value": "",
                  "description": "Filter portfolios created on or after this date (format: YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "end_date",
                  "value": "",
                  "description": "Filter portfolios created on or before this date (format: YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "sort_order",
                  "value": "",
                  "description": "Sort direction for results based on creation date",
                  "disabled": true
                }
              ]
            },
            "description": "**Workflow Step 20: List Portfolios**\n\nLists all portfolios in the ledger\n\n---\n\n**Uses:**\n- `[object Object]`\n- `[object Object]`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP List Portfolios: /v1/organizations/{organizationId}/ledgers/{ledgerId}/portfolios =====\nconsole.log(\"âš™ï¸ Setting up Step List Portfolios: /v1/organizations/{organizationId}/ledgers/{ledgerId}/portfolios\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_List Portfolios_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step List Portfolios\");\n"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== STEP 20: List Portfolios =====\nconsole.log(\"ğŸ” Executing Step 20: List Portfolios\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_20_start\", Date.now());\n\npm.test(\"âœ… Status: GET request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… GET operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_20\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ]
              }
            }
          ]
        },
        {
          "name": "21. Create Segment",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/segments",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "segments"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ]
            },
            "description": "**Workflow Step 21: Create Segment**\n\nCreates a new segment in the ledger\n\n---\n\n**Uses:**\n- `[object Object]`\n- `[object Object]`\n",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"name\": \"My Segment\",\n  \"status\": {\n    \"code\": \"ACTIVE\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP Create Segment: /v1/organizations/{organizationId}/ledgers/{ledgerId}/segments =====\nconsole.log(\"âš™ï¸ Setting up Step Create Segment: /v1/organizations/{organizationId}/ledgers/{ledgerId}/segments\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_Create Segment_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step Create Segment\");\n"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== STEP 21: Create Segment =====\nconsole.log(\"ğŸ” Executing Step 21: Create Segment\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_21_start\", Date.now());\n\npm.test(\"âœ… Status: POST request successful (200/201)\", function () {\n    pm.expect(pm.response.code).to.be.oneOf([200, 201]);\n    if (pm.response.code === 201) {\n        console.log(\"âœ… Resource created successfully\");\n    } else {\n        console.log(\"âœ… POST operation completed successfully\");\n    }\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_21\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});\n\npm.test(\"ğŸ·ï¸ Business Logic: Segment has required fields\", function() {\n    // Only validate if response was successful\n    if (pm.response.code !== 200 && pm.response.code !== 201) {\n        console.log(\"âš ï¸ Skipping segment validation - response code:\", pm.response.code);\n        pm.test.skip();\n        return;\n    }\n    \n    const jsonData = pm.response.json();\n    const requestData = JSON.parse(pm.request.body.raw || '{}');\n    \n    // Required fields validation\n    pm.expect(jsonData).to.have.property('id');\n    pm.expect(jsonData).to.have.property('name');\n    pm.expect(jsonData).to.have.property('status');\n    pm.expect(jsonData).to.have.property('createdAt');\n    pm.expect(jsonData).to.have.property('updatedAt');\n    \n    // UUID format validation\n    const uuidRegex = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\n    pm.expect(jsonData.id).to.match(uuidRegex, \"Segment ID should be a valid UUID\");\n    \n    // ISO timestamp format validation\n    const isoTimestampRegex = /^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$/;\n    pm.expect(jsonData.createdAt).to.match(isoTimestampRegex, \"Segment createdAt should be ISO timestamp\");\n    pm.expect(jsonData.updatedAt).to.match(isoTimestampRegex, \"Segment updatedAt should be ISO timestamp\");\n    \n    // Store segment ID for subsequent requests\n    pm.environment.set(\"segmentId\", jsonData.id);\n    \n    console.log(\"ğŸ·ï¸ Segment creation validation passed:\", jsonData.name);\n    console.log(\"âœ… Required fields verified, UUID and timestamp validation completed\");\n    console.log(\"ğŸ’¾ Stored segmentId:\", jsonData.id);\n});"
                ]
              }
            }
          ]
        },
        {
          "name": "22. Get Segment",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/segments/{{segmentId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "segments",
                "{{segmentId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{segmentId}}",
                  "description": "Segment ID in UUID format"
                }
              ]
            },
            "description": "**Workflow Step 22: Get Segment**\n\nRetrieves the segment details\n\n---\n\n**Uses:**\n- `[object Object]`\n- `[object Object]`\n- `[object Object]`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP Get Segment: /v1/organizations/{organizationId}/ledgers/{ledgerId}/segments/{segmentId} =====\nconsole.log(\"âš™ï¸ Setting up Step Get Segment: /v1/organizations/{organizationId}/ledgers/{ledgerId}/segments/{segmentId}\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_Get Segment_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step Get Segment\");\n"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== STEP 22: Get Segment =====\nconsole.log(\"ğŸ” Executing Step 22: Get Segment\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_22_start\", Date.now());\n\npm.test(\"âœ… Status: GET request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… GET operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_22\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ]
              }
            }
          ]
        },
        {
          "name": "23. Update Segment",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/segments/{{segmentId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "segments",
                "{{segmentId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{segmentId}}",
                  "description": "Segment ID in UUID format"
                }
              ]
            },
            "description": "**Workflow Step 23: Update Segment**\n\nUpdates segment details\n\n---\n\n**Uses:**\n- `[object Object]`\n- `[object Object]`\n- `[object Object]`\n",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"name\": \"My Segment Updated\",\n  \"status\": {\n    \"code\": \"ACTIVE\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP Update Segment: /v1/organizations/{organizationId}/ledgers/{ledgerId}/segments/{segmentId} =====\nconsole.log(\"âš™ï¸ Setting up Step Update Segment: /v1/organizations/{organizationId}/ledgers/{ledgerId}/segments/{segmentId}\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_Update Segment_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step Update Segment\");\n"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== STEP 23: Update Segment =====\nconsole.log(\"ğŸ” Executing Step 23: Update Segment\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_23_start\", Date.now());\n\npm.test(\"âœ… Status: PATCH request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… PATCH operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_23\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ]
              }
            }
          ]
        },
        {
          "name": "24. List Segments",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/segments",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "segments"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ],
              "query": [
                {
                  "key": "metadata",
                  "value": "",
                  "description": "JSON string to filter segments by metadata fields",
                  "disabled": true
                },
                {
                  "key": "limit",
                  "value": "",
                  "description": "Maximum number of records to return per page",
                  "disabled": true
                },
                {
                  "key": "page",
                  "value": "",
                  "description": "Page number for pagination",
                  "disabled": true
                },
                {
                  "key": "start_date",
                  "value": "",
                  "description": "Filter segments created on or after this date (format: YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "end_date",
                  "value": "",
                  "description": "Filter segments created on or before this date (format: YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "sort_order",
                  "value": "",
                  "description": "Sort direction for results based on creation date",
                  "disabled": true
                }
              ]
            },
            "description": "**Workflow Step 24: List Segments**\n\nLists all segments in the ledger\n\n---\n\n**Uses:**\n- `[object Object]`\n- `[object Object]`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP List Segments: /v1/organizations/{organizationId}/ledgers/{ledgerId}/segments =====\nconsole.log(\"âš™ï¸ Setting up Step List Segments: /v1/organizations/{organizationId}/ledgers/{ledgerId}/segments\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_List Segments_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step List Segments\");\n"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== STEP 24: List Segments =====\nconsole.log(\"ğŸ” Executing Step 24: List Segments\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_24_start\", Date.now());\n\npm.test(\"âœ… Status: GET request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… GET operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_24\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ]
              }
            }
          ]
        },
        {
          "name": "25. Count Organizations",
          "request": {
            "method": "HEAD",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/metrics/count",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "metrics",
                "count"
              ]
            },
            "description": "**Workflow Step 25: Count Organizations**\n\nReturns count in response headers"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP Count Organizations: /v1/organizations/metrics/count =====\nconsole.log(\"âš™ï¸ Setting up Step Count Organizations: /v1/organizations/metrics/count\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_Count Organizations_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step Count Organizations\");\n"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== STEP 25: Count Organizations =====\nconsole.log(\"ğŸ” Executing Step 25: Count Organizations\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_25_start\", Date.now());\n\npm.test(\"âœ… Status: HEAD request successful (204)\", function () {\n    pm.expect(pm.response.code).to.equal(204);\n    console.log(\"âœ… HEAD operation completed successfully - Count: \" + pm.response.headers.get(\"X-Total-Count\"));\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_25\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});"
                ]
              }
            }
          ]
        },
        {
          "name": "26. Count Ledgers",
          "request": {
            "method": "HEAD",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/metrics/count",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "metrics",
                "count"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                }
              ]
            },
            "description": "**Workflow Step 26: Count Ledgers**\n\nGets the total count of ledgers in the organization\n\n---\n\n**Uses:**\n- `[object Object]`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP Count Ledgers: /v1/organizations/{organizationId}/ledgers/metrics/count =====\nconsole.log(\"âš™ï¸ Setting up Step Count Ledgers: /v1/organizations/{organizationId}/ledgers/metrics/count\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_Count Ledgers_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step Count Ledgers\");\n"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== STEP 26: Count Ledgers =====\nconsole.log(\"ğŸ” Executing Step 26: Count Ledgers\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_26_start\", Date.now());\n\npm.test(\"âœ… Status: HEAD request successful (204)\", function () {\n    pm.expect(pm.response.code).to.equal(204);\n    console.log(\"âœ… HEAD operation completed successfully - Count: \" + pm.response.headers.get(\"X-Total-Count\"));\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_26\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});"
                ]
              }
            }
          ]
        },
        {
          "name": "27. Count Accounts",
          "request": {
            "method": "HEAD",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts/metrics/count",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "accounts",
                "metrics",
                "count"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ]
            },
            "description": "**Workflow Step 27: Count Accounts**\n\nGets the total count of accounts in the ledger\n\n---\n\n**Uses:**\n- `[object Object]`\n- `[object Object]`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP Count Accounts: /v1/organizations/{organizationId}/ledgers/{ledgerId}/accounts/metrics/count =====\nconsole.log(\"âš™ï¸ Setting up Step Count Accounts: /v1/organizations/{organizationId}/ledgers/{ledgerId}/accounts/metrics/count\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_Count Accounts_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step Count Accounts\");\n"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== STEP 27: Count Accounts =====\nconsole.log(\"ğŸ” Executing Step 27: Count Accounts\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_27_start\", Date.now());\n\npm.test(\"âœ… Status: HEAD request successful (204)\", function () {\n    pm.expect(pm.response.code).to.equal(204);\n    console.log(\"âœ… HEAD operation completed successfully - Count: \" + pm.response.headers.get(\"X-Total-Count\"));\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_27\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});"
                ]
              }
            }
          ]
        },
        {
          "name": "28. Count Assets",
          "request": {
            "method": "HEAD",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/assets/metrics/count",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "assets",
                "metrics",
                "count"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ]
            },
            "description": "**Workflow Step 28: Count Assets**\n\nGets the total count of assets in the ledger\n\n---\n\n**Uses:**\n- `[object Object]`\n- `[object Object]`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP Count Assets: /v1/organizations/{organizationId}/ledgers/{ledgerId}/assets/metrics/count =====\nconsole.log(\"âš™ï¸ Setting up Step Count Assets: /v1/organizations/{organizationId}/ledgers/{ledgerId}/assets/metrics/count\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_Count Assets_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step Count Assets\");\n"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== STEP 28: Count Assets =====\nconsole.log(\"ğŸ” Executing Step 28: Count Assets\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_28_start\", Date.now());\n\npm.test(\"âœ… Status: HEAD request successful (204)\", function () {\n    pm.expect(pm.response.code).to.equal(204);\n    console.log(\"âœ… HEAD operation completed successfully - Count: \" + pm.response.headers.get(\"X-Total-Count\"));\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_28\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});"
                ]
              }
            }
          ]
        },
        {
          "name": "29. Count Portfolios",
          "request": {
            "method": "HEAD",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/portfolios/metrics/count",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "portfolios",
                "metrics",
                "count"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ]
            },
            "description": "**Workflow Step 29: Count Portfolios**\n\nGets the total count of portfolios in the ledger\n\n---\n\n**Uses:**\n- `[object Object]`\n- `[object Object]`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP Count Portfolios: /v1/organizations/{organizationId}/ledgers/{ledgerId}/portfolios/metrics/count =====\nconsole.log(\"âš™ï¸ Setting up Step Count Portfolios: /v1/organizations/{organizationId}/ledgers/{ledgerId}/portfolios/metrics/count\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_Count Portfolios_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step Count Portfolios\");\n"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== STEP 29: Count Portfolios =====\nconsole.log(\"ğŸ” Executing Step 29: Count Portfolios\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_29_start\", Date.now());\n\npm.test(\"âœ… Status: HEAD request successful (204)\", function () {\n    pm.expect(pm.response.code).to.equal(204);\n    console.log(\"âœ… HEAD operation completed successfully - Count: \" + pm.response.headers.get(\"X-Total-Count\"));\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_29\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});"
                ]
              }
            }
          ]
        },
        {
          "name": "30. Count Segments",
          "request": {
            "method": "HEAD",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/segments/metrics/count",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "segments",
                "metrics",
                "count"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ]
            },
            "description": "**Workflow Step 30: Count Segments**\n\nGets the total count of segments in the ledger\n\n---\n\n**Uses:**\n- `[object Object]`\n- `[object Object]`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP Count Segments: /v1/organizations/{organizationId}/ledgers/{ledgerId}/segments/metrics/count =====\nconsole.log(\"âš™ï¸ Setting up Step Count Segments: /v1/organizations/{organizationId}/ledgers/{ledgerId}/segments/metrics/count\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_Count Segments_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step Count Segments\");\n"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== STEP 30: Count Segments =====\nconsole.log(\"ğŸ” Executing Step 30: Count Segments\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_30_start\", Date.now());\n\npm.test(\"âœ… Status: HEAD request successful (204)\", function () {\n    pm.expect(pm.response.code).to.equal(204);\n    console.log(\"âœ… HEAD operation completed successfully - Count: \" + pm.response.headers.get(\"X-Total-Count\"));\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_30\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});"
                ]
              }
            }
          ]
        },
        {
          "name": "31. Get Account by Alias",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts/alias/{{accountAlias}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "accounts",
                "alias",
                "{{accountAlias}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "alias",
                  "value": "",
                  "description": "Account alias (e.g. @person1)"
                }
              ]
            },
            "description": "**Workflow Step 31: Get Account by Alias**\n\nRetrieves an account using its alias\n\n---\n\n**Uses:**\n- `[object Object]`\n- `[object Object]`\n- `[object Object]`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP Get Account by Alias: /v1/organizations/{organizationId}/ledgers/{ledgerId}/accounts/alias/{alias} =====\nconsole.log(\"âš™ï¸ Setting up Step Get Account by Alias: /v1/organizations/{organizationId}/ledgers/{ledgerId}/accounts/alias/{alias}\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_Get Account by Alias_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step Get Account by Alias\");\n"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== STEP 31: Get Account by Alias =====\nconsole.log(\"ğŸ” Executing Step 31: Get Account by Alias\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_31_start\", Date.now());\n\npm.test(\"âœ… Status: GET request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… GET operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_31\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ]
              }
            }
          ]
        },
        {
          "name": "32. Get Account by External Code",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts/external/{{externalCode}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "accounts",
                "external",
                "{{externalCode}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "code",
                  "value": "",
                  "description": "Account External Code (e.g. BRL)"
                }
              ]
            },
            "description": "**Workflow Step 32: Get Account by External Code**\n\nRetrieves an account using external code\n\n---\n\n**Uses:**\n- `[object Object]`\n- `[object Object]`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP Get Account by External Code: /v1/organizations/{organizationId}/ledgers/{ledgerId}/accounts/external/{code} =====\nconsole.log(\"âš™ï¸ Setting up Step Get Account by External Code: /v1/organizations/{organizationId}/ledgers/{ledgerId}/accounts/external/{code}\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_Get Account by External Code_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step Get Account by External Code\");\n"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== STEP 32: Get Account by External Code =====\nconsole.log(\"ğŸ” Executing Step 32: Get Account by External Code\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_32_start\", Date.now());\n\npm.test(\"âœ… Status: GET request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… GET operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_32\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ]
              }
            }
          ]
        },
        {
          "name": "33. Create Transaction",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              },
              {
                "key": "X-Idempotency",
                "value": "{{idempotencyKey}}",
                "description": "Unique key to prevent duplicate transactions",
                "disabled": false
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/transactions/json",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "transactions",
                "json"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                }
              ]
            },
            "description": "**Workflow Step 33: Create Transaction**\n\nCreates a new transaction in the ledger\n\n---\n\n**Uses:**\n- `[object Object]`\n- `[object Object]`\n- `[object Object]`\n",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"chartOfAccountsGroupName\": \"Example chartOfAccountsGroupName\",\n  \"code\": \"Example code\",\n  \"description\": \"Example description\",\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"send\": {\n    \"asset\": \"USD\",\n    \"distribute\": {\n      \"to\": [\n        {\n          \"account\": \"{{accountAlias}}\",\n          \"amount\": {\n            \"asset\": \"USD\",\n            \"value\": 100\n          },\n          \"chartOfAccounts\": \"Example chartOfAccounts\",\n          \"description\": \"Example description\",\n          \"metadata\": {\n            \"key\": \"value\"\n          }\n        }\n      ]\n    },\n    \"source\": {\n      \"from\": [\n        {\n          \"account\": \"@external/USD\",\n          \"amount\": {\n            \"asset\": \"USD\",\n            \"value\": 100\n          },\n          \"chartOfAccounts\": \"Example chartOfAccounts\",\n          \"description\": \"Example description\",\n          \"metadata\": {\n            \"key\": \"value\"\n          }\n        }\n      ]\n    },\n    \"value\": 100\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP Create Transaction: /v1/organizations/{organizationId}/ledgers/{ledgerId}/transactions/json =====\nconsole.log(\"âš™ï¸ Setting up Step Create Transaction: /v1/organizations/{organizationId}/ledgers/{ledgerId}/transactions/json\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_Create Transaction_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step Create Transaction\");\n"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== STEP 33: Create Transaction =====\nconsole.log(\"ğŸ” Executing Step 33: Create Transaction\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_33_start\", Date.now());\n\npm.test(\"âœ… Status: POST request successful (200/201)\", function () {\n    pm.expect(pm.response.code).to.be.oneOf([200, 201]);\n    if (pm.response.code === 201) {\n        console.log(\"âœ… Resource created successfully\");\n    } else {\n        console.log(\"âœ… POST operation completed successfully\");\n    }\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_33\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});\n\npm.test(\"ğŸ’¸ Business Logic: Transaction has required fields\", function() {\n    // Only validate if response was successful\n    if (pm.response.code !== 200 && pm.response.code !== 201) {\n        console.log(\"âš ï¸ Skipping transaction validation - response code:\", pm.response.code);\n        pm.test.skip();\n        return;\n    }\n    \n    const jsonData = pm.response.json();\n    \n    // Required fields validation\n    pm.expect(jsonData).to.have.property('id');\n    pm.expect(jsonData).to.have.property('status');\n    pm.expect(jsonData).to.have.property('createdAt');\n    pm.expect(jsonData).to.have.property('updatedAt');\n    \n    // UUID format validation\n    const uuidRegex = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\n    pm.expect(jsonData.id).to.match(uuidRegex, \"Transaction ID should be a valid UUID\");\n    \n    // ISO timestamp format validation\n    const isoTimestampRegex = /^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$/;\n    pm.expect(jsonData.createdAt).to.match(isoTimestampRegex, \"Transaction createdAt should be ISO timestamp\");\n    pm.expect(jsonData.updatedAt).to.match(isoTimestampRegex, \"Transaction updatedAt should be ISO timestamp\");\n    \n    // Determine transaction type and set appropriate variable names\n    const currentUrl = pm.request.url.toString();\n    let varPrefix = \"\";\n    \n    if (currentUrl.includes(\"/transactions/json\")) {\n        varPrefix = \"\"; // Standard transaction - use original variable names\n    } else if (currentUrl.includes(\"/transactions/dsl\")) {\n        varPrefix = \"dsl\"; // DSL transaction\n    } else if (currentUrl.includes(\"/transactions/inflow\")) {\n        varPrefix = \"inflow\"; // Inflow transaction\n    } else if (currentUrl.includes(\"/transactions/outflow\")) {\n        varPrefix = \"outflow\"; // Outflow transaction\n    }\n    \n    // Store transaction ID with appropriate prefix\n    const transactionIdVar = varPrefix ? varPrefix + \"TransactionId\" : \"transactionId\";\n    const operationIdVar = varPrefix ? varPrefix + \"OperationId\" : \"operationId\";\n    const balanceIdVar = varPrefix ? varPrefix + \"BalanceId\" : \"balanceId\";\n    \n    pm.environment.set(transactionIdVar, jsonData.id);\n    console.log(\"ğŸ’¾ Stored \" + transactionIdVar + \":\", jsonData.id);\n    \n    // Extract operation and balance IDs if available\n    if (jsonData.operations && jsonData.operations.length > 0) {\n        pm.environment.set(operationIdVar, jsonData.operations[0].id);\n        console.log(\"ğŸ’¾ Stored \" + operationIdVar + \":\", jsonData.operations[0].id);\n        \n        if (jsonData.operations[0].balanceId) {\n            pm.environment.set(balanceIdVar, jsonData.operations[0].balanceId);\n            console.log(\"ğŸ’¾ Stored \" + balanceIdVar + \":\", jsonData.operations[0].balanceId);\n        }\n    }\n    \n    console.log(\"ğŸ’¸ Transaction creation validation passed:\", jsonData.id);\n    console.log(\"âœ… Required fields verified, UUID and timestamp validation completed\");\n});"
                ]
              }
            }
          ]
        },
        {
          "name": "34. Create Transaction (Inflow)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/transactions/inflow",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "transactions",
                "inflow"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                }
              ]
            },
            "description": "**Workflow Step 34: Create Transaction (Inflow)**\n\nCreates an inflow transaction (money coming in)\n\n---\n\n**Uses:**\n- `[object Object]`\n- `[object Object]`\n- `[object Object]`\n",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"chartOfAccountsGroupName\": \"Example chartOfAccountsGroupName\",\n  \"code\": \"Example code\",\n  \"description\": \"Example description\",\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"send\": {\n    \"asset\": \"USD\",\n    \"distribute\": {\n      \"to\": [\n        {\n          \"account\": \"{{accountAlias}}\",\n          \"amount\": {\n            \"asset\": \"USD\",\n            \"scale\": 2,\n            \"value\": 100\n          },\n          \"chartOfAccounts\": \"Example chartOfAccounts\",\n          \"description\": \"Example description\",\n          \"metadata\": {\n            \"key\": \"value\"\n          }\n        }\n      ]\n    },\n    \"scale\": 2,\n    \"value\": 100\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP Create Transaction (Inflow): /v1/organizations/{organizationId}/ledgers/{ledgerId}/transactions/inflow =====\nconsole.log(\"âš™ï¸ Setting up Step Create Transaction (Inflow): /v1/organizations/{organizationId}/ledgers/{ledgerId}/transactions/inflow\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_Create Transaction (Inflow)_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step Create Transaction (Inflow)\");\n"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== STEP 34: Create Transaction (Inflow) =====\nconsole.log(\"ğŸ” Executing Step 34: Create Transaction (Inflow)\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_34_start\", Date.now());\n\npm.test(\"âœ… Status: POST request successful (200/201)\", function () {\n    pm.expect(pm.response.code).to.be.oneOf([200, 201]);\n    if (pm.response.code === 201) {\n        console.log(\"âœ… Resource created successfully\");\n    } else {\n        console.log(\"âœ… POST operation completed successfully\");\n    }\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_34\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});\n\npm.test(\"ğŸ’¸ Business Logic: Transaction has required fields\", function() {\n    // Only validate if response was successful\n    if (pm.response.code !== 200 && pm.response.code !== 201) {\n        console.log(\"âš ï¸ Skipping transaction validation - response code:\", pm.response.code);\n        pm.test.skip();\n        return;\n    }\n    \n    const jsonData = pm.response.json();\n    \n    // Required fields validation\n    pm.expect(jsonData).to.have.property('id');\n    pm.expect(jsonData).to.have.property('status');\n    pm.expect(jsonData).to.have.property('createdAt');\n    pm.expect(jsonData).to.have.property('updatedAt');\n    \n    // UUID format validation\n    const uuidRegex = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\n    pm.expect(jsonData.id).to.match(uuidRegex, \"Transaction ID should be a valid UUID\");\n    \n    // ISO timestamp format validation\n    const isoTimestampRegex = /^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$/;\n    pm.expect(jsonData.createdAt).to.match(isoTimestampRegex, \"Transaction createdAt should be ISO timestamp\");\n    pm.expect(jsonData.updatedAt).to.match(isoTimestampRegex, \"Transaction updatedAt should be ISO timestamp\");\n    \n    // Determine transaction type and set appropriate variable names\n    const currentUrl = pm.request.url.toString();\n    let varPrefix = \"\";\n    \n    if (currentUrl.includes(\"/transactions/json\")) {\n        varPrefix = \"\"; // Standard transaction - use original variable names\n    } else if (currentUrl.includes(\"/transactions/dsl\")) {\n        varPrefix = \"dsl\"; // DSL transaction\n    } else if (currentUrl.includes(\"/transactions/inflow\")) {\n        varPrefix = \"inflow\"; // Inflow transaction\n    } else if (currentUrl.includes(\"/transactions/outflow\")) {\n        varPrefix = \"outflow\"; // Outflow transaction\n    }\n    \n    // Store transaction ID with appropriate prefix\n    const transactionIdVar = varPrefix ? varPrefix + \"TransactionId\" : \"transactionId\";\n    const operationIdVar = varPrefix ? varPrefix + \"OperationId\" : \"operationId\";\n    const balanceIdVar = varPrefix ? varPrefix + \"BalanceId\" : \"balanceId\";\n    \n    pm.environment.set(transactionIdVar, jsonData.id);\n    console.log(\"ğŸ’¾ Stored \" + transactionIdVar + \":\", jsonData.id);\n    \n    // Extract operation and balance IDs if available\n    if (jsonData.operations && jsonData.operations.length > 0) {\n        pm.environment.set(operationIdVar, jsonData.operations[0].id);\n        console.log(\"ğŸ’¾ Stored \" + operationIdVar + \":\", jsonData.operations[0].id);\n        \n        if (jsonData.operations[0].balanceId) {\n            pm.environment.set(balanceIdVar, jsonData.operations[0].balanceId);\n            console.log(\"ğŸ’¾ Stored \" + balanceIdVar + \":\", jsonData.operations[0].balanceId);\n        }\n    }\n    \n    console.log(\"ğŸ’¸ Transaction creation validation passed:\", jsonData.id);\n    console.log(\"âœ… Required fields verified, UUID and timestamp validation completed\");\n});"
                ]
              }
            }
          ]
        },
        {
          "name": "35. Create Transaction (Outflow)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/transactions/outflow",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "transactions",
                "outflow"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                }
              ]
            },
            "description": "**Workflow Step 35: Create Transaction (Outflow)**\n\nCreates an outflow transaction (money going out)\n\n---\n\n**Uses:**\n- `[object Object]`\n- `[object Object]`\n- `[object Object]`\n",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"chartOfAccountsGroupName\": \"Example chartOfAccountsGroupName\",\n  \"code\": \"Example code\",\n  \"description\": \"Example description\",\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"send\": {\n    \"asset\": \"USD\",\n    \"source\": {\n      \"from\": [\n        {\n          \"account\": \"{{accountAlias}}\",\n          \"amount\": {\n            \"asset\": \"USD\",\n            \"value\": 100\n          },\n          \"chartOfAccounts\": \"Example chartOfAccounts\",\n          \"description\": \"Example description\",\n          \"metadata\": {\n            \"key\": \"value\"\n          }\n        }\n      ]\n    },\n    \"value\": 100\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP Create Transaction (Outflow): /v1/organizations/{organizationId}/ledgers/{ledgerId}/transactions/outflow =====\nconsole.log(\"âš™ï¸ Setting up Step Create Transaction (Outflow): /v1/organizations/{organizationId}/ledgers/{ledgerId}/transactions/outflow\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_Create Transaction (Outflow)_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step Create Transaction (Outflow)\");\n"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== STEP 35: Create Transaction (Outflow) =====\nconsole.log(\"ğŸ” Executing Step 35: Create Transaction (Outflow)\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_35_start\", Date.now());\n\npm.test(\"âœ… Status: POST request successful (200/201)\", function () {\n    pm.expect(pm.response.code).to.be.oneOf([200, 201]);\n    if (pm.response.code === 201) {\n        console.log(\"âœ… Resource created successfully\");\n    } else {\n        console.log(\"âœ… POST operation completed successfully\");\n    }\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_35\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});\n\npm.test(\"ğŸ’¸ Business Logic: Transaction has required fields\", function() {\n    // Only validate if response was successful\n    if (pm.response.code !== 200 && pm.response.code !== 201) {\n        console.log(\"âš ï¸ Skipping transaction validation - response code:\", pm.response.code);\n        pm.test.skip();\n        return;\n    }\n    \n    const jsonData = pm.response.json();\n    \n    // Required fields validation\n    pm.expect(jsonData).to.have.property('id');\n    pm.expect(jsonData).to.have.property('status');\n    pm.expect(jsonData).to.have.property('createdAt');\n    pm.expect(jsonData).to.have.property('updatedAt');\n    \n    // UUID format validation\n    const uuidRegex = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\n    pm.expect(jsonData.id).to.match(uuidRegex, \"Transaction ID should be a valid UUID\");\n    \n    // ISO timestamp format validation\n    const isoTimestampRegex = /^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$/;\n    pm.expect(jsonData.createdAt).to.match(isoTimestampRegex, \"Transaction createdAt should be ISO timestamp\");\n    pm.expect(jsonData.updatedAt).to.match(isoTimestampRegex, \"Transaction updatedAt should be ISO timestamp\");\n    \n    // Determine transaction type and set appropriate variable names\n    const currentUrl = pm.request.url.toString();\n    let varPrefix = \"\";\n    \n    if (currentUrl.includes(\"/transactions/json\")) {\n        varPrefix = \"\"; // Standard transaction - use original variable names\n    } else if (currentUrl.includes(\"/transactions/dsl\")) {\n        varPrefix = \"dsl\"; // DSL transaction\n    } else if (currentUrl.includes(\"/transactions/inflow\")) {\n        varPrefix = \"inflow\"; // Inflow transaction\n    } else if (currentUrl.includes(\"/transactions/outflow\")) {\n        varPrefix = \"outflow\"; // Outflow transaction\n    }\n    \n    // Store transaction ID with appropriate prefix\n    const transactionIdVar = varPrefix ? varPrefix + \"TransactionId\" : \"transactionId\";\n    const operationIdVar = varPrefix ? varPrefix + \"OperationId\" : \"operationId\";\n    const balanceIdVar = varPrefix ? varPrefix + \"BalanceId\" : \"balanceId\";\n    \n    pm.environment.set(transactionIdVar, jsonData.id);\n    console.log(\"ğŸ’¾ Stored \" + transactionIdVar + \":\", jsonData.id);\n    \n    // Extract operation and balance IDs if available\n    if (jsonData.operations && jsonData.operations.length > 0) {\n        pm.environment.set(operationIdVar, jsonData.operations[0].id);\n        console.log(\"ğŸ’¾ Stored \" + operationIdVar + \":\", jsonData.operations[0].id);\n        \n        if (jsonData.operations[0].balanceId) {\n            pm.environment.set(balanceIdVar, jsonData.operations[0].balanceId);\n            console.log(\"ğŸ’¾ Stored \" + balanceIdVar + \":\", jsonData.operations[0].balanceId);\n        }\n    }\n    \n    console.log(\"ğŸ’¸ Transaction creation validation passed:\", jsonData.id);\n    console.log(\"âœ… Required fields verified, UUID and timestamp validation completed\");\n});"
                ]
              }
            }
          ]
        },
        {
          "name": "36. Get Transaction",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/transactions/{{transactionId}}",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "transactions",
                "{{transactionId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                },
                {
                  "key": "transaction_id",
                  "value": "{{transactionId}}",
                  "description": "Transaction ID"
                }
              ]
            },
            "description": "**Workflow Step 36: Get Transaction**\n\nRetrieves the transaction details\n\n---\n\n**Uses:**\n- `[object Object]`\n- `[object Object]`\n- `[object Object]`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP Get Transaction: /v1/organizations/{organizationId}/ledgers/{ledgerId}/transactions/{transactionId} =====\nconsole.log(\"âš™ï¸ Setting up Step Get Transaction: /v1/organizations/{organizationId}/ledgers/{ledgerId}/transactions/{transactionId}\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_Get Transaction_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step Get Transaction\");\n"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== STEP 36: Get Transaction =====\nconsole.log(\"ğŸ” Executing Step 36: Get Transaction\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_36_start\", Date.now());\n\npm.test(\"âœ… Status: GET request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… GET operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_36\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ]
              }
            }
          ]
        },
        {
          "name": "37. Update Transaction",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/transactions/{{transactionId}}",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "transactions",
                "{{transactionId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                },
                {
                  "key": "transaction_id",
                  "value": "{{transactionId}}",
                  "description": "Transaction ID"
                }
              ]
            },
            "description": "**Workflow Step 37: Update Transaction**\n\nUpdates transaction metadata\n\n---\n\n**Uses:**\n- `[object Object]`\n- `[object Object]`\n- `[object Object]`\n",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"description\": \"Transaction description\",\n  \"metadata\": {\n    \"key\": \"value\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP Update Transaction: /v1/organizations/{organizationId}/ledgers/{ledgerId}/transactions/{transactionId} =====\nconsole.log(\"âš™ï¸ Setting up Step Update Transaction: /v1/organizations/{organizationId}/ledgers/{ledgerId}/transactions/{transactionId}\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_Update Transaction_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step Update Transaction\");\n"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== STEP 37: Update Transaction =====\nconsole.log(\"ğŸ” Executing Step 37: Update Transaction\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_37_start\", Date.now());\n\npm.test(\"âœ… Status: PATCH request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… PATCH operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_37\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ]
              }
            }
          ]
        },
        {
          "name": "38. List Transactions",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/transactions",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "transactions"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                }
              ],
              "query": [
                {
                  "key": "limit",
                  "value": "",
                  "description": "Limit",
                  "disabled": true
                },
                {
                  "key": "start_date",
                  "value": "",
                  "description": "Start Date",
                  "disabled": true
                },
                {
                  "key": "end_date",
                  "value": "",
                  "description": "End Date",
                  "disabled": true
                },
                {
                  "key": "sort_order",
                  "value": "",
                  "description": "Sort Order",
                  "disabled": true
                },
                {
                  "key": "cursor",
                  "value": "",
                  "description": "Cursor",
                  "disabled": true
                }
              ]
            },
            "description": "**Workflow Step 38: List Transactions**\n\nLists all transactions in the ledger\n\n---\n\n**Uses:**\n- `[object Object]`\n- `[object Object]`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP List Transactions: /v1/organizations/{organizationId}/ledgers/{ledgerId}/transactions =====\nconsole.log(\"âš™ï¸ Setting up Step List Transactions: /v1/organizations/{organizationId}/ledgers/{ledgerId}/transactions\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_List Transactions_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step List Transactions\");\n"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== STEP 38: List Transactions =====\nconsole.log(\"ğŸ” Executing Step 38: List Transactions\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_38_start\", Date.now());\n\npm.test(\"âœ… Status: GET request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… GET operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_38\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ]
              }
            }
          ]
        },
        {
          "name": "39. Get Operation",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts/{{accountId}}/operations/{{operationId}}",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "accounts",
                "{{accountId}}",
                "operations",
                "{{operationId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                },
                {
                  "key": "account_id",
                  "value": "{{accountId}}",
                  "description": "Account ID"
                },
                {
                  "key": "operation_id",
                  "value": "{{operationId}}",
                  "description": "Operation ID"
                }
              ]
            },
            "description": "**Workflow Step 39: Get Operation**\n\nRetrieves the operation details\n\n---\n\n**Uses:**\n- `[object Object]`\n- `[object Object]`\n- `[object Object]`\n- `[object Object]`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP Get Operation: /v1/organizations/{organizationId}/ledgers/{ledgerId}/accounts/{accountId}/operations/{operationId} =====\nconsole.log(\"âš™ï¸ Setting up Step Get Operation: /v1/organizations/{organizationId}/ledgers/{ledgerId}/accounts/{accountId}/operations/{operationId}\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_Get Operation_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step Get Operation\");\n"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== STEP 39: Get Operation =====\nconsole.log(\"ğŸ” Executing Step 39: Get Operation\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_39_start\", Date.now());\n\npm.test(\"âœ… Status: GET request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… GET operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_39\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ]
              }
            }
          ]
        },
        {
          "name": "40. List Operations by Account",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts/{{accountId}}/operations",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "accounts",
                "{{accountId}}",
                "operations"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                },
                {
                  "key": "account_id",
                  "value": "{{accountId}}",
                  "description": "Account ID"
                }
              ],
              "query": [
                {
                  "key": "limit",
                  "value": "",
                  "description": "Limit",
                  "disabled": true
                },
                {
                  "key": "start_date",
                  "value": "",
                  "description": "Start Date",
                  "disabled": true
                },
                {
                  "key": "end_date",
                  "value": "",
                  "description": "End Date",
                  "disabled": true
                },
                {
                  "key": "sort_order",
                  "value": "",
                  "description": "Sort Order",
                  "disabled": true
                },
                {
                  "key": "cursor",
                  "value": "",
                  "description": "Cursor",
                  "disabled": true
                },
                {
                  "key": "type",
                  "value": "",
                  "description": "DEBIT, CREDIT",
                  "disabled": true
                }
              ]
            },
            "description": "**Workflow Step 40: List Operations by Account**\n\nLists all operations for a specific account\n\n---\n\n**Uses:**\n- `[object Object]`\n- `[object Object]`\n- `[object Object]`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP List Operations by Account: /v1/organizations/{organizationId}/ledgers/{ledgerId}/accounts/{accountId}/operations =====\nconsole.log(\"âš™ï¸ Setting up Step List Operations by Account: /v1/organizations/{organizationId}/ledgers/{ledgerId}/accounts/{accountId}/operations\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_List Operations by Account_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step List Operations by Account\");\n"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== STEP 40: List Operations by Account =====\nconsole.log(\"ğŸ” Executing Step 40: List Operations by Account\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_40_start\", Date.now());\n\npm.test(\"âœ… Status: GET request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… GET operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_40\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ]
              }
            }
          ]
        },
        {
          "name": "41. Update Operation Metadata",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/transactions/{{transactionId}}/operations/{{operationId}}",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "transactions",
                "{{transactionId}}",
                "operations",
                "{{operationId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                },
                {
                  "key": "transaction_id",
                  "value": "{{transactionId}}",
                  "description": "Transaction ID"
                },
                {
                  "key": "operation_id",
                  "value": "{{operationId}}",
                  "description": "Operation ID"
                }
              ]
            },
            "description": "**Workflow Step 41: Update Operation Metadata**\n\nUpdates operation metadata\n\n---\n\n**Uses:**\n- `[object Object]`\n- `[object Object]`\n- `[object Object]`\n- `[object Object]`\n",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"description\": \"Credit card operation\",\n  \"metadata\": {\n    \"key\": \"value\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP Update Operation Metadata: /v1/organizations/{organizationId}/ledgers/{ledgerId}/transactions/{transactionId}/operations/{operationId} =====\nconsole.log(\"âš™ï¸ Setting up Step Update Operation Metadata: /v1/organizations/{organizationId}/ledgers/{ledgerId}/transactions/{transactionId}/operations/{operationId}\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_Update Operation Metadata_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step Update Operation Metadata\");\n"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== STEP 41: Update Operation Metadata =====\nconsole.log(\"ğŸ” Executing Step 41: Update Operation Metadata\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_41_start\", Date.now());\n\npm.test(\"âœ… Status: PATCH request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… PATCH operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_41\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ]
              }
            }
          ]
        },
        {
          "name": "42. Get Balance",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/balances/{{balanceId}}",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "balances",
                "{{balanceId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                },
                {
                  "key": "balance_id",
                  "value": "{{balanceId}}",
                  "description": "Balance ID"
                }
              ]
            },
            "description": "**Workflow Step 42: Get Balance**\n\nRetrieves the balance details\n\n---\n\n**Uses:**\n- `[object Object]`\n- `[object Object]`\n- `[object Object]`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP Get Balance: /v1/organizations/{organizationId}/ledgers/{ledgerId}/balances/{balanceId} =====\nconsole.log(\"âš™ï¸ Setting up Step Get Balance: /v1/organizations/{organizationId}/ledgers/{ledgerId}/balances/{balanceId}\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_Get Balance_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step Get Balance\");\n"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== STEP 42: Get Balance =====\nconsole.log(\"ğŸ” Executing Step 42: Get Balance\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_42_start\", Date.now());\n\npm.test(\"âœ… Status: GET request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… GET operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_42\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ]
              }
            }
          ]
        },
        {
          "name": "43. List Balances by Account",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts/{{accountId}}/balances",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "accounts",
                "{{accountId}}",
                "balances"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                },
                {
                  "key": "account_id",
                  "value": "{{accountId}}",
                  "description": "Account ID"
                }
              ],
              "query": [
                {
                  "key": "limit",
                  "value": "",
                  "description": "Limit",
                  "disabled": true
                },
                {
                  "key": "start_date",
                  "value": "",
                  "description": "Start Date",
                  "disabled": true
                },
                {
                  "key": "end_date",
                  "value": "",
                  "description": "End Date",
                  "disabled": true
                },
                {
                  "key": "sort_order",
                  "value": "",
                  "description": "Sort Order",
                  "disabled": true
                },
                {
                  "key": "cursor",
                  "value": "",
                  "description": "Cursor",
                  "disabled": true
                }
              ]
            },
            "description": "**Workflow Step 43: List Balances by Account**\n\nLists all balances for a specific account\n\n---\n\n**Uses:**\n- `[object Object]`\n- `[object Object]`\n- `[object Object]`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP List Balances by Account: /v1/organizations/{organizationId}/ledgers/{ledgerId}/accounts/{accountId}/balances =====\nconsole.log(\"âš™ï¸ Setting up Step List Balances by Account: /v1/organizations/{organizationId}/ledgers/{ledgerId}/accounts/{accountId}/balances\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_List Balances by Account_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step List Balances by Account\");\n"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== STEP 43: List Balances by Account =====\nconsole.log(\"ğŸ” Executing Step 43: List Balances by Account\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_43_start\", Date.now());\n\npm.test(\"âœ… Status: GET request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… GET operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_43\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ]
              }
            }
          ]
        },
        {
          "name": "44. List Balances by Account Alias",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts/alias/{{accountAlias}}/balances",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "accounts",
                "alias",
                "{{accountAlias}}",
                "balances"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                },
                {
                  "key": "alias",
                  "value": "",
                  "description": "Alias (e.g. @person1)"
                }
              ]
            },
            "description": "**Workflow Step 44: List Balances by Account Alias**\n\nLists all balances for an account identified by alias\n\n---\n\n**Uses:**\n- `[object Object]`\n- `[object Object]`\n- `[object Object]`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP List Balances by Account Alias: /v1/organizations/{organizationId}/ledgers/{ledgerId}/accounts/alias/{alias}/balances =====\nconsole.log(\"âš™ï¸ Setting up Step List Balances by Account Alias: /v1/organizations/{organizationId}/ledgers/{ledgerId}/accounts/alias/{alias}/balances\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_List Balances by Account Alias_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step List Balances by Account Alias\");\n"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== STEP 44: List Balances by Account Alias =====\nconsole.log(\"ğŸ” Executing Step 44: List Balances by Account Alias\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_44_start\", Date.now());\n\npm.test(\"âœ… Status: GET request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… GET operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_44\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ]
              }
            }
          ]
        },
        {
          "name": "45. List Balances by External Code",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts/external/{{externalCode}}/balances",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "accounts",
                "external",
                "{{externalCode}}",
                "balances"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                },
                {
                  "key": "code",
                  "value": "",
                  "description": "Code (e.g. BRL)"
                }
              ]
            },
            "description": "**Workflow Step 45: List Balances by External Code**\n\nLists all balances for an account identified by external code\n\n---\n\n**Uses:**\n- `[object Object]`\n- `[object Object]`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP List Balances by External Code: /v1/organizations/{organizationId}/ledgers/{ledgerId}/accounts/external/{code}/balances =====\nconsole.log(\"âš™ï¸ Setting up Step List Balances by External Code: /v1/organizations/{organizationId}/ledgers/{ledgerId}/accounts/external/{code}/balances\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_List Balances by External Code_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step List Balances by External Code\");\n"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== STEP 45: List Balances by External Code =====\nconsole.log(\"ğŸ” Executing Step 45: List Balances by External Code\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_45_start\", Date.now());\n\npm.test(\"âœ… Status: GET request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… GET operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_45\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ]
              }
            }
          ]
        },
        {
          "name": "46. Update Balance",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/balances/{{balanceId}}",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "balances",
                "{{balanceId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                },
                {
                  "key": "balance_id",
                  "value": "{{balanceId}}",
                  "description": "Balance ID"
                }
              ]
            },
            "description": "**Workflow Step 46: Update Balance**\n\nUpdates balance metadata\n\n---\n\n**Uses:**\n- `[object Object]`\n- `[object Object]`\n- `[object Object]`\n",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"allowReceiving\": true,\n  \"allowSending\": true\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP Update Balance: /v1/organizations/{organizationId}/ledgers/{ledgerId}/balances/{balanceId} =====\nconsole.log(\"âš™ï¸ Setting up Step Update Balance: /v1/organizations/{organizationId}/ledgers/{ledgerId}/balances/{balanceId}\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_Update Balance_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step Update Balance\");\n"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== STEP 46: Update Balance =====\nconsole.log(\"ğŸ” Executing Step 46: Update Balance\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_46_start\", Date.now());\n\npm.test(\"âœ… Status: PATCH request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… PATCH operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_46\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ]
              }
            }
          ]
        },
        {
          "name": "47. List All Balances",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/balances",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "balances"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                }
              ],
              "query": [
                {
                  "key": "limit",
                  "value": "",
                  "description": "Limit",
                  "disabled": true
                },
                {
                  "key": "start_date",
                  "value": "",
                  "description": "Start Date",
                  "disabled": true
                },
                {
                  "key": "end_date",
                  "value": "",
                  "description": "End Date",
                  "disabled": true
                },
                {
                  "key": "sort_order",
                  "value": "",
                  "description": "Sort Order",
                  "disabled": true
                },
                {
                  "key": "cursor",
                  "value": "",
                  "description": "Cursor",
                  "disabled": true
                }
              ]
            },
            "description": "**Workflow Step 47: List All Balances**\n\nLists all balances in the ledger\n\n---\n\n**Uses:**\n- `[object Object]`\n- `[object Object]`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP List All Balances: /v1/organizations/{organizationId}/ledgers/{ledgerId}/balances =====\nconsole.log(\"âš™ï¸ Setting up Step List All Balances: /v1/organizations/{organizationId}/ledgers/{ledgerId}/balances\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_List All Balances_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step List All Balances\");\n"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== STEP 47: List All Balances =====\nconsole.log(\"ğŸ” Executing Step 47: List All Balances\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_47_start\", Date.now());\n\npm.test(\"âœ… Status: GET request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… GET operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_47\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});"
                ]
              }
            }
          ]
        },
        {
          "name": "48. Check Account Balance Before Zeroing",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts/alias/{{accountAlias}}/balances",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "accounts",
                "alias",
                "{{accountAlias}}",
                "balances"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                },
                {
                  "key": "alias",
                  "value": "",
                  "description": "Alias (e.g. @person1)"
                }
              ]
            },
            "description": "**Workflow Step 48: Check Account Balance Before Zeroing**\n\nGets the current balance of the account before zeroing it out\n\n---\n\n**Uses:**\n- `[object Object]`\n- `[object Object]`\n- `[object Object]`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP Check Account Balance Before Zeroing: /v1/organizations/{organizationId}/ledgers/{ledgerId}/accounts/alias/{alias}/balances =====\nconsole.log(\"âš™ï¸ Setting up Step Check Account Balance Before Zeroing: /v1/organizations/{organizationId}/ledgers/{ledgerId}/accounts/alias/{alias}/balances\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_Check Account Balance Before Zeroing_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step Check Account Balance Before Zeroing\");\n"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== STEP 48: Check Account Balance Before Zeroing =====\nconsole.log(\"ğŸ” Executing Step 48: Check Account Balance Before Zeroing\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_48_start\", Date.now());\n\npm.test(\"âœ… Status: GET request successful (200)\", function () {\n    pm.expect(pm.response.code).to.equal(200);\n    console.log(\"âœ… GET operation completed successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_48\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});\n// Extract balance information for zero-out transaction\nif (pm.response.code === 200) {\n    const responseJson = pm.response.json();\n    console.log(\"ğŸ¦ Balance response structure:\", JSON.stringify(responseJson, null, 2));\n    \n    if (responseJson.items && responseJson.items.length > 0) {\n        // Get the first balance (USD balance for the account)\n        const balance = responseJson.items[0];\n        if (balance.available !== undefined && balance.scale !== undefined) {\n            const balanceAmount = Math.abs(balance.available); // Use absolute value of available balance\n            const balanceScale = balance.scale;\n            \n            pm.environment.set(\"currentBalanceAmount\", balanceAmount);\n            pm.environment.set(\"currentBalanceScale\", balanceScale);\n            \n            console.log(\"ğŸ’° Extracted balance amount:\", balanceAmount);\n            console.log(\"ğŸ“Š Extracted balance scale:\", balanceScale);\n            console.log(\"âœ… Balance variables set for zero-out transaction\");\n        } else {\n            console.warn(\"âš ï¸ No balance amount/scale found in response\");\n            console.warn(\"âš ï¸ Balance object structure:\", JSON.stringify(balance, null, 2));\n            // Set default values to prevent failures\n            pm.environment.set(\"currentBalanceAmount\", 0);\n            pm.environment.set(\"currentBalanceScale\", 2);\n        }\n    } else {\n        console.warn(\"âš ï¸ No balance items found in response\");\n        // Set default values to prevent failures\n        pm.environment.set(\"currentBalanceAmount\", 0);\n        pm.environment.set(\"currentBalanceScale\", 2);\n    }\n}"
                ]
              }
            }
          ]
        },
        {
          "name": "49. Zero Out Balance",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              },
              {
                "key": "X-Idempotency",
                "value": "{{idempotencyKey}}",
                "description": "Unique key to prevent duplicate transactions",
                "disabled": false
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/transactions/json",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "transactions",
                "json"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                }
              ]
            },
            "description": "**Workflow Step 49: Zero Out Balance**\n\n**Description:** Creates a transaction that transfers the current balance amount from account to external/USD, completely zeroing the balance\n\n---\n\n**Uses:**\n- `[object Object]`\n- `[object Object]`\n- `[object Object]`\n- `[object Object]`\n- `[object Object]`\n",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"chartOfAccountsGroupName\": \"Example chartOfAccountsGroupName\",\n  \"code\": \"Zero Out Balance Transaction\",\n  \"description\": \"Reverse transaction to zero out the account balance using actual current balance\",\n  \"metadata\": {\n    \"purpose\": \"balance_zeroing\",\n    \"reference_step\": \"48\"\n  },\n  \"send\": {\n    \"asset\": \"USD\",\n    \"distribute\": {\n      \"to\": [\n        {\n          \"account\": \"@external/USD\",\n          \"amount\": {\n            \"asset\": \"USD\",\n            \"scale\": {{currentBalanceScale}},\n            \"value\": {{currentBalanceAmount}}\n          },\n          \"chartOfAccounts\": \"Example chartOfAccounts\",\n          \"description\": \"External account for balance zeroing\",\n          \"metadata\": {\n            \"operation_type\": \"credit\"\n          }\n        }\n      ]\n    },\n    \"source\": {\n      \"from\": [\n        {\n          \"account\": \"{{accountAlias}}\",\n          \"amount\": {\n            \"asset\": \"USD\",\n            \"scale\": {{currentBalanceScale}},\n            \"value\": {{currentBalanceAmount}}\n          },\n          \"chartOfAccounts\": \"Example chartOfAccounts\",\n          \"description\": \"Source account for balance zeroing\",\n          \"metadata\": {\n            \"operation_type\": \"debit\"\n          }\n        }\n      ]\n    },\n    \"scale\": {{currentBalanceScale}},\n    \"value\": {{currentBalanceAmount}}\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP Zero Out Balance: /v1/organizations/{organizationId}/ledgers/{ledgerId}/transactions/json =====\nconsole.log(\"âš™ï¸ Setting up Step Zero Out Balance: /v1/organizations/{organizationId}/ledgers/{ledgerId}/transactions/json\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_Zero Out Balance_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step Zero Out Balance\");\n"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== STEP 49: Zero Out Balance =====\nconsole.log(\"ğŸ” Executing Step 49: Zero Out Balance\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_49_start\", Date.now());\n\npm.test(\"âœ… Status: POST request successful (200/201)\", function () {\n    pm.expect(pm.response.code).to.be.oneOf([200, 201]);\n    if (pm.response.code === 201) {\n        console.log(\"âœ… Resource created successfully\");\n    } else {\n        console.log(\"âœ… POST operation completed successfully\");\n    }\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_49\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});\n\npm.test(\"ğŸ“‹ Structure: Response has valid JSON structure\", function() {\n    pm.response.to.be.json;\n    \n    const jsonData = pm.response.json();\n    pm.expect(jsonData).to.be.an('object');\n    \n    // Log response structure for debugging\n    console.log(\"ğŸ“‹ Response structure keys:\", Object.keys(jsonData));\n});\n\npm.test(\"ğŸ’¸ Business Logic: Transaction has required fields\", function() {\n    // Only validate if response was successful\n    if (pm.response.code !== 200 && pm.response.code !== 201) {\n        console.log(\"âš ï¸ Skipping transaction validation - response code:\", pm.response.code);\n        pm.test.skip();\n        return;\n    }\n    \n    const jsonData = pm.response.json();\n    \n    // Required fields validation\n    pm.expect(jsonData).to.have.property('id');\n    pm.expect(jsonData).to.have.property('status');\n    pm.expect(jsonData).to.have.property('createdAt');\n    pm.expect(jsonData).to.have.property('updatedAt');\n    \n    // UUID format validation\n    const uuidRegex = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\n    pm.expect(jsonData.id).to.match(uuidRegex, \"Transaction ID should be a valid UUID\");\n    \n    // ISO timestamp format validation\n    const isoTimestampRegex = /^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$/;\n    pm.expect(jsonData.createdAt).to.match(isoTimestampRegex, \"Transaction createdAt should be ISO timestamp\");\n    pm.expect(jsonData.updatedAt).to.match(isoTimestampRegex, \"Transaction updatedAt should be ISO timestamp\");\n    \n    // Determine transaction type and set appropriate variable names\n    const currentUrl = pm.request.url.toString();\n    let varPrefix = \"\";\n    \n    if (currentUrl.includes(\"/transactions/json\")) {\n        varPrefix = \"\"; // Standard transaction - use original variable names\n    } else if (currentUrl.includes(\"/transactions/dsl\")) {\n        varPrefix = \"dsl\"; // DSL transaction\n    } else if (currentUrl.includes(\"/transactions/inflow\")) {\n        varPrefix = \"inflow\"; // Inflow transaction\n    } else if (currentUrl.includes(\"/transactions/outflow\")) {\n        varPrefix = \"outflow\"; // Outflow transaction\n    }\n    \n    // Store transaction ID with appropriate prefix\n    const transactionIdVar = varPrefix ? varPrefix + \"TransactionId\" : \"transactionId\";\n    const operationIdVar = varPrefix ? varPrefix + \"OperationId\" : \"operationId\";\n    const balanceIdVar = varPrefix ? varPrefix + \"BalanceId\" : \"balanceId\";\n    \n    pm.environment.set(transactionIdVar, jsonData.id);\n    console.log(\"ğŸ’¾ Stored \" + transactionIdVar + \":\", jsonData.id);\n    \n    // Extract operation and balance IDs if available\n    if (jsonData.operations && jsonData.operations.length > 0) {\n        pm.environment.set(operationIdVar, jsonData.operations[0].id);\n        console.log(\"ğŸ’¾ Stored \" + operationIdVar + \":\", jsonData.operations[0].id);\n        \n        if (jsonData.operations[0].balanceId) {\n            pm.environment.set(balanceIdVar, jsonData.operations[0].balanceId);\n            console.log(\"ğŸ’¾ Stored \" + balanceIdVar + \":\", jsonData.operations[0].balanceId);\n        }\n    }\n    \n    console.log(\"ğŸ’¸ Transaction creation validation passed:\", jsonData.id);\n    console.log(\"âœ… Required fields verified, UUID and timestamp validation completed\");\n});"
                ]
              }
            }
          ]
        },
        {
          "name": "50. Delete Balance",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/balances/{{balanceId}}",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "balances",
                "{{balanceId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                },
                {
                  "key": "balance_id",
                  "value": "{{balanceId}}",
                  "description": "Balance ID"
                }
              ]
            },
            "description": "**Workflow Step 50: Delete Balance**\n\nDeletes a balance\n\n---\n\n**Uses:**\n- `[object Object]`\n- `[object Object]`\n- `[object Object]`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP Delete Balance: /v1/organizations/{organizationId}/ledgers/{ledgerId}/balances/{balanceId} =====\nconsole.log(\"âš™ï¸ Setting up Step Delete Balance: /v1/organizations/{organizationId}/ledgers/{ledgerId}/balances/{balanceId}\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_Delete Balance_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step Delete Balance\");\n"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== STEP 50: Delete Balance =====\nconsole.log(\"ğŸ” Executing Step 50: Delete Balance\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_50_start\", Date.now());\n\npm.test(\"âœ… Status: DELETE request successful (204)\", function () {\n    pm.expect(pm.response.code).to.equal(204);\n    console.log(\"âœ… Resource deleted successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_50\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});"
                ]
              }
            }
          ]
        },
        {
          "name": "51. Delete Segment",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/segments/{{segmentId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "segments",
                "{{segmentId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{segmentId}}",
                  "description": "Segment ID in UUID format"
                }
              ]
            },
            "description": "**Workflow Step 51: Delete Segment**\n\nDeletes a segment\n\n---\n\n**Uses:**\n- `[object Object]`\n- `[object Object]`\n- `[object Object]`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP Delete Segment: /v1/organizations/{organizationId}/ledgers/{ledgerId}/segments/{segmentId} =====\nconsole.log(\"âš™ï¸ Setting up Step Delete Segment: /v1/organizations/{organizationId}/ledgers/{ledgerId}/segments/{segmentId}\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_Delete Segment_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step Delete Segment\");\n"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== STEP 51: Delete Segment =====\nconsole.log(\"ğŸ” Executing Step 51: Delete Segment\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_51_start\", Date.now());\n\npm.test(\"âœ… Status: DELETE request successful (204)\", function () {\n    pm.expect(pm.response.code).to.equal(204);\n    console.log(\"âœ… Resource deleted successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_51\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});"
                ]
              }
            }
          ]
        },
        {
          "name": "52. Delete Portfolio",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/portfolios/{{portfolioId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "portfolios",
                "{{portfolioId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{portfolioId}}",
                  "description": "Portfolio ID in UUID format"
                }
              ]
            },
            "description": "**Workflow Step 52: Delete Portfolio**\n\nDeletes a portfolio\n\n---\n\n**Uses:**\n- `[object Object]`\n- `[object Object]`\n- `[object Object]`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP Delete Portfolio: /v1/organizations/{organizationId}/ledgers/{ledgerId}/portfolios/{portfolioId} =====\nconsole.log(\"âš™ï¸ Setting up Step Delete Portfolio: /v1/organizations/{organizationId}/ledgers/{ledgerId}/portfolios/{portfolioId}\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_Delete Portfolio_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step Delete Portfolio\");\n"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== STEP 52: Delete Portfolio =====\nconsole.log(\"ğŸ” Executing Step 52: Delete Portfolio\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_52_start\", Date.now());\n\npm.test(\"âœ… Status: DELETE request successful (204)\", function () {\n    pm.expect(pm.response.code).to.equal(204);\n    console.log(\"âœ… Resource deleted successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_52\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});"
                ]
              }
            }
          ]
        },
        {
          "name": "53. Delete Account",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts/{{accountId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "accounts",
                "{{accountId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{accountId}}",
                  "description": "Account ID in UUID format"
                }
              ]
            },
            "description": "**Workflow Step 53: Delete Account**\n\nDeletes an account\n\n---\n\n**Uses:**\n- `[object Object]`\n- `[object Object]`\n- `[object Object]`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP Delete Account: /v1/organizations/{organizationId}/ledgers/{ledgerId}/accounts/{accountId} =====\nconsole.log(\"âš™ï¸ Setting up Step Delete Account: /v1/organizations/{organizationId}/ledgers/{ledgerId}/accounts/{accountId}\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_Delete Account_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step Delete Account\");\n"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== STEP 53: Delete Account =====\nconsole.log(\"ğŸ” Executing Step 53: Delete Account\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_53_start\", Date.now());\n\npm.test(\"âœ… Status: DELETE request successful (204)\", function () {\n    pm.expect(pm.response.code).to.equal(204);\n    console.log(\"âœ… Resource deleted successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_53\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});"
                ]
              }
            }
          ]
        },
        {
          "name": "54. Delete Asset",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/assets/{{assetId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "assets",
                "{{assetId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{assetId}}",
                  "description": "Asset ID in UUID format"
                }
              ]
            },
            "description": "**Workflow Step 54: Delete Asset**\n\nDeletes an asset\n\n---\n\n**Uses:**\n- `[object Object]`\n- `[object Object]`\n- `[object Object]`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP Delete Asset: /v1/organizations/{organizationId}/ledgers/{ledgerId}/assets/{assetId} =====\nconsole.log(\"âš™ï¸ Setting up Step Delete Asset: /v1/organizations/{organizationId}/ledgers/{ledgerId}/assets/{assetId}\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_Delete Asset_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step Delete Asset\");\n"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== STEP 54: Delete Asset =====\nconsole.log(\"ğŸ” Executing Step 54: Delete Asset\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_54_start\", Date.now());\n\npm.test(\"âœ… Status: DELETE request successful (204)\", function () {\n    pm.expect(pm.response.code).to.equal(204);\n    console.log(\"âœ… Resource deleted successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_54\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});"
                ]
              }
            }
          ]
        },
        {
          "name": "55. Delete Ledger",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ]
            },
            "description": "**Workflow Step 55: Delete Ledger**\n\nDeletes a ledger\n\n---\n\n**Uses:**\n- `[object Object]`\n- `[object Object]`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP Delete Ledger: /v1/organizations/{organizationId}/ledgers/{ledgerId} =====\nconsole.log(\"âš™ï¸ Setting up Step Delete Ledger: /v1/organizations/{organizationId}/ledgers/{ledgerId}\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_Delete Ledger_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step Delete Ledger\");\n"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== STEP 55: Delete Ledger =====\nconsole.log(\"ğŸ” Executing Step 55: Delete Ledger\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_55_start\", Date.now());\n\npm.test(\"âœ… Status: DELETE request successful (204)\", function () {\n    pm.expect(pm.response.code).to.equal(204);\n    console.log(\"âœ… Resource deleted successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_55\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});"
                ]
              }
            }
          ]
        },
        {
          "name": "56. Delete Organization",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                }
              ]
            },
            "description": "**Workflow Step 56: Delete Organization**\n\n**Environment Variables**: Can be automated in Postman by using environment variables to store and pass the IDs between requests.\n\n---\n\n**Uses:**\n- `[object Object]`\n"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== PRE-REQUEST STEP Delete Organization: /v1/organizations/{organizationId} =====\nconsole.log(\"âš™ï¸ Setting up Step Delete Organization: /v1/organizations/{organizationId}\");\n\n// Set step start timestamp for performance tracking\npm.globals.set(\"step_Delete Organization_start\", Date.now());\n\n// Generate unique idempotency key for each POST/PUT request\nif (pm.request.method === 'POST' || pm.request.method === 'PUT') {\n    // Always generate a new unique idempotency key for each transaction\n    const newIdempotencyKey = pm.variables.replaceIn('{{$guid}}');\n    pm.environment.set('idempotencyKey', newIdempotencyKey);\n    console.log('ğŸ”‘ Generated new idempotency key:', newIdempotencyKey);\n}\n\n// Check for required variables based on operation type\nconst requestUrl = pm.request.url.toString();\nconst method = pm.request.method;\n\n// Base required variables\nconst requiredVars = ['organizationId', 'ledgerId'];\n\n// Add specific variables based on the operation\nif (requestUrl.includes('/transactions/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{transactionId}}') || requestUrl.includes('{transaction_id}')) {\n        requiredVars.push('transactionId');\n    }\n}\n\nif (requestUrl.includes('/operations/') && (method === 'PATCH' || method === 'GET')) {\n    if (requestUrl.includes('{{operationId}}') || requestUrl.includes('{operation_id}')) {\n        requiredVars.push('operationId');\n    }\n}\n\nif (requestUrl.includes('/balances/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{balanceId}}') || requestUrl.includes('{balance_id}')) {\n        requiredVars.push('balanceId');\n    }\n}\n\nif (requestUrl.includes('/accounts/') && (method === 'PATCH' || method === 'DELETE' || method === 'GET')) {\n    if (requestUrl.includes('{{accountId}}') || requestUrl.includes('{account_id}')) {\n        requiredVars.push('accountId');\n    }\n}\n\n// Check all required variables\nlet hasAllRequiredVars = true;\nrequiredVars.forEach(varName => {\n    const value = pm.environment.get(varName);\n    if (!value || value === '') {\n        console.error(\"âŒ CRITICAL: Required environment variable '\" + varName + \"' is not set for \" + method + \" operation\");\n        hasAllRequiredVars = false;\n    } else {\n        console.log(\"âœ… \" + varName + \": \" + value);\n    }\n});\n\nif (!hasAllRequiredVars) {\n    console.error(\"âŒ Missing required variables - this request will likely fail with 404/405 error\");\n    console.log(\"ğŸ’¡ Suggestion: Ensure previous steps completed successfully and extracted required IDs\");\n}\n\nconsole.log(\"âœ… Pre-request setup completed for Step Delete Organization\");\n"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "\n// ===== STEP 56: Delete Organization =====\nconsole.log(\"ğŸ” Executing Step 56: Delete Organization\");\n\n// Record start time for performance tracking\npm.globals.set(\"step_56_start\", Date.now());\n\npm.test(\"âœ… Status: DELETE request successful (204)\", function () {\n    pm.expect(pm.response.code).to.equal(204);\n    console.log(\"âœ… Resource deleted successfully\");\n});\n\npm.test(\"âš¡ Performance: Response time acceptable\", function () {\n    const responseTime = pm.response.responseTime;\n    const maxTime = pm.environment.get(\"max_response_time\") || 5000;\n    \n    pm.expect(responseTime).to.be.below(maxTime);\n    console.log(\"âš¡ Response time: \" + responseTime + \"ms (max: \" + maxTime + \"ms)\");\n    \n    // Track performance for regression detection\n    const perfKey = \"perf_step_56\";\n    const previousTime = pm.environment.get(perfKey);\n    pm.environment.set(perfKey, responseTime);\n    \n    if (previousTime) {\n        const increase = ((responseTime - previousTime) / previousTime) * 100;\n        if (increase > 50) {\n            console.warn(\"âš ï¸ Performance regression: \" + increase.toFixed(1) + \"% slower than previous run\");\n        }\n    }\n});"
                ]
              }
            }
          ]
        },
        {
          "name": "Workflow Summary & Report",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{onboardingUrl}}/health",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "health"
              ]
            },
            "description": "Final step that generates comprehensive test summary for CI reporting"
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "9c0d666a-4918-414c-a7da-d47ad7154810",
                "exec": [
                  "\n// ===== WORKFLOW SUMMARY =====\nconsole.log(\"ğŸ“Š Workflow Execution Summary\");\nconsole.log(\"Total Steps: undefined\");\n\n// Calculate total execution time\nconst startTime = pm.globals.get(\"workflow_start_time\");\nif (startTime) {\n    const totalTime = Date.now() - startTime;\n    console.log(\"â±ï¸ Total Execution Time: \" + totalTime + \"ms\");\n    pm.globals.set(\"workflow_total_time\", totalTime);\n}\n\n// Summary of step performance\nconsole.log(\"ğŸ“ˆ Performance Summary:\");\nfor (let i = 1; i <= undefined; i++) {\n    const stepTime = pm.environment.get(\"perf_step_\" + i);\n    if (stepTime) {\n        console.log(\"  Step \" + i + \": \" + stepTime + \"ms\");\n    }\n}\n\nconsole.log(\"âœ… Workflow completed successfully\");\n"
                ],
                "type": "text/javascript"
              }
            }
          ]
        }
      ],
      "_postman_id": "c7f7c664-7226-463c-aff2-75a836bc7765",
      "event": []
    },
    {
      "name": "Organizations",
      "description": "Endpoints for managing organizations, which are the top-level entities in the MIDAZ system.",
      "item": [
        {
          "name": "List all organizations",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations"
              ],
              "query": [
                {
                  "key": "metadata",
                  "value": "",
                  "description": "JSON string to filter organizations by metadata fields",
                  "disabled": true
                },
                {
                  "key": "limit",
                  "value": "",
                  "description": "Maximum number of records to return per page",
                  "disabled": true
                },
                {
                  "key": "page",
                  "value": "",
                  "description": "Page number for pagination",
                  "disabled": true
                },
                {
                  "key": "start_date",
                  "value": "",
                  "description": "Filter organizations created on or after this date (format: YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "end_date",
                  "value": "",
                  "description": "Filter organizations created on or before this date (format: YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "sort_order",
                  "value": "",
                  "description": "Sort direction for results based on creation date",
                  "disabled": true
                }
              ]
            },
            "description": "Returns a paginated list of organizations, optionally filtered by metadata, date range, and other criteria"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Create a new organization",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations"
              ]
            },
            "description": "Creates a new organization with the provided details including legal name, legal document, and optional address information",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"address\": {\n    \"city\": \"New York\",\n    \"country\": \"US\",\n    \"line1\": \"123 Financial Avenue\",\n    \"line2\": \"Suite 1500\",\n    \"state\": \"NY\",\n    \"zipCode\": \"10001\"\n  },\n  \"doingBusinessAs\": \"Lerian FS\",\n  \"legalDocument\": \"123456789012345\",\n  \"legalName\": \"Lerian Financial Services Ltd.\",\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"parentOrganizationId\": null,\n  \"status\": {\n    \"code\": \"ACTIVE\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  "",
                  "// Extract variables from response for use in subsequent requests",
                  "",
                  "try {",
                  "  var jsonData = pm.response.json();",
                  "  if (jsonData && jsonData.id) {",
                  "    pm.environment.set(\"organizationId\", jsonData.id);",
                  "    console.log(\"organizationId set to: \" + jsonData.id);",
                  "  }",
                  "} catch (error) {",
                  "  console.error(\"Failed to extract organizationId: \", error);",
                  "}"
                ]
              }
            }
          ]
        },
        {
          "name": "Count total organizations",
          "request": {
            "method": "HEAD",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/metrics/count",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "metrics",
                "count"
              ]
            },
            "description": "Returns the total count of organizations as a header without a response body"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  // HEAD responses have no body, skip JSON validation",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Retrieve a specific organization",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                }
              ]
            },
            "description": "Returns detailed information about an organization identified by its UUID"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  "",
                  "// Validate required variables",
                  "",
                  "if (!pm.environment.get(\"organizationId\")) {",
                  "  console.log(\"Warning: organizationId is not set. This request may fail.\");",
                  "}"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Delete an organization",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                }
              ]
            },
            "description": "Permanently removes an organization identified by its UUID. Note: This operation is not available in production environments."
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Update an existing organization",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                }
              ]
            },
            "description": "Updates an organization's information such as legal name, address, or status. Only supplied fields will be updated.",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"address\": {\n    \"city\": \"New York\",\n    \"country\": \"US\",\n    \"line1\": \"123 Financial Avenue\",\n    \"line2\": \"Suite 1500\",\n    \"state\": \"NY\",\n    \"zipCode\": \"10001\"\n  },\n  \"doingBusinessAs\": \"Lerian Group\",\n  \"legalName\": \"Lerian Financial Group Ltd.\",\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"parentOrganizationId\": null,\n  \"status\": {\n    \"code\": \"ACTIVE\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        }
      ]
    },
    {
      "name": "Ledgers",
      "description": "Endpoints for managing ledgers, which are financial record-keeping systems for tracking assets, accounts, and transactions within an organization.",
      "item": [
        {
          "name": "List all ledgers",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                }
              ],
              "query": [
                {
                  "key": "metadata",
                  "value": "",
                  "description": "JSON string to filter ledgers by metadata fields",
                  "disabled": true
                },
                {
                  "key": "limit",
                  "value": "",
                  "description": "Maximum number of records to return per page",
                  "disabled": true
                },
                {
                  "key": "page",
                  "value": "",
                  "description": "Page number for pagination",
                  "disabled": true
                },
                {
                  "key": "start_date",
                  "value": "",
                  "description": "Filter ledgers created on or after this date (format: YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "end_date",
                  "value": "",
                  "description": "Filter ledgers created on or before this date (format: YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "sort_order",
                  "value": "",
                  "description": "Sort direction for results based on creation date",
                  "disabled": true
                }
              ]
            },
            "description": "Returns a paginated list of ledgers within the specified organization, optionally filtered by metadata, date range, and other criteria"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Create a new ledger",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                }
              ]
            },
            "description": "Creates a new ledger within the specified organization. A ledger is a financial record-keeping system for tracking assets, accounts, and transactions.",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"name\": \"Example name\",\n  \"status\": {\n    \"code\": \"ACTIVE\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  "",
                  "// Validate required variables",
                  "",
                  "if (!pm.environment.get(\"organizationId\")) {",
                  "  console.log(\"Warning: organizationId is not set. This request may fail.\");",
                  "}"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  "",
                  "// Extract variables from response for use in subsequent requests",
                  "",
                  "try {",
                  "  var jsonData = pm.response.json();",
                  "  if (jsonData && jsonData.id) {",
                  "    pm.environment.set(\"ledgerId\", jsonData.id);",
                  "    console.log(\"ledgerId set to: \" + jsonData.id);",
                  "  }",
                  "} catch (error) {",
                  "  console.error(\"Failed to extract ledgerId: \", error);",
                  "}"
                ]
              }
            }
          ]
        },
        {
          "name": "Count total ledgers",
          "request": {
            "method": "HEAD",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/metrics/count",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "metrics",
                "count"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                }
              ]
            },
            "description": "Returns the total count of ledgers for a specific organization as a header without a response body"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  // HEAD responses have no body, skip JSON validation",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Retrieve a specific ledger",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ]
            },
            "description": "Returns detailed information about a ledger identified by its UUID within the specified organization"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  "",
                  "// Validate required variables",
                  "",
                  "if (!pm.environment.get(\"organizationId\")) {",
                  "  console.log(\"Warning: organizationId is not set. This request may fail.\");",
                  "}",
                  "if (!pm.environment.get(\"ledgerId\")) {",
                  "  console.log(\"Warning: ledgerId is not set. This request may fail.\");",
                  "}"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Delete a ledger",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ]
            },
            "description": "Permanently removes a ledger identified by its UUID. Note: This operation is not available in production environments."
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Update an existing ledger",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ]
            },
            "description": "Updates a ledger's information such as name, status, or metadata. Only supplied fields will be updated.",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"name\": \"Treasury Operations Global\",\n  \"status\": {\n    \"code\": \"ACTIVE\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        }
      ]
    },
    {
      "name": "Accounts",
      "description": "Endpoints for managing accounts, which represent individual financial entities like bank accounts, credit cards, or expense categories within a ledger.",
      "item": [
        {
          "name": "List all accounts",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "accounts"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ],
              "query": [
                {
                  "key": "metadata",
                  "value": "",
                  "description": "JSON string to filter accounts by metadata fields",
                  "disabled": true
                },
                {
                  "key": "limit",
                  "value": "",
                  "description": "Maximum number of records to return per page",
                  "disabled": true
                },
                {
                  "key": "page",
                  "value": "",
                  "description": "Page number for pagination",
                  "disabled": true
                },
                {
                  "key": "start_date",
                  "value": "",
                  "description": "Filter accounts created on or after this date (format: YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "end_date",
                  "value": "",
                  "description": "Filter accounts created on or before this date (format: YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "sort_order",
                  "value": "",
                  "description": "Sort direction for results based on creation date",
                  "disabled": true
                }
              ]
            },
            "description": "Returns a paginated list of accounts within the specified ledger, optionally filtered by metadata, date range, and other criteria"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Create a new account",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "accounts"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ]
            },
            "description": "Creates a new account within the specified ledger. Accounts represent individual financial entities like bank accounts, credit cards, or expense categories.",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"alias\": \"@treasury_checking\",\n  \"assetCode\": \"USD\",\n  \"entityId\": \"EXT-ACC-12345\",\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"name\": \"Corporate Checking Account\",\n  \"parentAccountId\": null,\n  \"portfolioId\": null,\n  \"segmentId\": null,\n  \"status\": {\n    \"code\": \"ACTIVE\"\n  },\n  \"type\": \"deposit\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  "",
                  "// Validate required variables",
                  "",
                  "if (!pm.environment.get(\"organizationId\")) {",
                  "  console.log(\"Warning: organizationId is not set. This request may fail.\");",
                  "}",
                  "if (!pm.environment.get(\"ledgerId\")) {",
                  "  console.log(\"Warning: ledgerId is not set. This request may fail.\");",
                  "}"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  "",
                  "// Extract variables from response for use in subsequent requests",
                  "",
                  "try {",
                  "  var jsonData = pm.response.json();",
                  "  if (jsonData && jsonData.id) {",
                  "    pm.environment.set(\"accountId\", jsonData.id);",
                  "    console.log(\"accountId set to: \" + jsonData.id);",
                  "  }",
                  "} catch (error) {",
                  "  console.error(\"Failed to extract accountId: \", error);",
                  "}",
                  "try {",
                  "  var jsonData = pm.response.json();",
                  "  if (jsonData && jsonData.alias) {",
                  "    pm.environment.set(\"accountAlias\", jsonData.alias);",
                  "    console.log(\"accountAlias set to: \" + jsonData.alias);",
                  "  }",
                  "} catch (error) {",
                  "  console.error(\"Failed to extract accountAlias: \", error);",
                  "}"
                ]
              }
            }
          ]
        },
        {
          "name": "Retrieve an account by alias",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts/alias/{{accountAlias}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "accounts",
                "alias",
                "{{accountAlias}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "alias",
                  "value": "",
                  "description": "Account alias (e.g. @person1)"
                }
              ]
            },
            "description": "Returns detailed information about an account identified by its alias within the specified ledger"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 404]); // 404 acceptable if resource not found",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  if (pm.response.code === 200) { pm.response.to.be.json; } // Only validate JSON for successful responses",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Retrieve an account by alias",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts/external/{{externalCode}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "accounts",
                "external",
                "{{externalCode}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "code",
                  "value": "",
                  "description": "Account External Code (e.g. BRL)"
                }
              ]
            },
            "description": "Returns detailed information about an account identified by its alias within the specified ledger"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 404]); // 404 acceptable if resource not found",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  if (pm.response.code === 200) { pm.response.to.be.json; } // Only validate JSON for successful responses",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Count accounts",
          "request": {
            "method": "HEAD",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts/metrics/count",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "accounts",
                "metrics",
                "count"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ]
            },
            "description": "Returns the total count of accounts for the specified organization, ledger, and optional portfolio"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  // HEAD responses have no body, skip JSON validation",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Retrieve a specific account",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts/{{accountId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "accounts",
                "{{accountId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{accountId}}",
                  "description": "Account ID in UUID format"
                }
              ]
            },
            "description": "Returns detailed information about an account identified by its UUID within the specified ledger"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  "",
                  "// Validate required variables",
                  "",
                  "if (!pm.environment.get(\"organizationId\")) {",
                  "  console.log(\"Warning: organizationId is not set. This request may fail.\");",
                  "}",
                  "if (!pm.environment.get(\"ledgerId\")) {",
                  "  console.log(\"Warning: ledgerId is not set. This request may fail.\");",
                  "}",
                  "if (!pm.environment.get(\"accountId\")) {",
                  "  console.log(\"Warning: accountId is not set. This request may fail.\");",
                  "}"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Delete an account",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts/{{accountId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "accounts",
                "{{accountId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{accountId}}",
                  "description": "Account ID in UUID format"
                }
              ]
            },
            "description": "Permanently removes an account from the specified ledger. This operation cannot be undone."
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Update an account",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts/{{accountId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "accounts",
                "{{accountId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{accountId}}",
                  "description": "Account ID in UUID format"
                }
              ]
            },
            "description": "Updates an existing account's properties such as name, status, portfolio, segment, and metadata within the specified ledger",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"entityId\": \"EXT-ACC-12345\",\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"name\": \"Primary Corporate Checking Account\",\n  \"portfolioId\": null,\n  \"segmentId\": null,\n  \"status\": {\n    \"code\": \"ACTIVE\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        }
      ]
    },
    {
      "name": "Assets",
      "description": "Endpoints for managing assets, which represent the types of value that can be transferred between accounts.",
      "item": [
        {
          "name": "List all assets",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/assets",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "assets"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ],
              "query": [
                {
                  "key": "metadata",
                  "value": "",
                  "description": "JSON string to filter assets by metadata fields",
                  "disabled": true
                },
                {
                  "key": "limit",
                  "value": "",
                  "description": "Maximum number of records to return per page",
                  "disabled": true
                },
                {
                  "key": "page",
                  "value": "",
                  "description": "Page number for pagination",
                  "disabled": true
                },
                {
                  "key": "start_date",
                  "value": "",
                  "description": "Filter assets created on or after this date (format: YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "end_date",
                  "value": "",
                  "description": "Filter assets created on or before this date (format: YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "sort_order",
                  "value": "",
                  "description": "Sort direction for results based on creation date",
                  "disabled": true
                }
              ]
            },
            "description": "Returns a paginated list of assets within the specified ledger, optionally filtered by metadata, date range, and other criteria"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Create a new asset",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/assets",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "assets"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ]
            },
            "description": "Creates a new asset within the specified ledger. Assets represent currencies, cryptocurrencies, commodities, or other financial instruments tracked in the ledger.",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"code\": \"USD\",\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"name\": \"US Dollar\",\n  \"status\": {\n    \"code\": \"ACTIVE\"\n  },\n  \"type\": \"currency\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  "",
                  "// Validate required variables",
                  "",
                  "if (!pm.environment.get(\"organizationId\")) {",
                  "  console.log(\"Warning: organizationId is not set. This request may fail.\");",
                  "}",
                  "if (!pm.environment.get(\"ledgerId\")) {",
                  "  console.log(\"Warning: ledgerId is not set. This request may fail.\");",
                  "}"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  "",
                  "// Extract variables from response for use in subsequent requests",
                  "",
                  "try {",
                  "  var jsonData = pm.response.json();",
                  "  if (jsonData && jsonData.id) {",
                  "    pm.environment.set(\"assetId\", jsonData.id);",
                  "    console.log(\"assetId set to: \" + jsonData.id);",
                  "  }",
                  "} catch (error) {",
                  "  console.error(\"Failed to extract assetId: \", error);",
                  "}"
                ]
              }
            }
          ]
        },
        {
          "name": "Count total assets",
          "request": {
            "method": "HEAD",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/assets/metrics/count",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "assets",
                "metrics",
                "count"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ]
            },
            "description": "Returns the total count of assets for a specific ledger in an organization as a header without a response body"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  // HEAD responses have no body, skip JSON validation",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Retrieve a specific asset",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/assets/{{assetId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "assets",
                "{{assetId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{assetId}}",
                  "description": "Asset ID in UUID format"
                }
              ]
            },
            "description": "Returns detailed information about an asset identified by its UUID within the specified ledger"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  "",
                  "// Validate required variables",
                  "",
                  "if (!pm.environment.get(\"organizationId\")) {",
                  "  console.log(\"Warning: organizationId is not set. This request may fail.\");",
                  "}",
                  "if (!pm.environment.get(\"ledgerId\")) {",
                  "  console.log(\"Warning: ledgerId is not set. This request may fail.\");",
                  "}",
                  "if (!pm.environment.get(\"assetId\")) {",
                  "  console.log(\"Warning: assetId is not set. This request may fail.\");",
                  "}"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Delete an asset",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/assets/{{assetId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "assets",
                "{{assetId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{assetId}}",
                  "description": "Asset ID in UUID format"
                }
              ]
            },
            "description": "Permanently removes an asset from the specified ledger. This operation cannot be undone."
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Update an asset",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/assets/{{assetId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "assets",
                "{{assetId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{assetId}}",
                  "description": "Asset ID in UUID format"
                }
              ]
            },
            "description": "Updates an existing asset's properties such as name, status, and metadata within the specified ledger",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"name\": \"Bitcoin\",\n  \"status\": {\n    \"code\": \"ACTIVE\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        }
      ]
    },
    {
      "name": "Portfolios",
      "description": "Endpoints for managing portfolios, which are collections of accounts grouped for reporting or management purposes.",
      "item": [
        {
          "name": "List all portfolios",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/portfolios",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "portfolios"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ],
              "query": [
                {
                  "key": "metadata",
                  "value": "",
                  "description": "JSON string to filter portfolios by metadata fields",
                  "disabled": true
                },
                {
                  "key": "limit",
                  "value": "",
                  "description": "Maximum number of records to return per page",
                  "disabled": true
                },
                {
                  "key": "page",
                  "value": "",
                  "description": "Page number for pagination",
                  "disabled": true
                },
                {
                  "key": "start_date",
                  "value": "",
                  "description": "Filter portfolios created on or after this date (format: YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "end_date",
                  "value": "",
                  "description": "Filter portfolios created on or before this date (format: YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "sort_order",
                  "value": "",
                  "description": "Sort direction for results based on creation date",
                  "disabled": true
                }
              ]
            },
            "description": "Returns a paginated list of portfolios within the specified ledger, optionally filtered by metadata, date range, and other criteria"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Create a new portfolio",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/portfolios",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "portfolios"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ]
            },
            "description": "Creates a new portfolio within the specified ledger. Portfolios represent collections of accounts grouped for specific purposes such as business units, departments, or client portfolios.",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"entityId\": \"00000000-0000-0000-0000-000000000000\",\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"name\": \"My Portfolio\",\n  \"status\": {\n    \"code\": \"ACTIVE\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  "",
                  "// Validate required variables",
                  "",
                  "if (!pm.environment.get(\"organizationId\")) {",
                  "  console.log(\"Warning: organizationId is not set. This request may fail.\");",
                  "}",
                  "if (!pm.environment.get(\"ledgerId\")) {",
                  "  console.log(\"Warning: ledgerId is not set. This request may fail.\");",
                  "}"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  "",
                  "// Extract variables from response for use in subsequent requests",
                  "",
                  "try {",
                  "  var jsonData = pm.response.json();",
                  "  if (jsonData && jsonData.id) {",
                  "    pm.environment.set(\"portfolioId\", jsonData.id);",
                  "    console.log(\"portfolioId set to: \" + jsonData.id);",
                  "  }",
                  "} catch (error) {",
                  "  console.error(\"Failed to extract portfolioId: \", error);",
                  "}"
                ]
              }
            }
          ]
        },
        {
          "name": "Count total portfolios",
          "request": {
            "method": "HEAD",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/portfolios/metrics/count",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "portfolios",
                "metrics",
                "count"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ]
            },
            "description": "Returns the total count of portfolios for a specific organization and ledger as a header without a response body"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  // HEAD responses have no body, skip JSON validation",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Retrieve a specific portfolio",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/portfolios/{{portfolioId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "portfolios",
                "{{portfolioId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{portfolioId}}",
                  "description": "Portfolio ID in UUID format"
                }
              ]
            },
            "description": "Returns detailed information about a portfolio identified by its UUID within the specified ledger"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  "",
                  "// Validate required variables",
                  "",
                  "if (!pm.environment.get(\"organizationId\")) {",
                  "  console.log(\"Warning: organizationId is not set. This request may fail.\");",
                  "}",
                  "if (!pm.environment.get(\"ledgerId\")) {",
                  "  console.log(\"Warning: ledgerId is not set. This request may fail.\");",
                  "}",
                  "if (!pm.environment.get(\"portfolioId\")) {",
                  "  console.log(\"Warning: portfolioId is not set. This request may fail.\");",
                  "}"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Delete a portfolio",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/portfolios/{{portfolioId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "portfolios",
                "{{portfolioId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{portfolioId}}",
                  "description": "Portfolio ID in UUID format"
                }
              ]
            },
            "description": "Permanently removes a portfolio from the specified ledger. This operation cannot be undone."
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Update a portfolio",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/portfolios/{{portfolioId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "portfolios",
                "{{portfolioId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{portfolioId}}",
                  "description": "Portfolio ID in UUID format"
                }
              ]
            },
            "description": "Updates an existing portfolio's properties such as name, entity ID, status, and metadata within the specified ledger",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"entityId\": \"00000000-0000-0000-0000-000000000000\",\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"name\": \"My Portfolio Updated\",\n  \"status\": {\n    \"code\": \"ACTIVE\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        }
      ]
    },
    {
      "name": "Segments",
      "description": "Endpoints for managing segments, which are used to categorize accounts for reporting or management purposes.",
      "item": [
        {
          "name": "List all segments",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/segments",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "segments"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ],
              "query": [
                {
                  "key": "metadata",
                  "value": "",
                  "description": "JSON string to filter segments by metadata fields",
                  "disabled": true
                },
                {
                  "key": "limit",
                  "value": "",
                  "description": "Maximum number of records to return per page",
                  "disabled": true
                },
                {
                  "key": "page",
                  "value": "",
                  "description": "Page number for pagination",
                  "disabled": true
                },
                {
                  "key": "start_date",
                  "value": "",
                  "description": "Filter segments created on or after this date (format: YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "end_date",
                  "value": "",
                  "description": "Filter segments created on or before this date (format: YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "sort_order",
                  "value": "",
                  "description": "Sort direction for results based on creation date",
                  "disabled": true
                }
              ]
            },
            "description": "Returns a paginated list of segments within the specified ledger, optionally filtered by metadata, date range, and other criteria"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Create a new segment",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/segments",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "segments"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ]
            },
            "description": "Creates a new segment within the specified ledger. Segments represent logical divisions within a ledger, such as business areas, product lines, or customer categories.",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"name\": \"My Segment\",\n  \"status\": {\n    \"code\": \"ACTIVE\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  "",
                  "// Validate required variables",
                  "",
                  "if (!pm.environment.get(\"organizationId\")) {",
                  "  console.log(\"Warning: organizationId is not set. This request may fail.\");",
                  "}",
                  "if (!pm.environment.get(\"ledgerId\")) {",
                  "  console.log(\"Warning: ledgerId is not set. This request may fail.\");",
                  "}"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  "",
                  "// Extract variables from response for use in subsequent requests",
                  "",
                  "try {",
                  "  var jsonData = pm.response.json();",
                  "  if (jsonData && jsonData.id) {",
                  "    pm.environment.set(\"segmentId\", jsonData.id);",
                  "    console.log(\"segmentId set to: \" + jsonData.id);",
                  "  }",
                  "} catch (error) {",
                  "  console.error(\"Failed to extract segmentId: \", error);",
                  "}"
                ]
              }
            }
          ]
        },
        {
          "name": "Count segments",
          "request": {
            "method": "HEAD",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/segments/metrics/count",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "segments",
                "metrics",
                "count"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                }
              ]
            },
            "description": "Returns the total count of segments for the specified organization and ledger"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  // HEAD responses have no body, skip JSON validation",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Retrieve a specific segment",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/segments/{{segmentId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "segments",
                "{{segmentId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{segmentId}}",
                  "description": "Segment ID in UUID format"
                }
              ]
            },
            "description": "Returns detailed information about a segment identified by its UUID within the specified ledger"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  "",
                  "// Validate required variables",
                  "",
                  "if (!pm.environment.get(\"organizationId\")) {",
                  "  console.log(\"Warning: organizationId is not set. This request may fail.\");",
                  "}",
                  "if (!pm.environment.get(\"ledgerId\")) {",
                  "  console.log(\"Warning: ledgerId is not set. This request may fail.\");",
                  "}",
                  "if (!pm.environment.get(\"segmentId\")) {",
                  "  console.log(\"Warning: segmentId is not set. This request may fail.\");",
                  "}"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Delete a segment",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/segments/{{segmentId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "segments",
                "{{segmentId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{segmentId}}",
                  "description": "Segment ID in UUID format"
                }
              ]
            },
            "description": "Permanently removes a segment from the specified ledger. This operation cannot be undone."
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Update a segment",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token with format: Bearer {token}",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID for tracing",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{onboardingUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/segments/{{segmentId}}",
              "host": [
                "{{onboardingUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "segments",
                "{{segmentId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID in UUID format"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID in UUID format"
                },
                {
                  "key": "id",
                  "value": "{{segmentId}}",
                  "description": "Segment ID in UUID format"
                }
              ]
            },
            "description": "Updates an existing segment's properties such as name, status, and metadata within the specified ledger",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"name\": \"My Segment Updated\",\n  \"status\": {\n    \"code\": \"ACTIVE\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        }
      ]
    },
    {
      "name": "Balances",
      "description": "Endpoints for retrieving account balances, which represent the current value of an account.",
      "item": [
        {
          "name": "Get Balances using Alias",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts/alias/{{accountAlias}}/balances",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "accounts",
                "alias",
                "{{accountAlias}}",
                "balances"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                },
                {
                  "key": "alias",
                  "value": "",
                  "description": "Alias (e.g. @person1)"
                }
              ]
            },
            "description": "Get Balances with alias"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 404]); // 404 acceptable if resource not found",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  if (pm.response.code === 200) { pm.response.to.be.json; } // Only validate JSON for successful responses",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Get External balances using code",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts/external/{{externalCode}}/balances",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "accounts",
                "external",
                "{{externalCode}}",
                "balances"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                },
                {
                  "key": "code",
                  "value": "",
                  "description": "Code (e.g. BRL)"
                }
              ]
            },
            "description": "Get External balances with code"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 404]); // 404 acceptable if resource not found",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  if (pm.response.code === 200) { pm.response.to.be.json; } // Only validate JSON for successful responses",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Get all balances by account id",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts/{{accountId}}/balances",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "accounts",
                "{{accountId}}",
                "balances"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                },
                {
                  "key": "account_id",
                  "value": "{{accountId}}",
                  "description": "Account ID"
                }
              ],
              "query": [
                {
                  "key": "limit",
                  "value": "",
                  "description": "Limit",
                  "disabled": true
                },
                {
                  "key": "start_date",
                  "value": "",
                  "description": "Start Date",
                  "disabled": true
                },
                {
                  "key": "end_date",
                  "value": "",
                  "description": "End Date",
                  "disabled": true
                },
                {
                  "key": "sort_order",
                  "value": "",
                  "description": "Sort Order",
                  "disabled": true
                },
                {
                  "key": "cursor",
                  "value": "",
                  "description": "Cursor",
                  "disabled": true
                }
              ]
            },
            "description": "Get all balances by account id"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  "",
                  "// Validate required variables",
                  "",
                  "if (!pm.environment.get(\"organizationId\")) {",
                  "  console.log(\"Warning: organizationId is not set. This request may fail.\");",
                  "}",
                  "if (!pm.environment.get(\"ledgerId\")) {",
                  "  console.log(\"Warning: ledgerId is not set. This request may fail.\");",
                  "}",
                  "if (!pm.environment.get(\"accountId\")) {",
                  "  console.log(\"Warning: accountId is not set. This request may fail.\");",
                  "}"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  "",
                  "// Extract variables from response for use in subsequent requests",
                  "",
                  "try {",
                  "  var jsonData = pm.response.json();",
                  "  // Check if this is a transaction response with operations",
                  "  if (jsonData && jsonData.operations && jsonData.operations.length > 0 && jsonData.operations[0].balanceId) {",
                  "    // Find the destination operation (the one with account in the 'destination' array)",
                  "    var destinationOp = null;",
                  "    if (jsonData.destination && jsonData.destination.length > 0) {",
                  "      const destAccount = jsonData.destination[0];",
                  "      destinationOp = jsonData.operations.find(op => op.accountAlias === destAccount);",
                  "    }",
                  "    ",
                  "    // If we couldn't find by alias, try to find a CREDIT operation (usually the destination)",
                  "    if (!destinationOp) {",
                  "      destinationOp = jsonData.operations.find(op => op.type === 'CREDIT');",
                  "    }",
                  "    ",
                  "    // If we still couldn't find it, use the first operation",
                  "    if (!destinationOp && jsonData.operations.length > 0) {",
                  "      destinationOp = jsonData.operations[0];",
                  "    }",
                  "    ",
                  "    if (destinationOp && destinationOp.balanceId) {",
                  "      pm.environment.set(\"balanceId\", destinationOp.balanceId);",
                  "      console.log(\"balanceId set to: \" + destinationOp.balanceId);",
                  "    }",
                  "  }",
                  "  // Check if response is an array with at least one item",
                  "  else if (Array.isArray(jsonData) && jsonData.length > 0 && jsonData[0].id) {",
                  "    pm.environment.set(\"balanceId\", jsonData[0].id);",
                  "    console.log(\"balanceId set to: \" + jsonData[0].id);",
                  "  } ",
                  "  // Check if response has a data array with at least one item",
                  "  else if (jsonData && Array.isArray(jsonData.data) && jsonData.data.length > 0 && jsonData.data[0].id) {",
                  "    pm.environment.set(\"balanceId\", jsonData.data[0].id);",
                  "    console.log(\"balanceId set to: \" + jsonData.data[0].id);",
                  "  }",
                  "} catch (error) {",
                  "  console.error(\"Failed to extract balanceId: \", error);",
                  "}"
                ]
              }
            }
          ]
        },
        {
          "name": "Get all balances",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/balances",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "balances"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                }
              ],
              "query": [
                {
                  "key": "limit",
                  "value": "",
                  "description": "Limit",
                  "disabled": true
                },
                {
                  "key": "start_date",
                  "value": "",
                  "description": "Start Date",
                  "disabled": true
                },
                {
                  "key": "end_date",
                  "value": "",
                  "description": "End Date",
                  "disabled": true
                },
                {
                  "key": "sort_order",
                  "value": "",
                  "description": "Sort Order",
                  "disabled": true
                },
                {
                  "key": "cursor",
                  "value": "",
                  "description": "Cursor",
                  "disabled": true
                }
              ]
            },
            "description": "Get all balances"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Get Balance by id",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/balances/{{balanceId}}",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "balances",
                "{{balanceId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                },
                {
                  "key": "balance_id",
                  "value": "{{balanceId}}",
                  "description": "Balance ID"
                }
              ]
            },
            "description": "Get a Balance with the input ID"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Delete Balance by account",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/balances/{{balanceId}}",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "balances",
                "{{balanceId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                },
                {
                  "key": "balance_id",
                  "value": "{{balanceId}}",
                  "description": "Balance ID"
                }
              ]
            },
            "description": "Delete a Balance with the input ID"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Update Balance",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/balances/{{balanceId}}",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "balances",
                "{{balanceId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                },
                {
                  "key": "balance_id",
                  "value": "{{balanceId}}",
                  "description": "Balance ID"
                }
              ]
            },
            "description": "Update a Balance with the input payload",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"allowReceiving\": true,\n  \"allowSending\": true\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        }
      ]
    },
    {
      "name": "Operations",
      "description": "Endpoints for managing operations, which are the individual debit and credit entries that make up a transaction.",
      "item": [
        {
          "name": "Get all Operations by account",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts/{{accountId}}/operations",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "accounts",
                "{{accountId}}",
                "operations"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                },
                {
                  "key": "account_id",
                  "value": "{{accountId}}",
                  "description": "Account ID"
                }
              ],
              "query": [
                {
                  "key": "limit",
                  "value": "",
                  "description": "Limit",
                  "disabled": true
                },
                {
                  "key": "start_date",
                  "value": "",
                  "description": "Start Date",
                  "disabled": true
                },
                {
                  "key": "end_date",
                  "value": "",
                  "description": "End Date",
                  "disabled": true
                },
                {
                  "key": "sort_order",
                  "value": "",
                  "description": "Sort Order",
                  "disabled": true
                },
                {
                  "key": "cursor",
                  "value": "",
                  "description": "Cursor",
                  "disabled": true
                },
                {
                  "key": "type",
                  "value": "",
                  "description": "DEBIT, CREDIT",
                  "disabled": true
                }
              ]
            },
            "description": "Get all Operations with the input ID"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Get an Operation by account",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/accounts/{{accountId}}/operations/{{operationId}}",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "accounts",
                "{{accountId}}",
                "operations",
                "{{operationId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                },
                {
                  "key": "account_id",
                  "value": "{{accountId}}",
                  "description": "Account ID"
                },
                {
                  "key": "operation_id",
                  "value": "{{operationId}}",
                  "description": "Operation ID"
                }
              ]
            },
            "description": "Get an Operation with the input ID"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Update an Operation",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/transactions/{{transactionId}}/operations/{{operationId}}",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "transactions",
                "{{transactionId}}",
                "operations",
                "{{operationId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                },
                {
                  "key": "transaction_id",
                  "value": "{{transactionId}}",
                  "description": "Transaction ID"
                },
                {
                  "key": "operation_id",
                  "value": "{{operationId}}",
                  "description": "Operation ID"
                }
              ]
            },
            "description": "Update an Operation with the input payload",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"description\": \"Credit card operation\",\n  \"metadata\": {\n    \"key\": \"value\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        }
      ]
    },
    {
      "name": "Transactions",
      "description": "Endpoints for managing transactions, which represent the movement of value between accounts.",
      "item": [
        {
          "name": "Get all Transactions",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/transactions",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "transactions"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                }
              ],
              "query": [
                {
                  "key": "limit",
                  "value": "",
                  "description": "Limit",
                  "disabled": true
                },
                {
                  "key": "start_date",
                  "value": "",
                  "description": "Start Date",
                  "disabled": true
                },
                {
                  "key": "end_date",
                  "value": "",
                  "description": "End Date",
                  "disabled": true
                },
                {
                  "key": "sort_order",
                  "value": "",
                  "description": "Sort Order",
                  "disabled": true
                },
                {
                  "key": "cursor",
                  "value": "",
                  "description": "Cursor",
                  "disabled": true
                }
              ]
            },
            "description": "Get all Transactions with the input metadata or without metadata"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Create a Transaction using DSL",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              },
              {
                "key": "X-Idempotency",
                "value": "{{idempotencyKey}}",
                "description": "Unique key to prevent duplicate transactions",
                "disabled": false
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/transactions/dsl",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "transactions",
                "dsl"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                }
              ]
            },
            "description": "Create a Transaction with the input DSL file"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "// Generate a unique idempotency key for this transaction",
                  "const timestamp = new Date().getTime();",
                  "const random = Math.floor(Math.random() * 1000000);",
                  "const stepId = pm.variables.get(\"$guid\") || \"\";",
                  "pm.environment.set(\"idempotencyKey\", timestamp + \"-\" + random + \"-\" + stepId.slice(0, 8));",
                  "console.log(\"Generated idempotency key:\", pm.environment.get(\"idempotencyKey\"));",
                  "",
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([400, 422]); // DSL endpoint requires proper DSL format",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Create a Transaction without passing from source",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/transactions/inflow",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "transactions",
                "inflow"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                }
              ]
            },
            "description": "Create a Transaction with the input payload",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"chartOfAccountsGroupName\": \"Example chartOfAccountsGroupName\",\n  \"code\": \"Example code\",\n  \"description\": \"Example description\",\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"send\": {\n    \"asset\": \"USD\",\n    \"distribute\": {\n      \"to\": [\n        {\n          \"account\": \"{{accountAlias}}\",\n          \"amount\": {\n            \"asset\": \"USD\",\n            \"scale\": 2,\n            \"value\": 100\n          },\n          \"chartOfAccounts\": \"Example chartOfAccounts\",\n          \"description\": \"Example description\",\n          \"metadata\": {\n            \"key\": \"value\"\n          }\n        }\n      ]\n    },\n    \"scale\": 2,\n    \"value\": 100\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Create a Transaction using JSON",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              },
              {
                "key": "X-Idempotency",
                "value": "{{idempotencyKey}}",
                "description": "Unique key to prevent duplicate transactions",
                "disabled": false
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/transactions/json",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "transactions",
                "json"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                }
              ]
            },
            "description": "Create a Transaction with the input payload",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"chartOfAccountsGroupName\": \"Example chartOfAccountsGroupName\",\n  \"code\": \"Example code\",\n  \"description\": \"Example description\",\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"send\": {\n    \"asset\": \"USD\",\n    \"distribute\": {\n      \"to\": [\n        {\n          \"account\": \"{{accountAlias}}\",\n          \"amount\": {\n            \"asset\": \"USD\",\n            \"value\": 100\n          },\n          \"chartOfAccounts\": \"Example chartOfAccounts\",\n          \"description\": \"Example description\",\n          \"metadata\": {\n            \"key\": \"value\"\n          }\n        }\n      ]\n    },\n    \"source\": {\n      \"from\": [\n        {\n          \"account\": \"@external/USD\",\n          \"amount\": {\n            \"asset\": \"USD\",\n            \"value\": 100\n          },\n          \"chartOfAccounts\": \"Example chartOfAccounts\",\n          \"description\": \"Example description\",\n          \"metadata\": {\n            \"key\": \"value\"\n          }\n        }\n      ]\n    },\n    \"value\": 100\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "// Generate a unique idempotency key for this transaction",
                  "const timestamp = new Date().getTime();",
                  "const random = Math.floor(Math.random() * 1000000);",
                  "const stepId = pm.variables.get(\"$guid\") || \"\";",
                  "pm.environment.set(\"idempotencyKey\", timestamp + \"-\" + random + \"-\" + stepId.slice(0, 8));",
                  "console.log(\"Generated idempotency key:\", pm.environment.get(\"idempotencyKey\"));",
                  "",
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  "",
                  "// Validate required variables",
                  "",
                  "if (!pm.environment.get(\"organizationId\")) {",
                  "  console.log(\"Warning: organizationId is not set. This request may fail.\");",
                  "}",
                  "if (!pm.environment.get(\"ledgerId\")) {",
                  "  console.log(\"Warning: ledgerId is not set. This request may fail.\");",
                  "}"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  "",
                  "// Extract variables from response for use in subsequent requests",
                  "",
                  "try {",
                  "  var jsonData = pm.response.json();",
                  "  if (jsonData && jsonData.id) {",
                  "    pm.environment.set(\"transactionId\", jsonData.id);",
                  "    console.log(\"transactionId set to: \" + jsonData.id);",
                  "  }",
                  "} catch (error) {",
                  "  console.error(\"Failed to extract transactionId: \", error);",
                  "}",
                  "try {",
                  "  var jsonData = pm.response.json();",
                  "  // Check if this is a transaction response with operations",
                  "  if (jsonData && jsonData.operations && jsonData.operations.length > 0 && jsonData.operations[0].balanceId) {",
                  "    // Find the destination operation (the one with account in the 'destination' array)",
                  "    var destinationOp = null;",
                  "    if (jsonData.destination && jsonData.destination.length > 0) {",
                  "      const destAccount = jsonData.destination[0];",
                  "      destinationOp = jsonData.operations.find(op => op.accountAlias === destAccount);",
                  "    }",
                  "    ",
                  "    // If we couldn't find by alias, try to find a CREDIT operation (usually the destination)",
                  "    if (!destinationOp) {",
                  "      destinationOp = jsonData.operations.find(op => op.type === 'CREDIT');",
                  "    }",
                  "    ",
                  "    // If we still couldn't find it, use the first operation",
                  "    if (!destinationOp && jsonData.operations.length > 0) {",
                  "      destinationOp = jsonData.operations[0];",
                  "    }",
                  "    ",
                  "    if (destinationOp && destinationOp.balanceId) {",
                  "      pm.environment.set(\"balanceId\", destinationOp.balanceId);",
                  "      console.log(\"balanceId set to: \" + destinationOp.balanceId);",
                  "    }",
                  "  }",
                  "  // Check if response is an array with at least one item",
                  "  else if (Array.isArray(jsonData) && jsonData.length > 0 && jsonData[0].id) {",
                  "    pm.environment.set(\"balanceId\", jsonData[0].id);",
                  "    console.log(\"balanceId set to: \" + jsonData[0].id);",
                  "  } ",
                  "  // Check if response has a data array with at least one item",
                  "  else if (jsonData && Array.isArray(jsonData.data) && jsonData.data.length > 0 && jsonData.data[0].id) {",
                  "    pm.environment.set(\"balanceId\", jsonData.data[0].id);",
                  "    console.log(\"balanceId set to: \" + jsonData.data[0].id);",
                  "  }",
                  "} catch (error) {",
                  "  console.error(\"Failed to extract balanceId: \", error);",
                  "}",
                  "try {",
                  "  var jsonData = pm.response.json();",
                  "  // Check if this is a transaction response with operations",
                  "  if (jsonData && jsonData.operations && Array.isArray(jsonData.operations) && jsonData.operations.length > 0) {",
                  "    var operationToUse = null;",
                  "    ",
                  "    // Try multiple strategies to find the right operation",
                  "    // Strategy 1: Find destination operation based on account alias",
                  "    if (jsonData.destination && Array.isArray(jsonData.destination) && jsonData.destination.length > 0) {",
                  "      const destAccount = jsonData.destination[0];",
                  "      operationToUse = jsonData.operations.find(op => ",
                  "        op.accountAlias === destAccount || ",
                  "        op.account === destAccount ||",
                  "        (op.accountId && pm.environment.get(\"accountId\") && op.accountId === pm.environment.get(\"accountId\"))",
                  "      );",
                  "    }",
                  "    ",
                  "    // Strategy 2: Find CREDIT operation (usually the destination in double-entry)",
                  "    if (!operationToUse) {",
                  "      operationToUse = jsonData.operations.find(op => op.type === 'CREDIT');",
                  "    }",
                  "    ",
                  "    // Strategy 3: Find operation with non-zero positive amount",
                  "    if (!operationToUse) {",
                  "      operationToUse = jsonData.operations.find(op => ",
                  "        op.amount && typeof op.amount === 'object' && op.amount.value > 0",
                  "      );",
                  "    }",
                  "    ",
                  "    // Strategy 4: Use the first operation with valid ID",
                  "    if (!operationToUse) {",
                  "      operationToUse = jsonData.operations.find(op => op.id && op.id.length > 0);",
                  "    }",
                  "    ",
                  "    // Strategy 5: Just use the first operation",
                  "    if (!operationToUse && jsonData.operations.length > 0) {",
                  "      operationToUse = jsonData.operations[0];",
                  "    }",
                  "    ",
                  "    if (operationToUse && operationToUse.id) {",
                  "      pm.environment.set(\"operationId\", operationToUse.id);",
                  "      console.log(\"operationId set to: \" + operationToUse.id + \" (from operation: \" + JSON.stringify(operationToUse) + \")\");",
                  "    } else {",
                  "      console.warn(\"No valid operation found for operationId extraction. Operations: \" + JSON.stringify(jsonData.operations));",
                  "    }",
                  "  } else {",
                  "    console.warn(\"No operations array found in response for operationId extraction. Response: \" + JSON.stringify(jsonData));",
                  "  }",
                  "} catch (error) {",
                  "  console.error(\"Failed to extract operationId: \", error);",
                  "  console.error(\"Response data: \", pm.response.text());",
                  "}"
                ]
              }
            }
          ]
        },
        {
          "name": "Create a Transaction without passing to distribution",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/transactions/outflow",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "transactions",
                "outflow"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                }
              ]
            },
            "description": "Create a Transaction with the input payload",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"chartOfAccountsGroupName\": \"Example chartOfAccountsGroupName\",\n  \"code\": \"Example code\",\n  \"description\": \"Example description\",\n  \"metadata\": {\n    \"key\": \"value\"\n  },\n  \"send\": {\n    \"asset\": \"USD\",\n    \"source\": {\n      \"from\": [\n        {\n          \"account\": \"{{accountAlias}}\",\n          \"amount\": {\n            \"asset\": \"USD\",\n            \"value\": 100\n          },\n          \"chartOfAccounts\": \"Example chartOfAccounts\",\n          \"description\": \"Example description\",\n          \"metadata\": {\n            \"key\": \"value\"\n          }\n        }\n      ]\n    },\n    \"value\": 100\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Get a Transaction by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/transactions/{{transactionId}}",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "transactions",
                "{{transactionId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                },
                {
                  "key": "transaction_id",
                  "value": "{{transactionId}}",
                  "description": "Transaction ID"
                }
              ]
            },
            "description": "Get a Transaction with the input ID"
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        },
        {
          "name": "Update a Transaction",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "description": "Authorization Bearer Token",
                "disabled": false
              },
              {
                "key": "X-Request-Id",
                "value": "{{$guid}}",
                "description": "Request ID",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{transactionUrl}}/v1/organizations/{{organizationId}}/ledgers/{{ledgerId}}/transactions/{{transactionId}}",
              "host": [
                "{{transactionUrl}}"
              ],
              "path": [
                "v1",
                "organizations",
                "{{organizationId}}",
                "ledgers",
                "{{ledgerId}}",
                "transactions",
                "{{transactionId}}"
              ],
              "variable": [
                {
                  "key": "organization_id",
                  "value": "{{organizationId}}",
                  "description": "Organization ID"
                },
                {
                  "key": "ledger_id",
                  "value": "{{ledgerId}}",
                  "description": "Ledger ID"
                },
                {
                  "key": "transaction_id",
                  "value": "{{transactionId}}",
                  "description": "Transaction ID"
                }
              ]
            },
            "description": "Update a Transaction with the input payload",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"description\": \"Transaction description\",\n  \"metadata\": {\n    \"key\": \"value\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Check for auth token",
                  "if (!pm.environment.get(\"authToken\")) {",
                  "  console.log(\"Warning: authToken is not set in the environment\");",
                  "}",
                  "",
                  "// Set authorization header if it exists",
                  "if (pm.environment.get(\"authToken\")) {",
                  "  pm.request.headers.upsert({",
                  "    key: \"Authorization\",",
                  "    value: \"Bearer \" + pm.environment.get(\"authToken\")",
                  "  });",
                  "}",
                  "",
                  "// Set request ID for tracing",
                  "pm.request.headers.upsert({",
                  "  key: \"X-Request-Id\",",
                  "  value: pm.variables.replaceIn(\"{{$guid}}\")",
                  "});",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "",
                  "// Test for successful response status",
                  "if (pm.request.method === \"POST\") {",
                  "  pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "  });",
                  "} else if (pm.request.method === \"DELETE\") {",
                  "  pm.test(\"Status code is 204 No Content\", function () {",
                  "    pm.expect(pm.response.code).to.equal(204);",
                  "  });",
                  "} else {",
                  "  pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "  });",
                  "}",
                  "",
                  "// Validate response has the expected format",
                  "pm.test(\"Response has the correct structure\", function() {",
                  "  // For DELETE operations that return 204 No Content, the body is empty by design",
                  "  if (pm.response.code === 204) {",
                  "    pm.expect(true).to.be.true; // Always pass for 204 responses",
                  "    return;",
                  "  }",
                  "  ",
                  "  // For responses with content, validate JSON structure",
                  "  pm.response.to.be.json;",
                  "  ",
                  "  // Add specific validation based on response schema here",
                  "});",
                  ""
                ]
              }
            }
          ]
        }
      ]
    }
  ],
  "variable": [
    {
      "key": "environment",
      "value": "MIDAZ",
      "type": "string",
      "description": "This collection requires the MIDAZ environment to be selected for proper functionality."
    }
  ]
}